(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var vd={exports:{}},cl={};var S_;function lS(){if(S_)return cl;S_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:a,type:s,key:d,ref:l!==void 0?l:null,props:c}}return cl.Fragment=t,cl.jsx=i,cl.jsxs=i,cl}var b_;function uS(){return b_||(b_=1,vd.exports=lS()),vd.exports}var Qt=uS(),Ed={exports:{}},_t={};var w_;function cS(){if(w_)return _t;w_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),D=Symbol.iterator;function j(V){return V===null||typeof V!="object"?null:(V=D&&V[D]||V["@@iterator"],typeof V=="function"?V:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,J={};function nt(V,Y,et){this.props=V,this.context=Y,this.refs=J,this.updater=et||F}nt.prototype.isReactComponent={},nt.prototype.setState=function(V,Y){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Y,"setState")},nt.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function ht(){}ht.prototype=nt.prototype;function dt(V,Y,et){this.props=V,this.context=Y,this.refs=J,this.updater=et||F}var xt=dt.prototype=new ht;xt.constructor=dt,$(xt,nt.prototype),xt.isPureReactComponent=!0;var Kt=Array.isArray;function Nt(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function I(V,Y,et){var st=et.ref;return{$$typeof:a,type:V,key:Y,ref:st!==void 0?st:null,props:et}}function M(V,Y){return I(V.type,Y,V.props)}function N(V){return typeof V=="object"&&V!==null&&V.$$typeof===a}function x(V){var Y={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(et){return Y[et]})}var w=/\/+/g;function ie(V,Y){return typeof V=="object"&&V!==null&&V.key!=null?x(""+V.key):Y.toString(36)}function Ie(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Nt,Nt):(V.status="pending",V.then(function(Y){V.status==="pending"&&(V.status="fulfilled",V.value=Y)},function(Y){V.status==="pending"&&(V.status="rejected",V.reason=Y)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function G(V,Y,et,st,pt){var At=typeof V;(At==="undefined"||At==="boolean")&&(V=null);var Mt=!1;if(V===null)Mt=!0;else switch(At){case"bigint":case"string":case"number":Mt=!0;break;case"object":switch(V.$$typeof){case a:case t:Mt=!0;break;case A:return Mt=V._init,G(Mt(V._payload),Y,et,st,pt)}}if(Mt)return pt=pt(V),Mt=st===""?"."+ie(V,0):st,Kt(pt)?(et="",Mt!=null&&(et=Mt.replace(w,"$&/")+"/"),G(pt,Y,et,"",function(Jr){return Jr})):pt!=null&&(N(pt)&&(pt=M(pt,et+(pt.key==null||V&&V.key===pt.key?"":(""+pt.key).replace(w,"$&/")+"/")+Mt)),Y.push(pt)),1;Mt=0;var Ce=st===""?".":st+":";if(Kt(V))for(var re=0;re<V.length;re++)st=V[re],At=Ce+ie(st,re),Mt+=G(st,Y,et,At,pt);else if(re=j(V),typeof re=="function")for(V=re.call(V),re=0;!(st=V.next()).done;)st=st.value,At=Ce+ie(st,re++),Mt+=G(st,Y,et,At,pt);else if(At==="object"){if(typeof V.then=="function")return G(Ie(V),Y,et,st,pt);throw Y=String(V),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Mt}function tt(V,Y,et){if(V==null)return V;var st=[],pt=0;return G(V,st,"","",function(At){return Y.call(et,At,pt++)}),st}function ct(V){if(V._status===-1){var Y=V._result;Y=Y(),Y.then(function(et){(V._status===0||V._status===-1)&&(V._status=1,V._result=et)},function(et){(V._status===0||V._status===-1)&&(V._status=2,V._result=et)}),V._status===-1&&(V._status=0,V._result=Y)}if(V._status===1)return V._result.default;throw V._result}var Lt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},jt={map:tt,forEach:function(V,Y,et){tt(V,function(){Y.apply(this,arguments)},et)},count:function(V){var Y=0;return tt(V,function(){Y++}),Y},toArray:function(V){return tt(V,function(Y){return Y})||[]},only:function(V){if(!N(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return _t.Activity=S,_t.Children=jt,_t.Component=nt,_t.Fragment=i,_t.Profiler=l,_t.PureComponent=dt,_t.StrictMode=s,_t.Suspense=y,_t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,_t.__COMPILER_RUNTIME={__proto__:null,c:function(V){return C.H.useMemoCache(V)}},_t.cache=function(V){return function(){return V.apply(null,arguments)}},_t.cacheSignal=function(){return null},_t.cloneElement=function(V,Y,et){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var st=$({},V.props),pt=V.key;if(Y!=null)for(At in Y.key!==void 0&&(pt=""+Y.key),Y)!b.call(Y,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&Y.ref===void 0||(st[At]=Y[At]);var At=arguments.length-2;if(At===1)st.children=et;else if(1<At){for(var Mt=Array(At),Ce=0;Ce<At;Ce++)Mt[Ce]=arguments[Ce+2];st.children=Mt}return I(V.type,pt,st)},_t.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},_t.createElement=function(V,Y,et){var st,pt={},At=null;if(Y!=null)for(st in Y.key!==void 0&&(At=""+Y.key),Y)b.call(Y,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(pt[st]=Y[st]);var Mt=arguments.length-2;if(Mt===1)pt.children=et;else if(1<Mt){for(var Ce=Array(Mt),re=0;re<Mt;re++)Ce[re]=arguments[re+2];pt.children=Ce}if(V&&V.defaultProps)for(st in Mt=V.defaultProps,Mt)pt[st]===void 0&&(pt[st]=Mt[st]);return I(V,At,pt)},_t.createRef=function(){return{current:null}},_t.forwardRef=function(V){return{$$typeof:p,render:V}},_t.isValidElement=N,_t.lazy=function(V){return{$$typeof:A,_payload:{_status:-1,_result:V},_init:ct}},_t.memo=function(V,Y){return{$$typeof:v,type:V,compare:Y===void 0?null:Y}},_t.startTransition=function(V){var Y=C.T,et={};C.T=et;try{var st=V(),pt=C.S;pt!==null&&pt(et,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(Nt,Lt)}catch(At){Lt(At)}finally{Y!==null&&et.types!==null&&(Y.types=et.types),C.T=Y}},_t.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},_t.use=function(V){return C.H.use(V)},_t.useActionState=function(V,Y,et){return C.H.useActionState(V,Y,et)},_t.useCallback=function(V,Y){return C.H.useCallback(V,Y)},_t.useContext=function(V){return C.H.useContext(V)},_t.useDebugValue=function(){},_t.useDeferredValue=function(V,Y){return C.H.useDeferredValue(V,Y)},_t.useEffect=function(V,Y){return C.H.useEffect(V,Y)},_t.useEffectEvent=function(V){return C.H.useEffectEvent(V)},_t.useId=function(){return C.H.useId()},_t.useImperativeHandle=function(V,Y,et){return C.H.useImperativeHandle(V,Y,et)},_t.useInsertionEffect=function(V,Y){return C.H.useInsertionEffect(V,Y)},_t.useLayoutEffect=function(V,Y){return C.H.useLayoutEffect(V,Y)},_t.useMemo=function(V,Y){return C.H.useMemo(V,Y)},_t.useOptimistic=function(V,Y){return C.H.useOptimistic(V,Y)},_t.useReducer=function(V,Y,et){return C.H.useReducer(V,Y,et)},_t.useRef=function(V){return C.H.useRef(V)},_t.useState=function(V){return C.H.useState(V)},_t.useSyncExternalStore=function(V,Y,et){return C.H.useSyncExternalStore(V,Y,et)},_t.useTransition=function(){return C.H.useTransition()},_t.version="19.2.3",_t}var R_;function um(){return R_||(R_=1,Ed.exports=cS()),Ed.exports}var Qi=um(),Td={exports:{}},hl={},Ad={exports:{}},Sd={};var I_;function hS(){return I_||(I_=1,(function(a){function t(G,tt){var ct=G.length;G.push(tt);t:for(;0<ct;){var Lt=ct-1>>>1,jt=G[Lt];if(0<l(jt,tt))G[Lt]=tt,G[ct]=jt,ct=Lt;else break t}}function i(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var tt=G[0],ct=G.pop();if(ct!==tt){G[0]=ct;t:for(var Lt=0,jt=G.length,V=jt>>>1;Lt<V;){var Y=2*(Lt+1)-1,et=G[Y],st=Y+1,pt=G[st];if(0>l(et,ct))st<jt&&0>l(pt,et)?(G[Lt]=pt,G[st]=ct,Lt=st):(G[Lt]=et,G[Y]=ct,Lt=Y);else if(st<jt&&0>l(pt,ct))G[Lt]=pt,G[st]=ct,Lt=st;else break t}}return tt}function l(G,tt){var ct=G.sortIndex-tt.sortIndex;return ct!==0?ct:G.id-tt.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();a.unstable_now=function(){return d.now()-p}}var y=[],v=[],A=1,S=null,D=3,j=!1,F=!1,$=!1,J=!1,nt=typeof setTimeout=="function"?setTimeout:null,ht=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function xt(G){for(var tt=i(v);tt!==null;){if(tt.callback===null)s(v);else if(tt.startTime<=G)s(v),tt.sortIndex=tt.expirationTime,t(y,tt);else break;tt=i(v)}}function Kt(G){if($=!1,xt(G),!F)if(i(y)!==null)F=!0,Nt||(Nt=!0,x());else{var tt=i(v);tt!==null&&Ie(Kt,tt.startTime-G)}}var Nt=!1,C=-1,b=5,I=-1;function M(){return J?!0:!(a.unstable_now()-I<b)}function N(){if(J=!1,Nt){var G=a.unstable_now();I=G;var tt=!0;try{t:{F=!1,$&&($=!1,ht(C),C=-1),j=!0;var ct=D;try{e:{for(xt(G),S=i(y);S!==null&&!(S.expirationTime>G&&M());){var Lt=S.callback;if(typeof Lt=="function"){S.callback=null,D=S.priorityLevel;var jt=Lt(S.expirationTime<=G);if(G=a.unstable_now(),typeof jt=="function"){S.callback=jt,xt(G),tt=!0;break e}S===i(y)&&s(y),xt(G)}else s(y);S=i(y)}if(S!==null)tt=!0;else{var V=i(v);V!==null&&Ie(Kt,V.startTime-G),tt=!1}}break t}finally{S=null,D=ct,j=!1}tt=void 0}}finally{tt?x():Nt=!1}}}var x;if(typeof dt=="function")x=function(){dt(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ie=w.port2;w.port1.onmessage=N,x=function(){ie.postMessage(null)}}else x=function(){nt(N,0)};function Ie(G,tt){C=nt(function(){G(a.unstable_now())},tt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(G){G.callback=null},a.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},a.unstable_getCurrentPriorityLevel=function(){return D},a.unstable_next=function(G){switch(D){case 1:case 2:case 3:var tt=3;break;default:tt=D}var ct=D;D=tt;try{return G()}finally{D=ct}},a.unstable_requestPaint=function(){J=!0},a.unstable_runWithPriority=function(G,tt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ct=D;D=G;try{return tt()}finally{D=ct}},a.unstable_scheduleCallback=function(G,tt,ct){var Lt=a.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Lt+ct:Lt):ct=Lt,G){case 1:var jt=-1;break;case 2:jt=250;break;case 5:jt=1073741823;break;case 4:jt=1e4;break;default:jt=5e3}return jt=ct+jt,G={id:A++,callback:tt,priorityLevel:G,startTime:ct,expirationTime:jt,sortIndex:-1},ct>Lt?(G.sortIndex=ct,t(v,G),i(y)===null&&G===i(v)&&($?(ht(C),C=-1):$=!0,Ie(Kt,ct-Lt))):(G.sortIndex=jt,t(y,G),F||j||(F=!0,Nt||(Nt=!0,x()))),G},a.unstable_shouldYield=M,a.unstable_wrapCallback=function(G){var tt=D;return function(){var ct=D;D=tt;try{return G.apply(this,arguments)}finally{D=ct}}}})(Sd)),Sd}var C_;function fS(){return C_||(C_=1,Ad.exports=hS()),Ad.exports}var bd={exports:{}},Qe={};var D_;function dS(){if(D_)return Qe;D_=1;var a=um();function t(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,v,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:y,containerInfo:v,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qe.createPortal=function(y,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return c(y,v,null,A)},Qe.flushSync=function(y){var v=d.T,A=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=v,s.p=A,s.d.f()}},Qe.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(y,v))},Qe.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Qe.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var A=v.as,S=p(A,v.crossOrigin),D=typeof v.integrity=="string"?v.integrity:void 0,j=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?s.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:S,integrity:D,fetchPriority:j}):A==="script"&&s.d.X(y,{crossOrigin:S,integrity:D,fetchPriority:j,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Qe.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=p(v.as,v.crossOrigin);s.d.M(y,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(y)},Qe.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,S=p(A,v.crossOrigin);s.d.L(y,A,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Qe.preloadModule=function(y,v){if(typeof y=="string")if(v){var A=p(v.as,v.crossOrigin);s.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(y)},Qe.requestFormReset=function(y){s.d.r(y)},Qe.unstable_batchedUpdates=function(y,v){return y(v)},Qe.useFormState=function(y,v,A){return d.H.useFormState(y,v,A)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.2.3",Qe}var O_;function mS(){if(O_)return bd.exports;O_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),bd.exports=dS(),bd.exports}var N_;function gS(){if(N_)return hl;N_=1;var a=fS(),t=um(),i=mS();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(s(188))}function v(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(s(188))}if(r.return!==o.return)r=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===r){g=!0,r=h,o=f;break}if(E===o){g=!0,o=h,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,o=h;break}if(E===o){g=!0,o=f,r=h;break}E=E.sibling}if(!g)throw Error(s(189))}}if(r.alternate!==o)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,D=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),nt=Symbol.for("react.profiler"),ht=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),xt=Symbol.for("react.forward_ref"),Kt=Symbol.for("react.suspense"),Nt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function x(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $:return"Fragment";case nt:return"Profiler";case J:return"StrictMode";case Kt:return"Suspense";case Nt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case F:return"Portal";case dt:return e.displayName||"Context";case ht:return(e._context.displayName||"Context")+".Consumer";case xt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:ie(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return ie(e(n))}catch{}}return null}var Ie=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Lt=[],jt=-1;function V(e){return{current:e}}function Y(e){0>jt||(e.current=Lt[jt],Lt[jt]=null,jt--)}function et(e,n){jt++,Lt[jt]=e.current,e.current=n}var st=V(null),pt=V(null),At=V(null),Mt=V(null);function Ce(e,n){switch(et(At,n),et(pt,e),et(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Qy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Qy(n),e=Ky(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(st),et(st,e)}function re(){Y(st),Y(pt),Y(At)}function Jr(e){e.memoizedState!==null&&et(Mt,e);var n=st.current,r=Ky(n,e.type);n!==r&&(et(pt,e),et(st,r))}function Gs(e){pt.current===e&&(Y(st),Y(pt)),Mt.current===e&&(Y(Mt),al._currentValue=ct)}var Fs,Qs;function Jn(e){if(Fs===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Fs=n&&n[1]||"",Qs=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fs+e+Qs}var so=!1;function $r(e,n){if(!e||so)return"";so=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var z=q}Reflect.construct(e,[],K)}else{try{K.call()}catch(q){z=q}e.call(K.prototype)}}else{try{throw Error()}catch(q){z=q}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),P=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===P.length)for(o=R.length-1,h=P.length-1;1<=o&&0<=h&&R[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==P[h]){var H=`
`+R[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=h);break}}}finally{so=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Jn(r):""}function ao(e,n){switch(e.tag){case 26:case 27:case 5:return Jn(e.type);case 16:return Jn("Lazy");case 13:return e.child!==n&&n!==null?Jn("Suspense Fallback"):Jn("Suspense");case 19:return Jn("SuspenseList");case 0:case 15:return $r(e.type,!1);case 11:return $r(e.type.render,!1);case 1:return $r(e.type,!0);case 31:return Jn("Activity");default:return""}}function oo(e){try{var n="",r=null;do n+=ao(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ge=Object.prototype.hasOwnProperty,De=a.unstable_scheduleCallback,nr=a.unstable_cancelCallback,Eh=a.unstable_shouldYield,Gl=a.unstable_requestPaint,Je=a.unstable_now,Wr=a.unstable_getCurrentPriorityLevel,lo=a.unstable_ImmediatePriority,uo=a.unstable_UserBlockingPriority,ir=a.unstable_NormalPriority,Th=a.unstable_LowPriority,Fl=a.unstable_IdlePriority,Ql=a.log,Kl=a.unstable_setDisableYieldValue,Un=null,ke=null;function vn(e){if(typeof Ql=="function"&&Kl(e),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(Un,e)}catch{}}var ce=Math.clz32?Math.clz32:Xl,Yl=Math.log,Ks=Math.LN2;function Xl(e){return e>>>=0,e===0?32:31-(Yl(e)/Ks|0)|0}var $n=256,ts=262144,pe=4194304;function Wn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ti(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Wn(o):(g&=E,g!==0?h=Wn(g):r||(r=E&~e,r!==0&&(h=Wn(r))))):(E=o&~f,E!==0?h=Wn(E):g!==0?h=Wn(g):r||(r=o&~e,r!==0&&(h=Wn(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function xn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ah(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zl(){var e=pe;return pe<<=1,(pe&62914560)===0&&(pe=4194304),e}function ei(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function es(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Sh(e,n,r,o,h,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,P=e.hiddenUpdates;for(r=g&~r;0<r;){var H=31-ce(r),K=1<<H;E[H]=0,R[H]=-1;var z=P[H];if(z!==null)for(P[H]=null,H=0;H<z.length;H++){var q=z[H];q!==null&&(q.lane&=-536870913)}r&=~K}o!==0&&ns(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function ns(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ce(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function co(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-ce(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function ho(e,n){var r=n&-n;return r=(r&42)!==0?1:is(r),(r&(e.suspendedLanes|n))!==0?0:r}function is(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ii(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Jl(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:p_(e.type))}function Ln(e,n){var r=tt.p;try{return tt.p=e,n()}finally{tt.p=r}}var kn=Math.random().toString(36).slice(2),ye="__reactFiber$"+kn,Me="__reactProps$"+kn,ni="__reactContainer$"+kn,Ys="__reactEvents$"+kn,bh="__reactListeners$"+kn,$l="__reactHandles$"+kn,Wl="__reactResources$"+kn,ii="__reactMarker$"+kn;function Xs(e){delete e[ye],delete e[Me],delete e[Ys],delete e[bh],delete e[$l]}function ri(e){var n=e[ye];if(n)return n;for(var r=e.parentNode;r;){if(n=r[ni]||r[ye]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=t_(e);e!==null;){if(r=e[ye])return r;e=t_(e)}return n}e=r,r=e.parentNode}return null}function En(e){if(e=e[ye]||e[ni]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function cn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function si(e){var n=e[Wl];return n||(n=e[Wl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _e(e){e[ii]=!0}var fo=new Set,mo={};function ai(e,n){oi(e,n),oi(e+"Capture",n)}function oi(e,n){for(mo[e]=n,e=0;e<n.length;e++)fo.add(n[e])}var go=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),po={},yo={};function tu(e){return ge.call(yo,e)?!0:ge.call(po,e)?!1:go.test(e)?yo[e]=!0:(po[e]=!0,!1)}function Zs(e,n,r){if(tu(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function hn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function ve(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function _o(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ht(e){if(!e._valueTracker){var n=rr(e)?"checked":"value";e._valueTracker=_o(e,n,""+e[n])}}function rs(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=rr(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function li(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ss=/[\n"\\]/g;function tn(e){return e.replace(ss,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Js(e,n,r,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ue(n)):e.value!==""+Ue(n)&&(e.value=""+Ue(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?vo(e,g,Ue(n)):r!=null?vo(e,g,Ue(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ue(E):e.removeAttribute("name")}function eu(e,n,r,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ht(e);return}r=r!=null?""+Ue(r):"",n=n!=null?""+Ue(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Ht(e)}function vo(e,n,r){n==="number"&&li(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function sr(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Ue(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function nu(e,n,r){if(n!=null&&(n=""+Ue(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Ue(r):""}function ar(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(s(92));if(Ie(o)){if(1<o.length)throw Error(s(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Ue(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Ht(e)}function en(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var iu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eo(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||iu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function To(e,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&Eo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Eo(e,f,n[f])}function $s(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ru=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),or=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ws(e){return or.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Pn(){}var Ao=null;function Tn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var lr=null,ui=null;function as(e){var n=En(e);if(n&&(e=n.stateNode)){var r=e[Me]||null;t:switch(e=n.stateNode,n.type){case"input":if(Js(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+tn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[Me]||null;if(!h)throw Error(s(90));Js(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&rs(o)}break t;case"textarea":nu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&sr(e,!!r.multiple,n,!1)}}}var ta=!1;function ur(e,n,r){if(ta)return e(n,r);ta=!0;try{var o=e(n);return o}finally{if(ta=!1,(lr!==null||ui!==null)&&(Ju(),lr&&(n=lr,e=ui,ui=lr=null,as(n),e)))for(n=0;n<e.length;n++)as(e[n])}}function zn(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Me]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),os=!1;if(An)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){os=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{os=!1}var ci=null,So=null,ls=null;function bo(){if(ls)return ls;var e,n=So,r=n.length,o,h="value"in ci?ci.value:ci.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var g=r-e;for(o=1;o<=g&&n[r-o]===h[f-o];o++);return ls=h.slice(e,1<o?1-o:void 0)}function us(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ci(){return!0}function Bn(){return!1}function Pe(e){function n(r,o,h,f,g){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ci:Bn,this.isPropagationStopped=Bn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ci)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ci)},persist:function(){},isPersistent:Ci}),n}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hi=Pe(Di),cr=S({},Di,{view:0,detail:0}),wo=Pe(cr),hr,ea,fi,na=S({},cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fi&&(fi&&e.type==="mousemove"?(hr=e.screenX-fi.screenX,ea=e.screenY-fi.screenY):ea=hr=0,fi=e),hr)},movementY:function(e){return"movementY"in e?e.movementY:ea}}),Ro=Pe(na),cs=S({},na,{dataTransfer:0}),su=Pe(cs),au=S({},cr,{relatedTarget:0}),hs=Pe(au),Io=S({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),ou=Pe(Io),ia=S({},Di,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lu=Pe(ia),uu=S({},Di,{data:0}),di=Pe(uu),cu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function du(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=fu[e])?!!n[e]:!1}function fr(){return du}var $e=S({},cr,{key:function(e){if(e.key){var n=cu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=us(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fr,charCode:function(e){return e.type==="keypress"?us(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?us(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mu=Pe($e),gu=S({},na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oi=Pe(gu),u=S({},cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fr}),m=Pe(u),_=S({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Pe(_),L=S({},na,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Pe(L),W=S({},Di,{newState:0,oldState:0}),Et=Pe(W),he=[9,13,27,32],zt=An&&"CompositionEvent"in window,se=null;An&&"documentMode"in document&&(se=document.documentMode);var Sn=An&&"TextEvent"in window&&!se,mi=An&&(!zt||se&&8<se&&11>=se),qn=" ",jn=!1;function fs(e,n){switch(e){case"keyup":return he.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ra(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sa=!1;function V0(e,n){switch(e){case"compositionend":return ra(n);case"keypress":return n.which!==32?null:(jn=!0,qn);case"textInput":return e=n.data,e===qn&&jn?null:e;default:return null}}function M0(e,n){if(sa)return e==="compositionend"||!zt&&fs(e,n)?(e=bo(),ls=So=ci=null,sa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return mi&&n.locale!=="ko"?null:n.data;default:return null}}var U0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ig(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!U0[e.type]:n==="textarea"}function rg(e,n,r,o){lr?ui?ui.push(o):ui=[o]:lr=o,n=rc(n,"onChange"),0<n.length&&(r=new hi("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Co=null,Do=null;function x0(e){By(e,0)}function pu(e){var n=cn(e);if(rs(n))return e}function sg(e,n){if(e==="change")return n}var ag=!1;if(An){var wh;if(An){var Rh="oninput"in document;if(!Rh){var og=document.createElement("div");og.setAttribute("oninput","return;"),Rh=typeof og.oninput=="function"}wh=Rh}else wh=!1;ag=wh&&(!document.documentMode||9<document.documentMode)}function lg(){Co&&(Co.detachEvent("onpropertychange",ug),Do=Co=null)}function ug(e){if(e.propertyName==="value"&&pu(Do)){var n=[];rg(n,Do,e,Tn(e)),ur(x0,n)}}function L0(e,n,r){e==="focusin"?(lg(),Co=n,Do=r,Co.attachEvent("onpropertychange",ug)):e==="focusout"&&lg()}function k0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pu(Do)}function P0(e,n){if(e==="click")return pu(n)}function z0(e,n){if(e==="input"||e==="change")return pu(n)}function B0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var fn=typeof Object.is=="function"?Object.is:B0;function Oo(e,n){if(fn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!ge.call(n,h)||!fn(e[h],n[h]))return!1}return!0}function cg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hg(e,n){var r=cg(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=cg(r)}}function fg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?fg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function dg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=li(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=li(e.document)}return n}function Ih(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var q0=An&&"documentMode"in document&&11>=document.documentMode,aa=null,Ch=null,No=null,Dh=!1;function mg(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Dh||aa==null||aa!==li(o)||(o=aa,"selectionStart"in o&&Ih(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),No&&Oo(No,o)||(No=o,o=rc(Ch,"onSelect"),0<o.length&&(n=new hi("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=aa)))}function ds(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var oa={animationend:ds("Animation","AnimationEnd"),animationiteration:ds("Animation","AnimationIteration"),animationstart:ds("Animation","AnimationStart"),transitionrun:ds("Transition","TransitionRun"),transitionstart:ds("Transition","TransitionStart"),transitioncancel:ds("Transition","TransitionCancel"),transitionend:ds("Transition","TransitionEnd")},Oh={},gg={};An&&(gg=document.createElement("div").style,"AnimationEvent"in window||(delete oa.animationend.animation,delete oa.animationiteration.animation,delete oa.animationstart.animation),"TransitionEvent"in window||delete oa.transitionend.transition);function ms(e){if(Oh[e])return Oh[e];if(!oa[e])return e;var n=oa[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in gg)return Oh[e]=n[r];return e}var pg=ms("animationend"),yg=ms("animationiteration"),_g=ms("animationstart"),j0=ms("transitionrun"),H0=ms("transitionstart"),G0=ms("transitioncancel"),vg=ms("transitionend"),Eg=new Map,Nh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nh.push("scrollEnd");function Hn(e,n){Eg.set(e,n),ai(n,[e])}var yu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},bn=[],la=0,Vh=0;function _u(){for(var e=la,n=Vh=la=0;n<e;){var r=bn[n];bn[n++]=null;var o=bn[n];bn[n++]=null;var h=bn[n];bn[n++]=null;var f=bn[n];if(bn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Tg(r,h,f)}}function vu(e,n,r,o){bn[la++]=e,bn[la++]=n,bn[la++]=r,bn[la++]=o,Vh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Mh(e,n,r,o){return vu(e,n,r,o),Eu(e)}function gs(e,n){return vu(e,null,null,n),Eu(e)}function Tg(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ce(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Eu(e){if(50<Wo)throw Wo=0,Hf=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ua={};function F0(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(e,n,r,o){return new F0(e,n,r,o)}function Uh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ni(e,n){var r=e.alternate;return r===null?(r=dn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Ag(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Tu(e,n,r,o,h,f){var g=0;if(o=e,typeof e=="function")Uh(e)&&(g=1);else if(typeof e=="string")g=ZA(e,r,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=dn(31,r,n,h),e.elementType=I,e.lanes=f,e;case $:return ps(r.children,h,f,n);case J:g=8,h|=24;break;case nt:return e=dn(12,r,n,h|2),e.elementType=nt,e.lanes=f,e;case Kt:return e=dn(13,r,n,h),e.elementType=Kt,e.lanes=f,e;case Nt:return e=dn(19,r,n,h),e.elementType=Nt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dt:g=10;break t;case ht:g=9;break t;case xt:g=11;break t;case C:g=14;break t;case b:g=16,o=null;break t}g=29,r=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=dn(g,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function ps(e,n,r,o){return e=dn(7,e,o,n),e.lanes=r,e}function xh(e,n,r){return e=dn(6,e,null,n),e.lanes=r,e}function Sg(e){var n=dn(18,null,null,0);return n.stateNode=e,n}function Lh(e,n,r){return n=dn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var bg=new WeakMap;function wn(e,n){if(typeof e=="object"&&e!==null){var r=bg.get(e);return r!==void 0?r:(n={value:e,source:n,stack:oo(n)},bg.set(e,n),n)}return{value:e,source:n,stack:oo(n)}}var ca=[],ha=0,Au=null,Vo=0,Rn=[],In=0,dr=null,gi=1,pi="";function Vi(e,n){ca[ha++]=Vo,ca[ha++]=Au,Au=e,Vo=n}function wg(e,n,r){Rn[In++]=gi,Rn[In++]=pi,Rn[In++]=dr,dr=e;var o=gi;e=pi;var h=32-ce(o)-1;o&=~(1<<h),r+=1;var f=32-ce(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,gi=1<<32-ce(n)+h|r<<h|o,pi=f+e}else gi=1<<f|r<<h|o,pi=e}function kh(e){e.return!==null&&(Vi(e,1),wg(e,1,0))}function Ph(e){for(;e===Au;)Au=ca[--ha],ca[ha]=null,Vo=ca[--ha],ca[ha]=null;for(;e===dr;)dr=Rn[--In],Rn[In]=null,pi=Rn[--In],Rn[In]=null,gi=Rn[--In],Rn[In]=null}function Rg(e,n){Rn[In++]=gi,Rn[In++]=pi,Rn[In++]=dr,gi=n.id,pi=n.overflow,dr=e}var ze=null,te=null,Vt=!1,mr=null,Cn=!1,zh=Error(s(519));function gr(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Mo(wn(n,e)),zh}function Ig(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[ye]=e,n[Me]=o,r){case"dialog":wt("cancel",n),wt("close",n);break;case"iframe":case"object":case"embed":wt("load",n);break;case"video":case"audio":for(r=0;r<el.length;r++)wt(el[r],n);break;case"source":wt("error",n);break;case"img":case"image":case"link":wt("error",n),wt("load",n);break;case"details":wt("toggle",n);break;case"input":wt("invalid",n),eu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":wt("invalid",n);break;case"textarea":wt("invalid",n),ar(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||Gy(n.textContent,r)?(o.popover!=null&&(wt("beforetoggle",n),wt("toggle",n)),o.onScroll!=null&&wt("scroll",n),o.onScrollEnd!=null&&wt("scrollend",n),o.onClick!=null&&(n.onclick=Pn),n=!0):n=!1,n||gr(e,!0)}function Cg(e){for(ze=e.return;ze;)switch(ze.tag){case 5:case 31:case 13:Cn=!1;return;case 27:case 3:Cn=!0;return;default:ze=ze.return}}function fa(e){if(e!==ze)return!1;if(!Vt)return Cg(e),Vt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||rd(e.type,e.memoizedProps)),r=!r),r&&te&&gr(e),Cg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));te=Wy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));te=Wy(e)}else n===27?(n=te,Dr(e.type)?(e=ud,ud=null,te=e):te=n):te=ze?On(e.stateNode.nextSibling):null;return!0}function ys(){te=ze=null,Vt=!1}function Bh(){var e=mr;return e!==null&&(an===null?an=e:an.push.apply(an,e),mr=null),e}function Mo(e){mr===null?mr=[e]:mr.push(e)}var qh=V(null),_s=null,Mi=null;function pr(e,n,r){et(qh,n._currentValue),n._currentValue=r}function Ui(e){e._currentValue=qh.current,Y(qh)}function jh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function Hh(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),jh(f.return,r,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(s(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),jh(g,r,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function da(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var E=h.type;fn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Mt.current){if(g=h.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(al):e=[al])}h=h.return}e!==null&&Hh(n,e,r,o),n.flags|=262144}function Su(e){for(e=e.firstContext;e!==null;){if(!fn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function vs(e){_s=e,Mi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return Dg(_s,e)}function bu(e,n){return _s===null&&vs(e),Dg(e,n)}function Dg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Mi===null){if(e===null)throw Error(s(308));Mi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Mi=Mi.next=n;return r}var Q0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},K0=a.unstable_scheduleCallback,Y0=a.unstable_NormalPriority,Ee={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gh(){return{controller:new Q0,data:new Map,refCount:0}}function Uo(e){e.refCount--,e.refCount===0&&K0(Y0,function(){e.controller.abort()})}var xo=null,Fh=0,ma=0,ga=null;function X0(e,n){if(xo===null){var r=xo=[];Fh=0,ma=Xf(),ga={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Fh++,n.then(Og,Og),n}function Og(){if(--Fh===0&&xo!==null){ga!==null&&(ga.status="fulfilled");var e=xo;xo=null,ma=0,ga=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Z0(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Ng=G.S;G.S=function(e,n){my=Je(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&X0(e,n),Ng!==null&&Ng(e,n)};var Es=V(null);function Qh(){var e=Es.current;return e!==null?e:$t.pooledCache}function wu(e,n){n===null?et(Es,Es.current):et(Es,n.pool)}function Vg(){var e=Qh();return e===null?null:{parent:Ee._currentValue,pool:e}}var pa=Error(s(460)),Kh=Error(s(474)),Ru=Error(s(542)),Iu={then:function(){}};function Mg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ug(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Pn,Pn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Lg(e),e;default:if(typeof n.status=="string")n.then(Pn,Pn);else{if(e=$t,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Lg(e),e}throw As=n,pa}}function Ts(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(As=r,pa):r}}var As=null;function xg(){if(As===null)throw Error(s(459));var e=As;return As=null,e}function Lg(e){if(e===pa||e===Ru)throw Error(s(483))}var ya=null,Lo=0;function Cu(e){var n=Lo;return Lo+=1,ya===null&&(ya=[]),Ug(ya,e,n)}function ko(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Du(e,n){throw n.$$typeof===D?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function kg(e){function n(U,O){if(e){var k=U.deletions;k===null?(U.deletions=[O],U.flags|=16):k.push(O)}}function r(U,O){if(!e)return null;for(;O!==null;)n(U,O),O=O.sibling;return null}function o(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function h(U,O){return U=Ni(U,O),U.index=0,U.sibling=null,U}function f(U,O,k){return U.index=k,e?(k=U.alternate,k!==null?(k=k.index,k<O?(U.flags|=67108866,O):k):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function g(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,O,k,Q){return O===null||O.tag!==6?(O=xh(k,U.mode,Q),O.return=U,O):(O=h(O,k),O.return=U,O)}function R(U,O,k,Q){var lt=k.type;return lt===$?H(U,O,k.props.children,Q,k.key):O!==null&&(O.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===b&&Ts(lt)===O.type)?(O=h(O,k.props),ko(O,k),O.return=U,O):(O=Tu(k.type,k.key,k.props,null,U.mode,Q),ko(O,k),O.return=U,O)}function P(U,O,k,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==k.containerInfo||O.stateNode.implementation!==k.implementation?(O=Lh(k,U.mode,Q),O.return=U,O):(O=h(O,k.children||[]),O.return=U,O)}function H(U,O,k,Q,lt){return O===null||O.tag!==7?(O=ps(k,U.mode,Q,lt),O.return=U,O):(O=h(O,k),O.return=U,O)}function K(U,O,k){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=xh(""+O,U.mode,k),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case j:return k=Tu(O.type,O.key,O.props,null,U.mode,k),ko(k,O),k.return=U,k;case F:return O=Lh(O,U.mode,k),O.return=U,O;case b:return O=Ts(O),K(U,O,k)}if(Ie(O)||x(O))return O=ps(O,U.mode,k,null),O.return=U,O;if(typeof O.then=="function")return K(U,Cu(O),k);if(O.$$typeof===dt)return K(U,bu(U,O),k);Du(U,O)}return null}function z(U,O,k,Q){var lt=O!==null?O.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return lt!==null?null:E(U,O,""+k,Q);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case j:return k.key===lt?R(U,O,k,Q):null;case F:return k.key===lt?P(U,O,k,Q):null;case b:return k=Ts(k),z(U,O,k,Q)}if(Ie(k)||x(k))return lt!==null?null:H(U,O,k,Q,null);if(typeof k.then=="function")return z(U,O,Cu(k),Q);if(k.$$typeof===dt)return z(U,O,bu(U,k),Q);Du(U,k)}return null}function q(U,O,k,Q,lt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(k)||null,E(O,U,""+Q,lt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case j:return U=U.get(Q.key===null?k:Q.key)||null,R(O,U,Q,lt);case F:return U=U.get(Q.key===null?k:Q.key)||null,P(O,U,Q,lt);case b:return Q=Ts(Q),q(U,O,k,Q,lt)}if(Ie(Q)||x(Q))return U=U.get(k)||null,H(O,U,Q,lt,null);if(typeof Q.then=="function")return q(U,O,k,Cu(Q),lt);if(Q.$$typeof===dt)return q(U,O,k,bu(O,Q),lt);Du(O,Q)}return null}function at(U,O,k,Q){for(var lt=null,kt=null,ot=O,St=O=0,It=null;ot!==null&&St<k.length;St++){ot.index>St?(It=ot,ot=null):It=ot.sibling;var Pt=z(U,ot,k[St],Q);if(Pt===null){ot===null&&(ot=It);break}e&&ot&&Pt.alternate===null&&n(U,ot),O=f(Pt,O,St),kt===null?lt=Pt:kt.sibling=Pt,kt=Pt,ot=It}if(St===k.length)return r(U,ot),Vt&&Vi(U,St),lt;if(ot===null){for(;St<k.length;St++)ot=K(U,k[St],Q),ot!==null&&(O=f(ot,O,St),kt===null?lt=ot:kt.sibling=ot,kt=ot);return Vt&&Vi(U,St),lt}for(ot=o(ot);St<k.length;St++)It=q(ot,U,St,k[St],Q),It!==null&&(e&&It.alternate!==null&&ot.delete(It.key===null?St:It.key),O=f(It,O,St),kt===null?lt=It:kt.sibling=It,kt=It);return e&&ot.forEach(function(Ur){return n(U,Ur)}),Vt&&Vi(U,St),lt}function ft(U,O,k,Q){if(k==null)throw Error(s(151));for(var lt=null,kt=null,ot=O,St=O=0,It=null,Pt=k.next();ot!==null&&!Pt.done;St++,Pt=k.next()){ot.index>St?(It=ot,ot=null):It=ot.sibling;var Ur=z(U,ot,Pt.value,Q);if(Ur===null){ot===null&&(ot=It);break}e&&ot&&Ur.alternate===null&&n(U,ot),O=f(Ur,O,St),kt===null?lt=Ur:kt.sibling=Ur,kt=Ur,ot=It}if(Pt.done)return r(U,ot),Vt&&Vi(U,St),lt;if(ot===null){for(;!Pt.done;St++,Pt=k.next())Pt=K(U,Pt.value,Q),Pt!==null&&(O=f(Pt,O,St),kt===null?lt=Pt:kt.sibling=Pt,kt=Pt);return Vt&&Vi(U,St),lt}for(ot=o(ot);!Pt.done;St++,Pt=k.next())Pt=q(ot,U,St,Pt.value,Q),Pt!==null&&(e&&Pt.alternate!==null&&ot.delete(Pt.key===null?St:Pt.key),O=f(Pt,O,St),kt===null?lt=Pt:kt.sibling=Pt,kt=Pt);return e&&ot.forEach(function(oS){return n(U,oS)}),Vt&&Vi(U,St),lt}function Jt(U,O,k,Q){if(typeof k=="object"&&k!==null&&k.type===$&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case j:t:{for(var lt=k.key;O!==null;){if(O.key===lt){if(lt=k.type,lt===$){if(O.tag===7){r(U,O.sibling),Q=h(O,k.props.children),Q.return=U,U=Q;break t}}else if(O.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===b&&Ts(lt)===O.type){r(U,O.sibling),Q=h(O,k.props),ko(Q,k),Q.return=U,U=Q;break t}r(U,O);break}else n(U,O);O=O.sibling}k.type===$?(Q=ps(k.props.children,U.mode,Q,k.key),Q.return=U,U=Q):(Q=Tu(k.type,k.key,k.props,null,U.mode,Q),ko(Q,k),Q.return=U,U=Q)}return g(U);case F:t:{for(lt=k.key;O!==null;){if(O.key===lt)if(O.tag===4&&O.stateNode.containerInfo===k.containerInfo&&O.stateNode.implementation===k.implementation){r(U,O.sibling),Q=h(O,k.children||[]),Q.return=U,U=Q;break t}else{r(U,O);break}else n(U,O);O=O.sibling}Q=Lh(k,U.mode,Q),Q.return=U,U=Q}return g(U);case b:return k=Ts(k),Jt(U,O,k,Q)}if(Ie(k))return at(U,O,k,Q);if(x(k)){if(lt=x(k),typeof lt!="function")throw Error(s(150));return k=lt.call(k),ft(U,O,k,Q)}if(typeof k.then=="function")return Jt(U,O,Cu(k),Q);if(k.$$typeof===dt)return Jt(U,O,bu(U,k),Q);Du(U,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,O!==null&&O.tag===6?(r(U,O.sibling),Q=h(O,k),Q.return=U,U=Q):(r(U,O),Q=xh(k,U.mode,Q),Q.return=U,U=Q),g(U)):r(U,O)}return function(U,O,k,Q){try{Lo=0;var lt=Jt(U,O,k,Q);return ya=null,lt}catch(ot){if(ot===pa||ot===Ru)throw ot;var kt=dn(29,ot,null,U.mode);return kt.lanes=Q,kt.return=U,kt}}}var Ss=kg(!0),Pg=kg(!1),yr=!1;function Yh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _r(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function vr(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Bt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Eu(e),Tg(e,null,r),n}return vu(e,o,n,r),Eu(e)}function Po(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,co(e,r)}}function Zh(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var Jh=!1;function zo(){if(Jh){var e=ga;if(e!==null)throw e}}function Bo(e,n,r,o){Jh=!1;var h=e.updateQueue;yr=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,P=R.next;R.next=null,g===null?f=P:g.next=P,g=R;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==g&&(E===null?H.firstBaseUpdate=P:E.next=P,H.lastBaseUpdate=R))}if(f!==null){var K=h.baseState;g=0,H=P=R=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(Rt&z)===z:(o&z)===z){z!==0&&z===ma&&(Jh=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,ft=E;z=n;var Jt=r;switch(ft.tag){case 1:if(at=ft.payload,typeof at=="function"){K=at.call(Jt,K,z);break t}K=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=ft.payload,z=typeof at=="function"?at.call(Jt,K,z):at,z==null)break t;K=S({},K,z);break t;case 2:yr=!0}}z=E.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(P=H=q,R=K):H=H.next=q,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);H===null&&(R=K),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=H,f===null&&(h.shared.lanes=0),br|=g,e.lanes=g,e.memoizedState=K}}function zg(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Bg(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)zg(r[e],n)}var _a=V(null),Ou=V(0);function qg(e,n){e=Hi,et(Ou,e),et(_a,n),Hi=e|n.baseLanes}function $h(){et(Ou,Hi),et(_a,_a.current)}function Wh(){Hi=Ou.current,Y(_a),Y(Ou)}var mn=V(null),Dn=null;function Er(e){var n=e.alternate;et(fe,fe.current&1),et(mn,e),Dn===null&&(n===null||_a.current!==null||n.memoizedState!==null)&&(Dn=e)}function tf(e){et(fe,fe.current),et(mn,e),Dn===null&&(Dn=e)}function jg(e){e.tag===22?(et(fe,fe.current),et(mn,e),Dn===null&&(Dn=e)):Tr()}function Tr(){et(fe,fe.current),et(mn,mn.current)}function gn(e){Y(mn),Dn===e&&(Dn=null),Y(fe)}var fe=V(0);function Nu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||od(r)||ld(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var xi=0,Tt=null,Xt=null,Te=null,Vu=!1,va=!1,bs=!1,Mu=0,qo=0,Ea=null,J0=0;function le(){throw Error(s(321))}function ef(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!fn(e[r],n[r]))return!1;return!0}function nf(e,n,r,o,h,f){return xi=f,Tt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?wp:_f,bs=!1,f=r(o,h),bs=!1,va&&(f=Gg(n,r,o,h)),Hg(e),f}function Hg(e){G.H=Go;var n=Xt!==null&&Xt.next!==null;if(xi=0,Te=Xt=Tt=null,Vu=!1,qo=0,Ea=null,n)throw Error(s(300));e===null||Ae||(e=e.dependencies,e!==null&&Su(e)&&(Ae=!0))}function Gg(e,n,r,o){Tt=e;var h=0;do{if(va&&(Ea=null),qo=0,va=!1,25<=h)throw Error(s(301));if(h+=1,Te=Xt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Rp,f=n(r,o)}while(va);return f}function $0(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?jo(n):n,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(Tt.flags|=1024),n}function rf(){var e=Mu!==0;return Mu=0,e}function sf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function af(e){if(Vu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Vu=!1}xi=0,Te=Xt=Tt=null,va=!1,qo=Mu=0,Ea=null}function We(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?Tt.memoizedState=Te=e:Te=Te.next=e,Te}function de(){if(Xt===null){var e=Tt.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var n=Te===null?Tt.memoizedState:Te.next;if(n!==null)Te=n,Xt=e;else{if(e===null)throw Tt.alternate===null?Error(s(467)):Error(s(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Te===null?Tt.memoizedState=Te=e:Te=Te.next=e}return Te}function Uu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jo(e){var n=qo;return qo+=1,Ea===null&&(Ea=[]),e=Ug(Ea,e,n),n=Tt,(Te===null?n.memoizedState:Te.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?wp:_f),e}function xu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return jo(e);if(e.$$typeof===dt)return Be(e)}throw Error(s(438,String(e)))}function of(e){var n=null,r=Tt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Tt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Uu(),Tt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=M;return n.index++,r}function Li(e,n){return typeof n=="function"?n(e):n}function Lu(e){var n=de();return lf(n,Xt,e)}function lf(e,n,r){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,R=null,P=n,H=!1;do{var K=P.lane&-536870913;if(K!==P.lane?(Rt&K)===K:(xi&K)===K){var z=P.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),K===ma&&(H=!0);else if((xi&z)===z){P=P.next,z===ma&&(H=!0);continue}else K={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=K,g=f):R=R.next=K,Tt.lanes|=z,br|=z;K=P.action,bs&&r(f,K),f=P.hasEagerState?P.eagerState:r(f,K)}else z={lane:K,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=z,g=f):R=R.next=z,Tt.lanes|=K,br|=K;P=P.next}while(P!==null&&P!==n);if(R===null?g=f:R.next=E,!fn(f,e.memoizedState)&&(Ae=!0,H&&(r=ga,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function uf(e){var n=de(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);fn(f,n.memoizedState)||(Ae=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function Fg(e,n,r){var o=Tt,h=de(),f=Vt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var g=!fn((Xt||h).memoizedState,r);if(g&&(h.memoizedState=r,Ae=!0),h=h.queue,ff(Yg.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Te!==null&&Te.memoizedState.tag&1){if(o.flags|=2048,Ta(9,{destroy:void 0},Kg.bind(null,o,h,r,n),null),$t===null)throw Error(s(349));f||(xi&127)!==0||Qg(o,n,r)}return r}function Qg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Tt.updateQueue,n===null?(n=Uu(),Tt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Kg(e,n,r,o){n.value=r,n.getSnapshot=o,Xg(n)&&Zg(e)}function Yg(e,n,r){return r(function(){Xg(n)&&Zg(e)})}function Xg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!fn(e,r)}catch{return!0}}function Zg(e){var n=gs(e,2);n!==null&&on(n,e,2)}function cf(e){var n=We();if(typeof e=="function"){var r=e;if(e=r(),bs){vn(!0);try{r()}finally{vn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:e},n}function Jg(e,n,r,o){return e.baseState=r,lf(e,Xt,typeof o=="function"?o:Li)}function W0(e,n,r,o,h){if(zu(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,$g(n,f)):(f.next=r.next,n.pending=r.next=f)}}function $g(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=r(h,o),R=G.S;R!==null&&R(g,E),Wg(e,n,E)}catch(P){hf(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=r(h,o),Wg(e,n,f)}catch(P){hf(e,n,P)}}function Wg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){tp(e,n,o)},function(o){return hf(e,n,o)}):tp(e,n,r)}function tp(e,n,r){n.status="fulfilled",n.value=r,ep(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,$g(e,r)))}function hf(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,ep(n),n=n.next;while(n!==o)}e.action=null}function ep(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function np(e,n){return n}function ip(e,n){if(Vt){var r=$t.formState;if(r!==null){t:{var o=Tt;if(Vt){if(te){e:{for(var h=te,f=Cn;h.nodeType!==8;){if(!f){h=null;break e}if(h=On(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){te=On(h.nextSibling),o=h.data==="F!";break t}}gr(o)}o=!1}o&&(n=r[0])}}return r=We(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:np,lastRenderedState:n},r.queue=o,r=Ap.bind(null,Tt,o),o.dispatch=r,o=cf(!1),f=yf.bind(null,Tt,!1,o.queue),o=We(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=W0.bind(null,Tt,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function rp(e){var n=de();return sp(n,Xt,e)}function sp(e,n,r){if(n=lf(e,n,np)[0],e=Lu(Li)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=jo(n)}catch(g){throw g===pa?Ru:g}else o=n;n=de();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Tt.flags|=2048,Ta(9,{destroy:void 0},tA.bind(null,h,r),null)),[o,f,e]}function tA(e,n){e.action=n}function ap(e){var n=de(),r=Xt;if(r!==null)return sp(n,r,e);de(),n=n.memoizedState,r=de();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Ta(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=Tt.updateQueue,n===null&&(n=Uu(),Tt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function op(){return de().memoizedState}function ku(e,n,r,o){var h=We();Tt.flags|=e,h.memoizedState=Ta(1|n,{destroy:void 0},r,o===void 0?null:o)}function Pu(e,n,r,o){var h=de();o=o===void 0?null:o;var f=h.memoizedState.inst;Xt!==null&&o!==null&&ef(o,Xt.memoizedState.deps)?h.memoizedState=Ta(n,f,r,o):(Tt.flags|=e,h.memoizedState=Ta(1|n,f,r,o))}function lp(e,n){ku(8390656,8,e,n)}function ff(e,n){Pu(2048,8,e,n)}function eA(e){Tt.flags|=4;var n=Tt.updateQueue;if(n===null)n=Uu(),Tt.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function up(e){var n=de().memoizedState;return eA({ref:n,nextImpl:e}),function(){if((Bt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function cp(e,n){return Pu(4,2,e,n)}function hp(e,n){return Pu(4,4,e,n)}function fp(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function dp(e,n,r){r=r!=null?r.concat([e]):null,Pu(4,4,fp.bind(null,n,e),r)}function df(){}function mp(e,n){var r=de();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&ef(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function gp(e,n){var r=de();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&ef(n,o[1]))return o[0];if(o=e(),bs){vn(!0);try{e()}finally{vn(!1)}}return r.memoizedState=[o,n],o}function mf(e,n,r){return r===void 0||(xi&1073741824)!==0&&(Rt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=py(),Tt.lanes|=e,br|=e,r)}function pp(e,n,r,o){return fn(r,n)?r:_a.current!==null?(e=mf(e,r,o),fn(e,n)||(Ae=!0),e):(xi&42)===0||(xi&1073741824)!==0&&(Rt&261930)===0?(Ae=!0,e.memoizedState=r):(e=py(),Tt.lanes|=e,br|=e,n)}function yp(e,n,r,o,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,yf(e,!1,n,r);try{var R=h(),P=G.S;if(P!==null&&P(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var H=Z0(R,o);Ho(e,n,H,_n(e))}else Ho(e,n,o,_n(e))}catch(K){Ho(e,n,{then:function(){},status:"rejected",reason:K},_n())}finally{tt.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function nA(){}function gf(e,n,r,o){if(e.tag!==5)throw Error(s(476));var h=_p(e).queue;yp(e,h,n,ct,r===null?nA:function(){return vp(e),r(o)})}function _p(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:ct},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function vp(e){var n=_p(e);n.next===null&&(n=e.alternate.memoizedState),Ho(e,n.next.queue,{},_n())}function pf(){return Be(al)}function Ep(){return de().memoizedState}function Tp(){return de().memoizedState}function iA(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=_n();e=_r(r);var o=vr(n,e,r);o!==null&&(on(o,n,r),Po(o,n,r)),n={cache:Gh()},e.payload=n;return}n=n.return}}function rA(e,n,r){var o=_n();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},zu(e)?Sp(n,r):(r=Mh(e,n,r,o),r!==null&&(on(r,e,o),bp(r,n,o)))}function Ap(e,n,r){var o=_n();Ho(e,n,r,o)}function Ho(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(zu(e))Sp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(h.hasEagerState=!0,h.eagerState=E,fn(E,g))return vu(e,n,h,0),$t===null&&_u(),!1}catch{}if(r=Mh(e,n,h,o),r!==null)return on(r,e,o),bp(r,n,o),!0}return!1}function yf(e,n,r,o){if(o={lane:2,revertLane:Xf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},zu(e)){if(n)throw Error(s(479))}else n=Mh(e,r,o,2),n!==null&&on(n,e,2)}function zu(e){var n=e.alternate;return e===Tt||n!==null&&n===Tt}function Sp(e,n){va=Vu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function bp(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,co(e,r)}}var Go={readContext:Be,use:xu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};Go.useEffectEvent=le;var wp={readContext:Be,use:xu,useCallback:function(e,n){return We().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:lp,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,ku(4194308,4,fp.bind(null,n,e),r)},useLayoutEffect:function(e,n){return ku(4194308,4,e,n)},useInsertionEffect:function(e,n){ku(4,2,e,n)},useMemo:function(e,n){var r=We();n=n===void 0?null:n;var o=e();if(bs){vn(!0);try{e()}finally{vn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=We();if(r!==void 0){var h=r(n);if(bs){vn(!0);try{r(n)}finally{vn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=rA.bind(null,Tt,e),[o.memoizedState,e]},useRef:function(e){var n=We();return e={current:e},n.memoizedState=e},useState:function(e){e=cf(e);var n=e.queue,r=Ap.bind(null,Tt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:df,useDeferredValue:function(e,n){var r=We();return mf(r,e,n)},useTransition:function(){var e=cf(!1);return e=yp.bind(null,Tt,e.queue,!0,!1),We().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=Tt,h=We();if(Vt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),$t===null)throw Error(s(349));(Rt&127)!==0||Qg(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,lp(Yg.bind(null,o,f,e),[e]),o.flags|=2048,Ta(9,{destroy:void 0},Kg.bind(null,o,f,r,n),null),r},useId:function(){var e=We(),n=$t.identifierPrefix;if(Vt){var r=pi,o=gi;r=(o&~(1<<32-ce(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Mu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=J0++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:pf,useFormState:ip,useActionState:ip,useOptimistic:function(e){var n=We();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=yf.bind(null,Tt,!0,r),r.dispatch=n,[e,n]},useMemoCache:of,useCacheRefresh:function(){return We().memoizedState=iA.bind(null,Tt)},useEffectEvent:function(e){var n=We(),r={impl:e};return n.memoizedState=r,function(){if((Bt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},_f={readContext:Be,use:xu,useCallback:mp,useContext:Be,useEffect:ff,useImperativeHandle:dp,useInsertionEffect:cp,useLayoutEffect:hp,useMemo:gp,useReducer:Lu,useRef:op,useState:function(){return Lu(Li)},useDebugValue:df,useDeferredValue:function(e,n){var r=de();return pp(r,Xt.memoizedState,e,n)},useTransition:function(){var e=Lu(Li)[0],n=de().memoizedState;return[typeof e=="boolean"?e:jo(e),n]},useSyncExternalStore:Fg,useId:Ep,useHostTransitionStatus:pf,useFormState:rp,useActionState:rp,useOptimistic:function(e,n){var r=de();return Jg(r,Xt,e,n)},useMemoCache:of,useCacheRefresh:Tp};_f.useEffectEvent=up;var Rp={readContext:Be,use:xu,useCallback:mp,useContext:Be,useEffect:ff,useImperativeHandle:dp,useInsertionEffect:cp,useLayoutEffect:hp,useMemo:gp,useReducer:uf,useRef:op,useState:function(){return uf(Li)},useDebugValue:df,useDeferredValue:function(e,n){var r=de();return Xt===null?mf(r,e,n):pp(r,Xt.memoizedState,e,n)},useTransition:function(){var e=uf(Li)[0],n=de().memoizedState;return[typeof e=="boolean"?e:jo(e),n]},useSyncExternalStore:Fg,useId:Ep,useHostTransitionStatus:pf,useFormState:ap,useActionState:ap,useOptimistic:function(e,n){var r=de();return Xt!==null?Jg(r,Xt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:of,useCacheRefresh:Tp};Rp.useEffectEvent=up;function vf(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:S({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ef={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=_n(),h=_r(o);h.payload=n,r!=null&&(h.callback=r),n=vr(e,h,o),n!==null&&(on(n,e,o),Po(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=_n(),h=_r(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=vr(e,h,o),n!==null&&(on(n,e,o),Po(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=_n(),o=_r(r);o.tag=2,n!=null&&(o.callback=n),n=vr(e,o,r),n!==null&&(on(n,e,r),Po(n,e,r))}};function Ip(e,n,r,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Oo(r,o)||!Oo(h,f):!0}function Cp(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&Ef.enqueueReplaceState(n,n.state,null)}function ws(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=S({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function Dp(e){yu(e)}function Op(e){console.error(e)}function Np(e){yu(e)}function Bu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Vp(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Tf(e,n,r){return r=_r(r),r.tag=3,r.payload={element:null},r.callback=function(){Bu(e,n)},r}function Mp(e){return e=_r(e),e.tag=3,e}function Up(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Vp(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Vp(n,r,o),typeof h!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function sA(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&da(n,r,h,!0),r=mn.current,r!==null){switch(r.tag){case 31:case 13:return Dn===null?$u():r.alternate===null&&ue===0&&(ue=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Iu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Qf(e,o,h)),!1;case 22:return r.flags|=65536,o===Iu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Qf(e,o,h)),!1}throw Error(s(435,r.tag))}return Qf(e,o,h),$u(),!1}if(Vt)return n=mn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==zh&&(e=Error(s(422),{cause:o}),Mo(wn(e,r)))):(o!==zh&&(n=Error(s(423),{cause:o}),Mo(wn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=wn(o,r),h=Tf(e.stateNode,o,h),Zh(e,h),ue!==4&&(ue=2)),!1;var f=Error(s(520),{cause:o});if(f=wn(f,r),$o===null?$o=[f]:$o.push(f),ue!==4&&(ue=2),n===null)return!0;o=wn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Tf(r.stateNode,o,e),Zh(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(wr===null||!wr.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Mp(h),Up(h,e,r,o),Zh(r,h),!1}r=r.return}while(r!==null);return!1}var Af=Error(s(461)),Ae=!1;function qe(e,n,r,o){n.child=e===null?Pg(n,null,r,o):Ss(n,e.child,r,o)}function xp(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return vs(n),o=nf(e,n,r,g,f,h),E=rf(),e!==null&&!Ae?(sf(e,n,h),ki(e,n,h)):(Vt&&E&&kh(n),n.flags|=1,qe(e,n,o,h),n.child)}function Lp(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!Uh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,kp(e,n,f,o,h)):(e=Tu(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Of(e,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Oo,r(g,o)&&e.ref===n.ref)return ki(e,n,h)}return n.flags|=1,e=Ni(f,o),e.ref=n.ref,e.return=n,n.child=e}function kp(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(Oo(f,o)&&e.ref===n.ref)if(Ae=!1,n.pendingProps=o=f,Of(e,h))(e.flags&131072)!==0&&(Ae=!0);else return n.lanes=e.lanes,ki(e,n,h)}return Sf(e,n,r,o,h)}function Pp(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return zp(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&wu(n,f!==null?f.cachePool:null),f!==null?qg(n,f):$h(),jg(n);else return o=n.lanes=536870912,zp(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(wu(n,f.cachePool),qg(n,f),Tr(),n.memoizedState=null):(e!==null&&wu(n,null),$h(),Tr());return qe(e,n,h,r),n.child}function Fo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function zp(e,n,r,o,h){var f=Qh();return f=f===null?null:{parent:Ee._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&wu(n,null),$h(),jg(n),e!==null&&da(e,n,o,!0),n.childLanes=h,null}function qu(e,n){return n=Hu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Bp(e,n,r){return Ss(n,e.child,null,r),e=qu(n,n.pendingProps),e.flags|=2,gn(n),n.memoizedState=null,e}function aA(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Vt){if(o.mode==="hidden")return e=qu(n,o),n.lanes=536870912,Fo(null,e);if(tf(n),(e=te)?(e=$y(e,Cn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:dr!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},r=Sg(e),r.return=n,n.child=r,ze=n,te=null)):e=null,e===null)throw gr(n);return n.lanes=536870912,null}return qu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(tf(n),h)if(n.flags&256)n.flags&=-257,n=Bp(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(Ae||da(e,n,r,!1),h=(r&e.childLanes)!==0,Ae||h){if(o=$t,o!==null&&(g=ho(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,gs(e,g),on(o,e,g),Af;$u(),n=Bp(e,n,r)}else e=f.treeContext,te=On(g.nextSibling),ze=n,Vt=!0,mr=null,Cn=!1,e!==null&&Rg(n,e),n=qu(n,o),n.flags|=4096;return n}return e=Ni(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function ju(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Sf(e,n,r,o,h){return vs(n),r=nf(e,n,r,o,void 0,h),o=rf(),e!==null&&!Ae?(sf(e,n,h),ki(e,n,h)):(Vt&&o&&kh(n),n.flags|=1,qe(e,n,r,h),n.child)}function qp(e,n,r,o,h,f){return vs(n),n.updateQueue=null,r=Gg(n,o,r,h),Hg(e),o=rf(),e!==null&&!Ae?(sf(e,n,f),ki(e,n,f)):(Vt&&o&&kh(n),n.flags|=1,qe(e,n,r,f),n.child)}function jp(e,n,r,o,h){if(vs(n),n.stateNode===null){var f=ua,g=r.contextType;typeof g=="object"&&g!==null&&(f=Be(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ef,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Yh(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?Be(g):ua,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(vf(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Ef.enqueueReplaceState(f,f.state,null),Bo(n,o,f,h),zo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=ws(r,E);f.props=R;var P=f.context,H=r.contextType;g=ua,typeof H=="object"&&H!==null&&(g=Be(H));var K=r.getDerivedStateFromProps;H=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==g)&&Cp(n,f,o,g),yr=!1;var z=n.memoizedState;f.state=z,Bo(n,o,f,h),zo(),P=n.memoizedState,E||z!==P||yr?(typeof K=="function"&&(vf(n,r,K,o),P=n.memoizedState),(R=yr||Ip(n,r,R,o,z,P,g))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Xh(e,n),g=n.memoizedProps,H=ws(r,g),f.props=H,K=n.pendingProps,z=f.context,P=r.contextType,R=ua,typeof P=="object"&&P!==null&&(R=Be(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==K||z!==R)&&Cp(n,f,o,R),yr=!1,z=n.memoizedState,f.state=z,Bo(n,o,f,h),zo();var q=n.memoizedState;g!==K||z!==q||yr||e!==null&&e.dependencies!==null&&Su(e.dependencies)?(typeof E=="function"&&(vf(n,r,E,o),q=n.memoizedState),(H=yr||Ip(n,r,H,o,z,q,R)||e!==null&&e.dependencies!==null&&Su(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=R,o=H):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,ju(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Ss(n,e.child,null,h),n.child=Ss(n,null,r,h)):qe(e,n,r,h),n.memoizedState=f.state,e=n.child):e=ki(e,n,h),e}function Hp(e,n,r,o){return ys(),n.flags|=256,qe(e,n,r,o),n.child}var bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wf(e){return{baseLanes:e,cachePool:Vg()}}function Rf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=yn),e}function Gp(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(fe.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Vt){if(h?Er(n):Tr(),(e=te)?(e=$y(e,Cn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:dr!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},r=Sg(e),r.return=n,n.child=r,ze=n,te=null)):e=null,e===null)throw gr(n);return ld(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Tr(),h=n.mode,E=Hu({mode:"hidden",children:E},h),o=ps(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=wf(r),o.childLanes=Rf(e,g,r),n.memoizedState=bf,Fo(null,o)):(Er(n),If(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Er(n),n.flags&=-257,n=Cf(e,n,r)):n.memoizedState!==null?(Tr(),n.child=e.child,n.flags|=128,n=null):(Tr(),E=o.fallback,h=n.mode,o=Hu({mode:"visible",children:o.children},h),E=ps(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Ss(n,e.child,null,r),o=n.child,o.memoizedState=wf(r),o.childLanes=Rf(e,g,r),n.memoizedState=bf,n=Fo(null,o));else if(Er(n),ld(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var P=g.dgst;g=P,o=Error(s(419)),o.stack="",o.digest=g,Mo({value:o,source:null,stack:null}),n=Cf(e,n,r)}else if(Ae||da(e,n,r,!1),g=(r&e.childLanes)!==0,Ae||g){if(g=$t,g!==null&&(o=ho(g,r),o!==0&&o!==R.retryLane))throw R.retryLane=o,gs(e,o),on(g,e,o),Af;od(E)||$u(),n=Cf(e,n,r)}else od(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,te=On(E.nextSibling),ze=n,Vt=!0,mr=null,Cn=!1,e!==null&&Rg(n,e),n=If(n,o.children),n.flags|=4096);return n}return h?(Tr(),E=o.fallback,h=n.mode,R=e.child,P=R.sibling,o=Ni(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,P!==null?E=Ni(P,E):(E=ps(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Fo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=wf(r):(h=E.cachePool,h!==null?(R=Ee._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Vg(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=Rf(e,g,r),n.memoizedState=bf,Fo(e.child,o)):(Er(n),r=e.child,e=r.sibling,r=Ni(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function If(e,n){return n=Hu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Hu(e,n){return e=dn(22,e,null,n),e.lanes=0,e}function Cf(e,n,r){return Ss(n,e.child,null,r),e=If(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Fp(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),jh(e.return,n,r)}function Df(e,n,r,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function Qp(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=fe.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,et(fe,g),qe(e,n,o,r),o=Vt?Vo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fp(e,r,n);else if(e.tag===19)Fp(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Nu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Df(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Nu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Df(n,!0,r,null,f,o);break;case"together":Df(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ki(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),br|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(da(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,r=Ni(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Ni(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Of(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Su(e)))}function oA(e,n,r){switch(n.tag){case 3:Ce(n,n.stateNode.containerInfo),pr(n,Ee,e.memoizedState.cache),ys();break;case 27:case 5:Jr(n);break;case 4:Ce(n,n.stateNode.containerInfo);break;case 10:pr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,tf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Er(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Gp(e,n,r):(Er(n),e=ki(e,n,r),e!==null?e.sibling:null);Er(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(da(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return Qp(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(fe,fe.current),o)break;return null;case 22:return n.lanes=0,Pp(e,n,r,n.pendingProps);case 24:pr(n,Ee,e.memoizedState.cache)}return ki(e,n,r)}function Kp(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ae=!0;else{if(!Of(e,r)&&(n.flags&128)===0)return Ae=!1,oA(e,n,r);Ae=(e.flags&131072)!==0}else Ae=!1,Vt&&(n.flags&1048576)!==0&&wg(n,Vo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Ts(n.elementType),n.type=e,typeof e=="function")Uh(e)?(o=ws(e,o),n.tag=1,n=jp(null,n,e,o,r)):(n.tag=0,n=Sf(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===xt){n.tag=11,n=xp(null,n,e,o,r);break t}else if(h===C){n.tag=14,n=Lp(null,n,e,o,r);break t}}throw n=ie(e)||e,Error(s(306,n,""))}}return n;case 0:return Sf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=ws(o,n.pendingProps),jp(e,n,o,h,r);case 3:t:{if(Ce(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Xh(e,n),Bo(n,o,null,r);var g=n.memoizedState;if(o=g.cache,pr(n,Ee,o),o!==f.cache&&Hh(n,[Ee],r,!0),zo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Hp(e,n,o,r);break t}else if(o!==h){h=wn(Error(s(424)),n),Mo(h),n=Hp(e,n,o,r);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,te=On(e.firstChild),ze=n,Vt=!0,mr=null,Cn=!0,r=Pg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ys(),o===h){n=ki(e,n,r);break t}qe(e,n,o,r)}n=n.child}return n;case 26:return ju(e,n),e===null?(r=r_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Vt||(r=n.type,e=n.pendingProps,o=sc(At.current).createElement(r),o[ye]=n,o[Me]=e,je(o,r,e),_e(o),n.stateNode=o):n.memoizedState=r_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Jr(n),e===null&&Vt&&(o=n.stateNode=e_(n.type,n.pendingProps,At.current),ze=n,Cn=!0,h=te,Dr(n.type)?(ud=h,te=On(o.firstChild)):te=h),qe(e,n,n.pendingProps.children,r),ju(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Vt&&((h=o=te)&&(o=kA(o,n.type,n.pendingProps,Cn),o!==null?(n.stateNode=o,ze=n,te=On(o.firstChild),Cn=!1,h=!0):h=!1),h||gr(n)),Jr(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,rd(h,f)?o=null:g!==null&&rd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=nf(e,n,$0,null,null,r),al._currentValue=h),ju(e,n),qe(e,n,o,r),n.child;case 6:return e===null&&Vt&&((e=r=te)&&(r=PA(r,n.pendingProps,Cn),r!==null?(n.stateNode=r,ze=n,te=null,e=!0):e=!1),e||gr(n)),null;case 13:return Gp(e,n,r);case 4:return Ce(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Ss(n,null,o,r):qe(e,n,o,r),n.child;case 11:return xp(e,n,n.type,n.pendingProps,r);case 7:return qe(e,n,n.pendingProps,r),n.child;case 8:return qe(e,n,n.pendingProps.children,r),n.child;case 12:return qe(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,pr(n,n.type,o.value),qe(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,vs(n),h=Be(h),o=o(h),n.flags|=1,qe(e,n,o,r),n.child;case 14:return Lp(e,n,n.type,n.pendingProps,r);case 15:return kp(e,n,n.type,n.pendingProps,r);case 19:return Qp(e,n,r);case 31:return aA(e,n,r);case 22:return Pp(e,n,r,n.pendingProps);case 24:return vs(n),o=Be(Ee),e===null?(h=Qh(),h===null&&(h=$t,f=Gh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},Yh(n),pr(n,Ee,h)):((e.lanes&r)!==0&&(Xh(e,n),Bo(n,null,null,r),zo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),pr(n,Ee,o)):(o=f.cache,pr(n,Ee,o),o!==h.cache&&Hh(n,[Ee],r,!0))),qe(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Pi(e){e.flags|=4}function Nf(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ey())e.flags|=8192;else throw As=Iu,Kh}else e.flags&=-16777217}function Yp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!u_(n))if(Ey())e.flags|=8192;else throw As=Iu,Kh}function Gu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Zl():536870912,e.lanes|=n,wa|=n)}function Qo(e,n){if(!Vt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ee(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function lA(e,n,r){var o=n.pendingProps;switch(Ph(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ui(Ee),re(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(fa(n)?Pi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Bh())),ee(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Pi(n),f!==null?(ee(n),Yp(n,f)):(ee(n),Nf(n,h,null,o,r))):f?f!==e.memoizedState?(Pi(n),ee(n),Yp(n,f)):(ee(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Pi(n),ee(n),Nf(n,h,e,o,r)),null;case 27:if(Gs(n),r=At.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Pi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ee(n),null}e=st.current,fa(n)?Ig(n):(e=e_(h,o,r),n.stateNode=e,Pi(n))}return ee(n),null;case 5:if(Gs(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Pi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ee(n),null}if(f=st.current,fa(n))Ig(n);else{var g=sc(At.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[ye]=n,f[Me]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(je(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Pi(n)}}return ee(n),Nf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Pi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=At.current,fa(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=ze,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ye]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||Gy(e.nodeValue,r)),e||gr(n,!0)}else e=sc(e).createTextNode(o),e[ye]=n,n.stateNode=e}return ee(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=fa(n),r!==null){if(e===null){if(!o)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ye]=n}else ys(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),e=!1}else r=Bh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(gn(n),n):(gn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ee(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=fa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ye]=n}else ys(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),h=!1}else h=Bh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(gn(n),n):(gn(n),null)}return gn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Gu(n,n.updateQueue),ee(n),null);case 4:return re(),e===null&&Wf(n.stateNode.containerInfo),ee(n),null;case 10:return Ui(n.type),ee(n),null;case 19:if(Y(fe),o=n.memoizedState,o===null)return ee(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Qo(o,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Nu(e),f!==null){for(n.flags|=128,Qo(o,!1),e=f.updateQueue,n.updateQueue=e,Gu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Ag(r,e),r=r.sibling;return et(fe,fe.current&1|2),Vt&&Vi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Je()>Xu&&(n.flags|=128,h=!0,Qo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Nu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Gu(n,e),Qo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Vt)return ee(n),null}else 2*Je()-o.renderingStartTime>Xu&&r!==536870912&&(n.flags|=128,h=!0,Qo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Je(),e.sibling=null,r=fe.current,et(fe,h?r&1|2:r&1),Vt&&Vi(n,o.treeForkCount),e):(ee(n),null);case 22:case 23:return gn(n),Wh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),r=n.updateQueue,r!==null&&Gu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&Y(Es),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ui(Ee),ee(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function uA(e,n){switch(Ph(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ui(Ee),re(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Gs(n),null;case 31:if(n.memoizedState!==null){if(gn(n),n.alternate===null)throw Error(s(340));ys()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(gn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ys()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(fe),null;case 4:return re(),null;case 10:return Ui(n.type),null;case 22:case 23:return gn(n),Wh(),e!==null&&Y(Es),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ui(Ee),null;case 25:return null;default:return null}}function Xp(e,n){switch(Ph(n),n.tag){case 3:Ui(Ee),re();break;case 26:case 27:case 5:Gs(n);break;case 4:re();break;case 31:n.memoizedState!==null&&gn(n);break;case 13:gn(n);break;case 19:Y(fe);break;case 10:Ui(n.type);break;case 22:case 23:gn(n),Wh(),e!==null&&Y(Es);break;case 24:Ui(Ee)}}function Ko(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==h)}}catch(E){Ft(n,n.return,E)}}function Ar(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var R=r,P=E;try{P()}catch(H){Ft(h,R,H)}}}o=o.next}while(o!==f)}}catch(H){Ft(n,n.return,H)}}function Zp(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Bg(n,r)}catch(o){Ft(e,e.return,o)}}}function Jp(e,n,r){r.props=ws(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Ft(e,n,o)}}function Yo(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){Ft(e,n,h)}}function yi(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Ft(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Ft(e,n,h)}else r.current=null}function $p(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Ft(e,e.return,h)}}function Vf(e,n,r){try{var o=e.stateNode;NA(o,e.type,r,n),o[Me]=n}catch(h){Ft(e,e.return,h)}}function Wp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Dr(e.type)||e.tag===4}function Mf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Wp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Dr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Uf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Pn));else if(o!==4&&(o===27&&Dr(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Uf(e,n,r),e=e.sibling;e!==null;)Uf(e,n,r),e=e.sibling}function Fu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Dr(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Fu(e,n,r),e=e.sibling;e!==null;)Fu(e,n,r),e=e.sibling}function ty(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);je(n,o,r),n[ye]=e,n[Me]=r}catch(f){Ft(e,e.return,f)}}var zi=!1,Se=!1,xf=!1,ey=typeof WeakSet=="function"?WeakSet:Set,xe=null;function cA(e,n){if(e=e.containerInfo,nd=fc,e=dg(e),Ih(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,E=-1,R=-1,P=0,H=0,K=e,z=null;e:for(;;){for(var q;K!==r||h!==0&&K.nodeType!==3||(E=g+h),K!==f||o!==0&&K.nodeType!==3||(R=g+o),K.nodeType===3&&(g+=K.nodeValue.length),(q=K.firstChild)!==null;)z=K,K=q;for(;;){if(K===e)break e;if(z===r&&++P===h&&(E=g),z===f&&++H===o&&(R=g),(q=K.nextSibling)!==null)break;K=z,z=K.parentNode}K=q}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(id={focusedElem:e,selectionRange:r},fc=!1,xe=n;xe!==null;)if(n=xe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,xe=e;else for(;xe!==null;){switch(n=xe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var at=ws(r.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ft){Ft(r,r.return,ft)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)ad(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ad(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,xe=e;break}xe=n.return}}function ny(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:qi(e,r),o&4&&Ko(5,r);break;case 1:if(qi(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){Ft(r,r.return,g)}else{var h=ws(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Ft(r,r.return,g)}}o&64&&Zp(r),o&512&&Yo(r,r.return);break;case 3:if(qi(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Bg(e,n)}catch(g){Ft(r,r.return,g)}}break;case 27:n===null&&o&4&&ty(r);case 26:case 5:qi(e,r),n===null&&o&4&&$p(r),o&512&&Yo(r,r.return);break;case 12:qi(e,r);break;case 31:qi(e,r),o&4&&sy(e,r);break;case 13:qi(e,r),o&4&&ay(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=vA.bind(null,r),zA(e,r))));break;case 22:if(o=r.memoizedState!==null||zi,!o){n=n!==null&&n.memoizedState!==null||Se,h=zi;var f=Se;zi=o,(Se=n)&&!f?ji(e,r,(r.subtreeFlags&8772)!==0):qi(e,r),zi=h,Se=f}break;case 30:break;default:qi(e,r)}}function iy(e){var n=e.alternate;n!==null&&(e.alternate=null,iy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Xs(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,nn=!1;function Bi(e,n,r){for(r=r.child;r!==null;)ry(e,n,r),r=r.sibling}function ry(e,n,r){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(Un,r)}catch{}switch(r.tag){case 26:Se||yi(r,n),Bi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Se||yi(r,n);var o=ae,h=nn;Dr(r.type)&&(ae=r.stateNode,nn=!1),Bi(e,n,r),il(r.stateNode),ae=o,nn=h;break;case 5:Se||yi(r,n);case 6:if(o=ae,h=nn,ae=null,Bi(e,n,r),ae=o,nn=h,ae!==null)if(nn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(r.stateNode)}catch(f){Ft(r,n,f)}else try{ae.removeChild(r.stateNode)}catch(f){Ft(r,n,f)}break;case 18:ae!==null&&(nn?(e=ae,Zy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Ma(e)):Zy(ae,r.stateNode));break;case 4:o=ae,h=nn,ae=r.stateNode.containerInfo,nn=!0,Bi(e,n,r),ae=o,nn=h;break;case 0:case 11:case 14:case 15:Ar(2,r,n),Se||Ar(4,r,n),Bi(e,n,r);break;case 1:Se||(yi(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Jp(r,n,o)),Bi(e,n,r);break;case 21:Bi(e,n,r);break;case 22:Se=(o=Se)||r.memoizedState!==null,Bi(e,n,r),Se=o;break;default:Bi(e,n,r)}}function sy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ma(e)}catch(r){Ft(n,n.return,r)}}}function ay(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ma(e)}catch(r){Ft(n,n.return,r)}}function hA(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ey),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ey),n;default:throw Error(s(435,e.tag))}}function Qu(e,n){var r=hA(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=EA.bind(null,e,o);o.then(h,h)}})}function rn(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Dr(E.type)){ae=E.stateNode,nn=!1;break t}break;case 5:ae=E.stateNode,nn=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,nn=!0;break t}E=E.return}if(ae===null)throw Error(s(160));ry(f,g,h),ae=null,nn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)oy(n,e),n=n.sibling}var Gn=null;function oy(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:rn(n,e),sn(e),o&4&&(Ar(3,e,e.return),Ko(3,e),Ar(5,e,e.return));break;case 1:rn(n,e),sn(e),o&512&&(Se||r===null||yi(r,r.return)),o&64&&zi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=Gn;if(rn(n,e),sn(e),o&512&&(Se||r===null||yi(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ii]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),je(f,o,r),f[ye]=e,_e(f),o=f;break t;case"link":var g=o_("link","href",h).get(o+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),je(f,o,r),h.head.appendChild(f);break;case"meta":if(g=o_("meta","content",h).get(o+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break e}}f=h.createElement(o),je(f,o,r),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[ye]=e,_e(f),o=f}e.stateNode=o}else l_(h,e.type,e.stateNode);else e.stateNode=a_(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?l_(h,e.type,e.stateNode):a_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Vf(e,e.memoizedProps,r.memoizedProps)}break;case 27:rn(n,e),sn(e),o&512&&(Se||r===null||yi(r,r.return)),r!==null&&o&4&&Vf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(rn(n,e),sn(e),o&512&&(Se||r===null||yi(r,r.return)),e.flags&32){h=e.stateNode;try{en(h,"")}catch(at){Ft(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Vf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(xf=!0);break;case 6:if(rn(n,e),sn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(at){Ft(e,e.return,at)}}break;case 3:if(lc=null,h=Gn,Gn=ac(n.containerInfo),rn(n,e),Gn=h,sn(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Ma(n.containerInfo)}catch(at){Ft(e,e.return,at)}xf&&(xf=!1,ly(e));break;case 4:o=Gn,Gn=ac(e.stateNode.containerInfo),rn(n,e),sn(e),Gn=o;break;case 12:rn(n,e),sn(e);break;case 31:rn(n,e),sn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Qu(e,o)));break;case 13:rn(n,e),sn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Yu=Je()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Qu(e,o)));break;case 22:h=e.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,P=zi,H=Se;if(zi=P||h,Se=H||R,rn(n,e),Se=H,zi=P,sn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||R||zi||Se||Rs(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var K=R.memoizedProps.style,z=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(at){Ft(R,R.return,at)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(at){Ft(R,R.return,at)}}}else if(n.tag===18){if(r===null){R=n;try{var q=R.stateNode;h?Jy(q,!0):Jy(R.stateNode,!1)}catch(at){Ft(R,R.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Qu(e,r))));break;case 19:rn(n,e),sn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Qu(e,o)));break;case 30:break;case 21:break;default:rn(n,e),sn(e)}}function sn(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(Wp(o)){r=o;break}o=o.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var h=r.stateNode,f=Mf(e);Fu(e,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(en(g,""),r.flags&=-33);var E=Mf(e);Fu(e,E,g);break;case 3:case 4:var R=r.stateNode.containerInfo,P=Mf(e);Uf(e,P,R);break;default:throw Error(s(161))}}catch(H){Ft(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ly(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ly(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function qi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ny(e,n.alternate,n),n=n.sibling}function Rs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ar(4,n,n.return),Rs(n);break;case 1:yi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Jp(n,n.return,r),Rs(n);break;case 27:il(n.stateNode);case 26:case 5:yi(n,n.return),Rs(n);break;case 22:n.memoizedState===null&&Rs(n);break;case 30:Rs(n);break;default:Rs(n)}e=e.sibling}}function ji(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ji(h,f,r),Ko(4,f);break;case 1:if(ji(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Ft(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)zg(R[h],E)}catch(P){Ft(o,o.return,P)}}r&&g&64&&Zp(f),Yo(f,f.return);break;case 27:ty(f);case 26:case 5:ji(h,f,r),r&&o===null&&g&4&&$p(f),Yo(f,f.return);break;case 12:ji(h,f,r);break;case 31:ji(h,f,r),r&&g&4&&sy(h,f);break;case 13:ji(h,f,r),r&&g&4&&ay(h,f);break;case 22:f.memoizedState===null&&ji(h,f,r),Yo(f,f.return);break;case 30:break;default:ji(h,f,r)}n=n.sibling}}function Lf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Uo(r))}function kf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Uo(e))}function Fn(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)uy(e,n,r,o),n=n.sibling}function uy(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Fn(e,n,r,o),h&2048&&Ko(9,n);break;case 1:Fn(e,n,r,o);break;case 3:Fn(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Uo(e)));break;case 12:if(h&2048){Fn(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Ft(n,n.return,R)}}else Fn(e,n,r,o);break;case 31:Fn(e,n,r,o);break;case 13:Fn(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Fn(e,n,r,o):Xo(e,n):f._visibility&2?Fn(e,n,r,o):(f._visibility|=2,Aa(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Lf(g,n);break;case 24:Fn(e,n,r,o),h&2048&&kf(n.alternate,n);break;default:Fn(e,n,r,o)}}function Aa(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=r,R=o,P=g.flags;switch(g.tag){case 0:case 11:case 15:Aa(f,g,E,R,h),Ko(8,g);break;case 23:break;case 22:var H=g.stateNode;g.memoizedState!==null?H._visibility&2?Aa(f,g,E,R,h):Xo(f,g):(H._visibility|=2,Aa(f,g,E,R,h)),h&&P&2048&&Lf(g.alternate,g);break;case 24:Aa(f,g,E,R,h),h&&P&2048&&kf(g.alternate,g);break;default:Aa(f,g,E,R,h)}n=n.sibling}}function Xo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:Xo(r,o),h&2048&&Lf(o.alternate,o);break;case 24:Xo(r,o),h&2048&&kf(o.alternate,o);break;default:Xo(r,o)}n=n.sibling}}var Zo=8192;function Sa(e,n,r){if(e.subtreeFlags&Zo)for(e=e.child;e!==null;)cy(e,n,r),e=e.sibling}function cy(e,n,r){switch(e.tag){case 26:Sa(e,n,r),e.flags&Zo&&e.memoizedState!==null&&JA(r,Gn,e.memoizedState,e.memoizedProps);break;case 5:Sa(e,n,r);break;case 3:case 4:var o=Gn;Gn=ac(e.stateNode.containerInfo),Sa(e,n,r),Gn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Zo,Zo=16777216,Sa(e,n,r),Zo=o):Sa(e,n,r));break;default:Sa(e,n,r)}}function hy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Jo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];xe=o,dy(o,e)}hy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)fy(e),e=e.sibling}function fy(e){switch(e.tag){case 0:case 11:case 15:Jo(e),e.flags&2048&&Ar(9,e,e.return);break;case 3:Jo(e);break;case 12:Jo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ku(e)):Jo(e);break;default:Jo(e)}}function Ku(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];xe=o,dy(o,e)}hy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ar(8,n,n.return),Ku(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Ku(n));break;default:Ku(n)}e=e.sibling}}function dy(e,n){for(;xe!==null;){var r=xe;switch(r.tag){case 0:case 11:case 15:Ar(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Uo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,xe=o;else t:for(r=e;xe!==null;){o=xe;var h=o.sibling,f=o.return;if(iy(o),o===r){xe=null;break t}if(h!==null){h.return=f,xe=h;break t}xe=f}}}var fA={getCacheForType:function(e){var n=Be(Ee),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Be(Ee).controller.signal}},dA=typeof WeakMap=="function"?WeakMap:Map,Bt=0,$t=null,bt=null,Rt=0,Gt=0,pn=null,Sr=!1,ba=!1,Pf=!1,Hi=0,ue=0,br=0,Is=0,zf=0,yn=0,wa=0,$o=null,an=null,Bf=!1,Yu=0,my=0,Xu=1/0,Zu=null,wr=null,Oe=0,Rr=null,Ra=null,Gi=0,qf=0,jf=null,gy=null,Wo=0,Hf=null;function _n(){return(Bt&2)!==0&&Rt!==0?Rt&-Rt:G.T!==null?Xf():Jl()}function py(){if(yn===0)if((Rt&536870912)===0||Vt){var e=ts;ts<<=1,(ts&3932160)===0&&(ts=262144),yn=e}else yn=536870912;return e=mn.current,e!==null&&(e.flags|=32),yn}function on(e,n,r){(e===$t&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)&&(Ia(e,0),Ir(e,Rt,yn,!1)),es(e,r),((Bt&2)===0||e!==$t)&&(e===$t&&((Bt&2)===0&&(Is|=r),ue===4&&Ir(e,Rt,yn,!1)),_i(e))}function yy(e,n,r){if((Bt&6)!==0)throw Error(s(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||xn(e,n),h=o?pA(e,n):Ff(e,n,!0),f=o;do{if(h===0){ba&&!o&&Ir(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!mA(r)){h=Ff(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=$o;var R=E.current.memoizedState.isDehydrated;if(R&&(Ia(E,g).flags|=256),g=Ff(E,g,!1),g!==2){if(Pf&&!R){E.errorRecoveryDisabledLanes|=f,Is|=f,h=4;break t}f=an,an=h,f!==null&&(an===null?an=f:an.push.apply(an,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ia(e,0),Ir(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Ir(o,n,yn,!Sr);break t;case 2:an=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Yu+300-Je(),10<h)){if(Ir(o,n,yn,!Sr),ti(o,0,!0)!==0)break t;Gi=n,o.timeoutHandle=Yy(_y.bind(null,o,r,an,Zu,Bf,n,yn,Is,wa,Sr,f,"Throttled",-0,0),h);break t}_y(o,r,an,Zu,Bf,n,yn,Is,wa,Sr,f,null,-0,0)}}break}while(!0);_i(e)}function _y(e,n,r,o,h,f,g,E,R,P,H,K,z,q){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pn},cy(n,f,K);var at=(f&62914560)===f?Yu-Je():(f&4194048)===f?my-Je():0;if(at=$A(K,at),at!==null){Gi=f,e.cancelPendingCommit=at(Ry.bind(null,e,n,f,r,o,h,g,E,R,H,K,null,z,q)),Ir(e,f,g,!P);return}}Ry(e,n,f,r,o,h,g,E,R)}function mA(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!fn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ir(e,n,r,o){n&=~zf,n&=~Is,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-ce(h),g=1<<f;o[f]=-1,h&=~g}r!==0&&ns(e,r,n)}function Ju(){return(Bt&6)===0?(tl(0),!1):!0}function Gf(){if(bt!==null){if(Gt===0)var e=bt.return;else e=bt,Mi=_s=null,af(e),ya=null,Lo=0,e=bt;for(;e!==null;)Xp(e.alternate,e),e=e.return;bt=null}}function Ia(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,UA(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Gi=0,Gf(),$t=e,bt=r=Ni(e.current,null),Rt=n,Gt=0,pn=null,Sr=!1,ba=xn(e,n),Pf=!1,wa=yn=zf=Is=br=ue=0,an=$o=null,Bf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ce(o),f=1<<h;n|=e[h],o&=~f}return Hi=n,_u(),r}function vy(e,n){Tt=null,G.H=Go,n===pa||n===Ru?(n=xg(),Gt=3):n===Kh?(n=xg(),Gt=4):Gt=n===Af?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,pn=n,bt===null&&(ue=1,Bu(e,wn(n,e.current)))}function Ey(){var e=mn.current;return e===null?!0:(Rt&4194048)===Rt?Dn===null:(Rt&62914560)===Rt||(Rt&536870912)!==0?e===Dn:!1}function Ty(){var e=G.H;return G.H=Go,e===null?Go:e}function Ay(){var e=G.A;return G.A=fA,e}function $u(){ue=4,Sr||(Rt&4194048)!==Rt&&mn.current!==null||(ba=!0),(br&134217727)===0&&(Is&134217727)===0||$t===null||Ir($t,Rt,yn,!1)}function Ff(e,n,r){var o=Bt;Bt|=2;var h=Ty(),f=Ay();($t!==e||Rt!==n)&&(Zu=null,Ia(e,n)),n=!1;var g=ue;t:do try{if(Gt!==0&&bt!==null){var E=bt,R=pn;switch(Gt){case 8:Gf(),g=6;break t;case 3:case 2:case 9:case 6:mn.current===null&&(n=!0);var P=Gt;if(Gt=0,pn=null,Ca(e,E,R,P),r&&ba){g=0;break t}break;default:P=Gt,Gt=0,pn=null,Ca(e,E,R,P)}}gA(),g=ue;break}catch(H){vy(e,H)}while(!0);return n&&e.shellSuspendCounter++,Mi=_s=null,Bt=o,G.H=h,G.A=f,bt===null&&($t=null,Rt=0,_u()),g}function gA(){for(;bt!==null;)Sy(bt)}function pA(e,n){var r=Bt;Bt|=2;var o=Ty(),h=Ay();$t!==e||Rt!==n?(Zu=null,Xu=Je()+500,Ia(e,n)):ba=xn(e,n);t:do try{if(Gt!==0&&bt!==null){n=bt;var f=pn;e:switch(Gt){case 1:Gt=0,pn=null,Ca(e,n,f,1);break;case 2:case 9:if(Mg(f)){Gt=0,pn=null,by(n);break}n=function(){Gt!==2&&Gt!==9||$t!==e||(Gt=7),_i(e)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Mg(f)?(Gt=0,pn=null,by(n)):(Gt=0,pn=null,Ca(e,n,f,7));break;case 5:var g=null;switch(bt.tag){case 26:g=bt.memoizedState;case 5:case 27:var E=bt;if(g?u_(g):E.stateNode.complete){Gt=0,pn=null;var R=E.sibling;if(R!==null)bt=R;else{var P=E.return;P!==null?(bt=P,Wu(P)):bt=null}break e}}Gt=0,pn=null,Ca(e,n,f,5);break;case 6:Gt=0,pn=null,Ca(e,n,f,6);break;case 8:Gf(),ue=6;break t;default:throw Error(s(462))}}yA();break}catch(H){vy(e,H)}while(!0);return Mi=_s=null,G.H=o,G.A=h,Bt=r,bt!==null?0:($t=null,Rt=0,_u(),ue)}function yA(){for(;bt!==null&&!Eh();)Sy(bt)}function Sy(e){var n=Kp(e.alternate,e,Hi);e.memoizedProps=e.pendingProps,n===null?Wu(e):bt=n}function by(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=qp(r,n,n.pendingProps,n.type,void 0,Rt);break;case 11:n=qp(r,n,n.pendingProps,n.type.render,n.ref,Rt);break;case 5:af(n);default:Xp(r,n),n=bt=Ag(n,Hi),n=Kp(r,n,Hi)}e.memoizedProps=e.pendingProps,n===null?Wu(e):bt=n}function Ca(e,n,r,o){Mi=_s=null,af(n),ya=null,Lo=0;var h=n.return;try{if(sA(e,h,n,r,Rt)){ue=1,Bu(e,wn(r,e.current)),bt=null;return}}catch(f){if(h!==null)throw bt=h,f;ue=1,Bu(e,wn(r,e.current)),bt=null;return}n.flags&32768?(Vt||o===1?e=!0:ba||(Rt&536870912)!==0?e=!1:(Sr=e=!0,(o===2||o===9||o===3||o===6)&&(o=mn.current,o!==null&&o.tag===13&&(o.flags|=16384))),wy(n,e)):Wu(n)}function Wu(e){var n=e;do{if((n.flags&32768)!==0){wy(n,Sr);return}e=n.return;var r=lA(n.alternate,n,Hi);if(r!==null){bt=r;return}if(n=n.sibling,n!==null){bt=n;return}bt=n=e}while(n!==null);ue===0&&(ue=5)}function wy(e,n){do{var r=uA(e.alternate,e);if(r!==null){r.flags&=32767,bt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){bt=e;return}bt=e=r}while(e!==null);ue=6,bt=null}function Ry(e,n,r,o,h,f,g,E,R){e.cancelPendingCommit=null;do tc();while(Oe!==0);if((Bt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Vh,Sh(e,r,f,g,E,R),e===$t&&(bt=$t=null,Rt=0),Ra=n,Rr=e,Gi=r,qf=f,jf=h,gy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,TA(ir,function(){return Ny(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=tt.p,tt.p=2,g=Bt,Bt|=4;try{cA(e,n,r)}finally{Bt=g,tt.p=h,G.T=o}}Oe=1,Iy(),Cy(),Dy()}}function Iy(){if(Oe===1){Oe=0;var e=Rr,n=Ra,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var o=tt.p;tt.p=2;var h=Bt;Bt|=4;try{oy(n,e);var f=id,g=dg(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&fg(E.ownerDocument.documentElement,E)){if(R!==null&&Ih(E)){var P=R.start,H=R.end;if(H===void 0&&(H=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(H,E.value.length);else{var K=E.ownerDocument||document,z=K&&K.defaultView||window;if(z.getSelection){var q=z.getSelection(),at=E.textContent.length,ft=Math.min(R.start,at),Jt=R.end===void 0?ft:Math.min(R.end,at);!q.extend&&ft>Jt&&(g=Jt,Jt=ft,ft=g);var U=hg(E,ft),O=hg(E,Jt);if(U&&O&&(q.rangeCount!==1||q.anchorNode!==U.node||q.anchorOffset!==U.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var k=K.createRange();k.setStart(U.node,U.offset),q.removeAllRanges(),ft>Jt?(q.addRange(k),q.extend(O.node,O.offset)):(k.setEnd(O.node,O.offset),q.addRange(k))}}}}for(K=[],q=E;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Q=K[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}fc=!!nd,id=nd=null}finally{Bt=h,tt.p=o,G.T=r}}e.current=n,Oe=2}}function Cy(){if(Oe===2){Oe=0;var e=Rr,n=Ra,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var o=tt.p;tt.p=2;var h=Bt;Bt|=4;try{ny(e,n.alternate,n)}finally{Bt=h,tt.p=o,G.T=r}}Oe=3}}function Dy(){if(Oe===4||Oe===3){Oe=0,Gl();var e=Rr,n=Ra,r=Gi,o=gy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Oe=5:(Oe=0,Ra=Rr=null,Oy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(wr=null),Ii(r),n=n.stateNode,ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(Un,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=tt.p,tt.p=2,G.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,tt.p=h}}(Gi&3)!==0&&tc(),_i(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===Hf?Wo++:(Wo=0,Hf=e):Wo=0,tl(0)}}function Oy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Uo(n)))}function tc(){return Iy(),Cy(),Dy(),Ny()}function Ny(){if(Oe!==5)return!1;var e=Rr,n=qf;qf=0;var r=Ii(Gi),o=G.T,h=tt.p;try{tt.p=32>r?32:r,G.T=null,r=jf,jf=null;var f=Rr,g=Gi;if(Oe=0,Ra=Rr=null,Gi=0,(Bt&6)!==0)throw Error(s(331));var E=Bt;if(Bt|=4,fy(f.current),uy(f,f.current,g,r),Bt=E,tl(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(Un,f)}catch{}return!0}finally{tt.p=h,G.T=o,Oy(e,n)}}function Vy(e,n,r){n=wn(r,n),n=Tf(e.stateNode,n,2),e=vr(e,n,2),e!==null&&(es(e,2),_i(e))}function Ft(e,n,r){if(e.tag===3)Vy(e,e,r);else for(;n!==null;){if(n.tag===3){Vy(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(wr===null||!wr.has(o))){e=wn(r,e),r=Mp(2),o=vr(n,r,2),o!==null&&(Up(r,o,n,e),es(o,2),_i(o));break}}n=n.return}}function Qf(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new dA;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Pf=!0,h.add(r),e=_A.bind(null,e,n,r),n.then(e,e))}function _A(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,$t===e&&(Rt&r)===r&&(ue===4||ue===3&&(Rt&62914560)===Rt&&300>Je()-Yu?(Bt&2)===0&&Ia(e,0):zf|=r,wa===Rt&&(wa=0)),_i(e)}function My(e,n){n===0&&(n=Zl()),e=gs(e,n),e!==null&&(es(e,n),_i(e))}function vA(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),My(e,r)}function EA(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),My(e,r)}function TA(e,n){return De(e,n)}var ec=null,Da=null,Kf=!1,nc=!1,Yf=!1,Cr=0;function _i(e){e!==Da&&e.next===null&&(Da===null?ec=Da=e:Da=Da.next=e),nc=!0,Kf||(Kf=!0,SA())}function tl(e,n){if(!Yf&&nc){Yf=!0;do for(var r=!1,o=ec;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ce(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,ky(o,f))}else f=Rt,f=ti(o,o===$t?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||xn(o,f)||(r=!0,ky(o,f));o=o.next}while(r);Yf=!1}}function AA(){Uy()}function Uy(){nc=Kf=!1;var e=0;Cr!==0&&MA()&&(e=Cr);for(var n=Je(),r=null,o=ec;o!==null;){var h=o.next,f=xy(o,n);f===0?(o.next=null,r===null?ec=h:r.next=h,h===null&&(Da=r)):(r=o,(e!==0||(f&3)!==0)&&(nc=!0)),o=h}Oe!==0&&Oe!==5||tl(e),Cr!==0&&(Cr=0)}function xy(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-ce(f),E=1<<g,R=h[g];R===-1?((E&r)===0||(E&o)!==0)&&(h[g]=Ah(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=$t,r=Rt,r=ti(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&nr(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||xn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&nr(o),Ii(r)){case 2:case 8:r=uo;break;case 32:r=ir;break;case 268435456:r=Fl;break;default:r=ir}return o=Ly.bind(null,e),r=De(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&nr(o),e.callbackPriority=2,e.callbackNode=null,2}function Ly(e,n){if(Oe!==0&&Oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(tc()&&e.callbackNode!==r)return null;var o=Rt;return o=ti(e,e===$t?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(yy(e,o,n),xy(e,Je()),e.callbackNode!=null&&e.callbackNode===r?Ly.bind(null,e):null)}function ky(e,n){if(tc())return null;yy(e,n,!0)}function SA(){xA(function(){(Bt&6)!==0?De(lo,AA):Uy()})}function Xf(){if(Cr===0){var e=ma;e===0&&(e=$n,$n<<=1,($n&261888)===0&&($n=256)),Cr=e}return Cr}function Py(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ws(""+e)}function zy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function bA(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=Py((h[Me]||null).action),g=o.submitter;g&&(n=(n=g[Me]||null)?Py(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new hi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Cr!==0){var R=g?zy(h,g):new FormData(h);gf(r,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?zy(h,g):new FormData(h),gf(r,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var Zf=0;Zf<Nh.length;Zf++){var Jf=Nh[Zf],wA=Jf.toLowerCase(),RA=Jf[0].toUpperCase()+Jf.slice(1);Hn(wA,"on"+RA)}Hn(pg,"onAnimationEnd"),Hn(yg,"onAnimationIteration"),Hn(_g,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(j0,"onTransitionRun"),Hn(H0,"onTransitionStart"),Hn(G0,"onTransitionCancel"),Hn(vg,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(el));function By(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],R=E.instance,P=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(H){yu(H)}h.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(E=o[g],R=E.instance,P=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(H){yu(H)}h.currentTarget=null,f=R}}}}function wt(e,n){var r=n[Ys];r===void 0&&(r=n[Ys]=new Set);var o=e+"__bubble";r.has(o)||(qy(n,e,2,!1),r.add(o))}function $f(e,n,r){var o=0;n&&(o|=4),qy(r,e,o,n)}var ic="_reactListening"+Math.random().toString(36).slice(2);function Wf(e){if(!e[ic]){e[ic]=!0,fo.forEach(function(r){r!=="selectionchange"&&(IA.has(r)||$f(r,!1,e),$f(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ic]||(n[ic]=!0,$f("selectionchange",!1,n))}}function qy(e,n,r,o){switch(p_(n)){case 2:var h=eS;break;case 8:h=nS;break;default:h=md}r=h.bind(null,n,r,e),h=void 0,!os||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function td(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=ri(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue t}E=E.parentNode}}o=o.return}ur(function(){var P=f,H=Tn(r),K=[];t:{var z=Eg.get(e);if(z!==void 0){var q=hi,at=e;switch(e){case"keypress":if(us(r)===0)break t;case"keydown":case"keyup":q=mu;break;case"focusin":at="focus",q=hs;break;case"focusout":at="blur",q=hs;break;case"beforeblur":case"afterblur":q=hs;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Ro;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=su;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case pg:case yg:case _g:q=ou;break;case vg:q=T;break;case"scroll":case"scrollend":q=wo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=lu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Oi;break;case"toggle":case"beforetoggle":q=Et}var ft=(n&4)!==0,Jt=!ft&&(e==="scroll"||e==="scrollend"),U=ft?z!==null?z+"Capture":null:z;ft=[];for(var O=P,k;O!==null;){var Q=O;if(k=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||k===null||U===null||(Q=zn(O,U),Q!=null&&ft.push(nl(O,Q,k))),Jt)break;O=O.return}0<ft.length&&(z=new q(z,at,null,r,H),K.push({event:z,listeners:ft}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&r!==Ao&&(at=r.relatedTarget||r.fromElement)&&(ri(at)||at[ni]))break t;if((q||z)&&(z=H.window===H?H:(z=H.ownerDocument)?z.defaultView||z.parentWindow:window,q?(at=r.relatedTarget||r.toElement,q=P,at=at?ri(at):null,at!==null&&(Jt=c(at),ft=at.tag,at!==Jt||ft!==5&&ft!==27&&ft!==6)&&(at=null)):(q=null,at=P),q!==at)){if(ft=Ro,Q="onMouseLeave",U="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(ft=Oi,Q="onPointerLeave",U="onPointerEnter",O="pointer"),Jt=q==null?z:cn(q),k=at==null?z:cn(at),z=new ft(Q,O+"leave",q,r,H),z.target=Jt,z.relatedTarget=k,Q=null,ri(H)===P&&(ft=new ft(U,O+"enter",at,r,H),ft.target=k,ft.relatedTarget=Jt,Q=ft),Jt=Q,q&&at)e:{for(ft=CA,U=q,O=at,k=0,Q=U;Q;Q=ft(Q))k++;Q=0;for(var lt=O;lt;lt=ft(lt))Q++;for(;0<k-Q;)U=ft(U),k--;for(;0<Q-k;)O=ft(O),Q--;for(;k--;){if(U===O||O!==null&&U===O.alternate){ft=U;break e}U=ft(U),O=ft(O)}ft=null}else ft=null;q!==null&&jy(K,z,q,ft,!1),at!==null&&Jt!==null&&jy(K,Jt,at,ft,!0)}}t:{if(z=P?cn(P):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var kt=sg;else if(ig(z))if(ag)kt=z0;else{kt=k0;var ot=L0}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&$s(P.elementType)&&(kt=sg):kt=P0;if(kt&&(kt=kt(e,P))){rg(K,kt,r,H);break t}ot&&ot(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&vo(z,"number",z.value)}switch(ot=P?cn(P):window,e){case"focusin":(ig(ot)||ot.contentEditable==="true")&&(aa=ot,Ch=P,No=null);break;case"focusout":No=Ch=aa=null;break;case"mousedown":Dh=!0;break;case"contextmenu":case"mouseup":case"dragend":Dh=!1,mg(K,r,H);break;case"selectionchange":if(q0)break;case"keydown":case"keyup":mg(K,r,H)}var St;if(zt)t:{switch(e){case"compositionstart":var It="onCompositionStart";break t;case"compositionend":It="onCompositionEnd";break t;case"compositionupdate":It="onCompositionUpdate";break t}It=void 0}else sa?fs(e,r)&&(It="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(It="onCompositionStart");It&&(mi&&r.locale!=="ko"&&(sa||It!=="onCompositionStart"?It==="onCompositionEnd"&&sa&&(St=bo()):(ci=H,So="value"in ci?ci.value:ci.textContent,sa=!0)),ot=rc(P,It),0<ot.length&&(It=new di(It,e,null,r,H),K.push({event:It,listeners:ot}),St?It.data=St:(St=ra(r),St!==null&&(It.data=St)))),(St=Sn?V0(e,r):M0(e,r))&&(It=rc(P,"onBeforeInput"),0<It.length&&(ot=new di("onBeforeInput","beforeinput",null,r,H),K.push({event:ot,listeners:It}),ot.data=St)),bA(K,e,P,r,H)}By(K,n)})}function nl(e,n,r){return{instance:e,listener:n,currentTarget:r}}function rc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=zn(e,r),h!=null&&o.unshift(nl(e,h,f)),h=zn(e,n),h!=null&&o.push(nl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function CA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function jy(e,n,r,o,h){for(var f=n._reactName,g=[];r!==null&&r!==o;){var E=r,R=E.alternate,P=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||P===null||(R=P,h?(P=zn(r,f),P!=null&&g.unshift(nl(r,P,R))):h||(P=zn(r,f),P!=null&&g.push(nl(r,P,R)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var DA=/\r\n?/g,OA=/\u0000|\uFFFD/g;function Hy(e){return(typeof e=="string"?e:""+e).replace(DA,`
`).replace(OA,"")}function Gy(e,n){return n=Hy(n),Hy(e)===n}function Zt(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||en(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&en(e,""+o);break;case"className":hn(e,"class",o);break;case"tabIndex":hn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":hn(e,r,o);break;case"style":To(e,o,f);break;case"data":if(n!=="object"){hn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Ws(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Zt(e,n,"name",h.name,h,null),Zt(e,n,"formEncType",h.formEncType,h,null),Zt(e,n,"formMethod",h.formMethod,h,null),Zt(e,n,"formTarget",h.formTarget,h,null)):(Zt(e,n,"encType",h.encType,h,null),Zt(e,n,"method",h.method,h,null),Zt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Ws(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=Pn);break;case"onScroll":o!=null&&wt("scroll",e);break;case"onScrollEnd":o!=null&&wt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=Ws(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":wt("beforetoggle",e),wt("toggle",e),Zs(e,"popover",o);break;case"xlinkActuate":ve(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ve(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ve(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ve(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ve(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ve(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ve(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ve(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ve(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Zs(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=ru.get(r)||r,Zs(e,r,o))}}function ed(e,n,r,o,h,f){switch(r){case"style":To(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"children":typeof o=="string"?en(e,o):(typeof o=="number"||typeof o=="bigint")&&en(e,""+o);break;case"onScroll":o!=null&&wt("scroll",e);break;case"onScrollEnd":o!=null&&wt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Pn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mo.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[Me]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):Zs(e,r,o)}}}function je(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",e),wt("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Zt(e,n,f,g,r,null)}}h&&Zt(e,n,"srcSet",r.srcSet,r,null),o&&Zt(e,n,"src",r.src,r,null);return;case"input":wt("invalid",e);var E=f=g=h=null,R=null,P=null;for(o in r)if(r.hasOwnProperty(o)){var H=r[o];if(H!=null)switch(o){case"name":h=H;break;case"type":g=H;break;case"checked":R=H;break;case"defaultChecked":P=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:Zt(e,n,o,H,r,null)}}eu(e,f,E,R,P,g,h,!1);return;case"select":wt("invalid",e),o=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Zt(e,n,h,E,r,null)}n=f,r=g,e.multiple=!!o,n!=null?sr(e,!!o,n,!1):r!=null&&sr(e,!!o,r,!0);return;case"textarea":wt("invalid",e),f=h=o=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Zt(e,n,g,E,r,null)}ar(e,o,h,f);return;case"option":for(R in r)r.hasOwnProperty(R)&&(o=r[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Zt(e,n,R,o,r,null));return;case"dialog":wt("beforetoggle",e),wt("toggle",e),wt("cancel",e),wt("close",e);break;case"iframe":case"object":wt("load",e);break;case"video":case"audio":for(o=0;o<el.length;o++)wt(el[o],e);break;case"image":wt("error",e),wt("load",e);break;case"details":wt("toggle",e);break;case"embed":case"source":case"link":wt("error",e),wt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(o=r[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Zt(e,n,P,o,r,null)}return;default:if($s(n)){for(H in r)r.hasOwnProperty(H)&&(o=r[H],o!==void 0&&ed(e,n,H,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&Zt(e,n,E,o,r,null))}function NA(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,R=null,P=null,H=null;for(q in r){var K=r[q];if(r.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=K;default:o.hasOwnProperty(q)||Zt(e,n,q,null,o,K)}}for(var z in o){var q=o[z];if(K=r[z],o.hasOwnProperty(z)&&(q!=null||K!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":P=q;break;case"defaultChecked":H=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==K&&Zt(e,n,z,q,o,K)}}Js(e,g,E,R,P,H,f,h);return;case"select":q=g=E=z=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||Zt(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=r[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&Zt(e,n,h,f,o,R)}n=E,r=g,o=q,z!=null?sr(e,!!r,z,!1):!!o!=!!r&&(n!=null?sr(e,!!r,n,!0):sr(e,!!r,r?[]:"",!1));return;case"textarea":q=z=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=r[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Zt(e,n,g,h,o,f)}nu(e,z,q);return;case"option":for(var at in r)z=r[at],r.hasOwnProperty(at)&&z!=null&&!o.hasOwnProperty(at)&&(at==="selected"?e.selected=!1:Zt(e,n,at,null,o,z));for(R in o)z=o[R],q=r[R],o.hasOwnProperty(R)&&z!==q&&(z!=null||q!=null)&&(R==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":Zt(e,n,R,z,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in r)z=r[ft],r.hasOwnProperty(ft)&&z!=null&&!o.hasOwnProperty(ft)&&Zt(e,n,ft,null,o,z);for(P in o)if(z=o[P],q=r[P],o.hasOwnProperty(P)&&z!==q&&(z!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,n));break;default:Zt(e,n,P,z,o,q)}return;default:if($s(n)){for(var Jt in r)z=r[Jt],r.hasOwnProperty(Jt)&&z!==void 0&&!o.hasOwnProperty(Jt)&&ed(e,n,Jt,void 0,o,z);for(H in o)z=o[H],q=r[H],!o.hasOwnProperty(H)||z===q||z===void 0&&q===void 0||ed(e,n,H,z,o,q);return}}for(var U in r)z=r[U],r.hasOwnProperty(U)&&z!=null&&!o.hasOwnProperty(U)&&Zt(e,n,U,null,o,z);for(K in o)z=o[K],q=r[K],!o.hasOwnProperty(K)||z===q||z==null&&q==null||Zt(e,n,K,z,o,q)}function Fy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function VA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&Fy(g)){for(g=0,E=h.responseEnd,o+=1;o<r.length;o++){var R=r[o],P=R.startTime;if(P>E)break;var H=R.transferSize,K=R.initiatorType;H&&Fy(K)&&(R=R.responseEnd,g+=H*(R<E?1:(E-P)/(R-P)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var nd=null,id=null;function sc(e){return e.nodeType===9?e:e.ownerDocument}function Qy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ky(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function rd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var sd=null;function MA(){var e=window.event;return e&&e.type==="popstate"?e===sd?!1:(sd=e,!0):(sd=null,!1)}var Yy=typeof setTimeout=="function"?setTimeout:void 0,UA=typeof clearTimeout=="function"?clearTimeout:void 0,Xy=typeof Promise=="function"?Promise:void 0,xA=typeof queueMicrotask=="function"?queueMicrotask:typeof Xy<"u"?function(e){return Xy.resolve(null).then(e).catch(LA)}:Yy;function LA(e){setTimeout(function(){throw e})}function Dr(e){return e==="head"}function Zy(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),Ma(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")il(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,il(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ii]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&il(e.ownerDocument.body);r=h}while(r);Ma(n)}function Jy(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function ad(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":ad(r),Xs(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function kA(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ii])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=On(e.nextSibling),e===null)break}return null}function PA(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=On(e.nextSibling),e===null))return null;return e}function $y(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=On(e.nextSibling),e===null))return null;return e}function od(e){return e.data==="$?"||e.data==="$~"}function ld(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function zA(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function On(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var ud=null;function Wy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return On(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function t_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function e_(e,n,r){switch(n=sc(r),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function il(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Xs(e)}var Nn=new Map,n_=new Set;function ac(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Fi=tt.d;tt.d={f:BA,r:qA,D:jA,C:HA,L:GA,m:FA,X:KA,S:QA,M:YA};function BA(){var e=Fi.f(),n=Ju();return e||n}function qA(e){var n=En(e);n!==null&&n.tag===5&&n.type==="form"?vp(n):Fi.r(e)}var Oa=typeof document>"u"?null:document;function i_(e,n,r){var o=Oa;if(o&&typeof n=="string"&&n){var h=tn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),n_.has(h)||(n_.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),je(n,"link",e),_e(n),o.head.appendChild(n)))}}function jA(e){Fi.D(e),i_("dns-prefetch",e,null)}function HA(e,n){Fi.C(e,n),i_("preconnect",e,n)}function GA(e,n,r){Fi.L(e,n,r);var o=Oa;if(o&&e&&n){var h='link[rel="preload"][as="'+tn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+tn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+tn(r.imageSizes)+'"]')):h+='[href="'+tn(e)+'"]';var f=h;switch(n){case"style":f=Na(e);break;case"script":f=Va(e)}Nn.has(f)||(e=S({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Nn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(rl(f))||n==="script"&&o.querySelector(sl(f))||(n=o.createElement("link"),je(n,"link",e),_e(n),o.head.appendChild(n)))}}function FA(e,n){Fi.m(e,n);var r=Oa;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+tn(o)+'"][href="'+tn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Va(e)}if(!Nn.has(f)&&(e=S({rel:"modulepreload",href:e},n),Nn.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(sl(f)))return}o=r.createElement("link"),je(o,"link",e),_e(o),r.head.appendChild(o)}}}function QA(e,n,r){Fi.S(e,n,r);var o=Oa;if(o&&e){var h=si(o).hoistableStyles,f=Na(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(rl(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Nn.get(f))&&cd(e,r);var R=g=o.createElement("link");_e(R),je(R,"link",e),R._p=new Promise(function(P,H){R.onload=P,R.onerror=H}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,oc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function KA(e,n){Fi.X(e,n);var r=Oa;if(r&&e){var o=si(r).hoistableScripts,h=Va(e),f=o.get(h);f||(f=r.querySelector(sl(h)),f||(e=S({src:e,async:!0},n),(n=Nn.get(h))&&hd(e,n),f=r.createElement("script"),_e(f),je(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function YA(e,n){Fi.M(e,n);var r=Oa;if(r&&e){var o=si(r).hoistableScripts,h=Va(e),f=o.get(h);f||(f=r.querySelector(sl(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Nn.get(h))&&hd(e,n),f=r.createElement("script"),_e(f),je(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function r_(e,n,r,o){var h=(h=At.current)?ac(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Na(r.href),r=si(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Na(r.href);var f=si(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(rl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Nn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Nn.set(e,r),f||XA(h,e,r,g.state))),n&&o===null)throw Error(s(528,""));return g}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Va(r),r=si(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Na(e){return'href="'+tn(e)+'"'}function rl(e){return'link[rel="stylesheet"]['+e+"]"}function s_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function XA(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),je(n,"link",r),_e(n),e.head.appendChild(n))}function Va(e){return'[src="'+tn(e)+'"]'}function sl(e){return"script[async]"+e}function a_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+tn(r.href)+'"]');if(o)return n.instance=o,_e(o),o;var h=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),_e(o),je(o,"style",h),oc(o,r.precedence,e),n.instance=o;case"stylesheet":h=Na(r.href);var f=e.querySelector(rl(h));if(f)return n.state.loading|=4,n.instance=f,_e(f),f;o=s_(r),(h=Nn.get(h))&&cd(o,h),f=(e.ownerDocument||e).createElement("link"),_e(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),je(f,"link",o),n.state.loading|=4,oc(f,r.precedence,e),n.instance=f;case"script":return f=Va(r.src),(h=e.querySelector(sl(f)))?(n.instance=h,_e(h),h):(o=r,(h=Nn.get(f))&&(o=S({},r),hd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),_e(h),je(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,oc(o,r.precedence,e));return n.instance}function oc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function cd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function hd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var lc=null;function o_(e,n,r){if(lc===null){var o=new Map,h=lc=new Map;h.set(r,o)}else h=lc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[ii]||f[ye]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function l_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function ZA(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function u_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function JA(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Na(o.href),f=n.querySelector(rl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=uc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,_e(f);return}f=n.ownerDocument||n,o=s_(o),(h=Nn.get(h))&&cd(o,h),f=f.createElement("link"),_e(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),je(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=uc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var fd=0;function $A(e,n){return e.stylesheets&&e.count===0&&hc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&hc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&fd===0&&(fd=62500*VA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&hc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>fd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function uc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var cc=null;function hc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,cc=new Map,n.forEach(WA,e),cc=null,uc.call(e))}function WA(e,n){if(!(n.state.loading&4)){var r=cc.get(e);if(r)var o=r.get(null);else{r=new Map,cc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,h),r.set(g,h),this.count++,o=uc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var al={$$typeof:dt,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function tS(e,n,r,o,h,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function c_(e,n,r,o,h,f,g,E,R,P,H,K){return e=new tS(e,n,r,g,R,P,H,K,E),n=1,f===!0&&(n|=24),f=dn(3,null,null,n),e.current=f,f.stateNode=e,n=Gh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},Yh(f),e}function h_(e){return e?(e=ua,e):ua}function f_(e,n,r,o,h,f){h=h_(h),o.context===null?o.context=h:o.pendingContext=h,o=_r(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=vr(e,o,n),r!==null&&(on(r,e,n),Po(r,e,n))}function d_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function dd(e,n){d_(e,n),(e=e.alternate)&&d_(e,n)}function m_(e){if(e.tag===13||e.tag===31){var n=gs(e,67108864);n!==null&&on(n,e,67108864),dd(e,67108864)}}function g_(e){if(e.tag===13||e.tag===31){var n=_n();n=is(n);var r=gs(e,n);r!==null&&on(r,e,n),dd(e,n)}}var fc=!0;function eS(e,n,r,o){var h=G.T;G.T=null;var f=tt.p;try{tt.p=2,md(e,n,r,o)}finally{tt.p=f,G.T=h}}function nS(e,n,r,o){var h=G.T;G.T=null;var f=tt.p;try{tt.p=8,md(e,n,r,o)}finally{tt.p=f,G.T=h}}function md(e,n,r,o){if(fc){var h=gd(o);if(h===null)td(e,n,o,dc,r),y_(e,o);else if(rS(h,e,n,r,o))o.stopPropagation();else if(y_(e,o),n&4&&-1<iS.indexOf(e)){for(;h!==null;){var f=En(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Wn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-ce(g);E.entanglements[1]|=R,g&=~R}_i(f),(Bt&6)===0&&(Xu=Je()+500,tl(0))}}break;case 31:case 13:E=gs(f,2),E!==null&&on(E,f,2),Ju(),dd(f,2)}if(f=gd(o),f===null&&td(e,n,o,dc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else td(e,n,o,null,r)}}function gd(e){return e=Tn(e),pd(e)}var dc=null;function pd(e){if(dc=null,e=ri(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return dc=e,null}function p_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wr()){case lo:return 2;case uo:return 8;case ir:case Th:return 32;case Fl:return 268435456;default:return 32}default:return 32}}var yd=!1,Or=null,Nr=null,Vr=null,ol=new Map,ll=new Map,Mr=[],iS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function y_(e,n){switch(e){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":Nr=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":ol.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ll.delete(n.pointerId)}}function ul(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=En(n),n!==null&&m_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function rS(e,n,r,o,h){switch(n){case"focusin":return Or=ul(Or,e,n,r,o,h),!0;case"dragenter":return Nr=ul(Nr,e,n,r,o,h),!0;case"mouseover":return Vr=ul(Vr,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return ol.set(f,ul(ol.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,ll.set(f,ul(ll.get(f)||null,e,n,r,o,h)),!0}return!1}function __(e){var n=ri(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Ln(e.priority,function(){g_(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,Ln(e.priority,function(){g_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=gd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Ao=o,r.target.dispatchEvent(o),Ao=null}else return n=En(r),n!==null&&m_(n),e.blockedOn=r,!1;n.shift()}return!0}function v_(e,n,r){mc(e)&&r.delete(n)}function sS(){yd=!1,Or!==null&&mc(Or)&&(Or=null),Nr!==null&&mc(Nr)&&(Nr=null),Vr!==null&&mc(Vr)&&(Vr=null),ol.forEach(v_),ll.forEach(v_)}function gc(e,n){e.blockedOn===n&&(e.blockedOn=null,yd||(yd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,sS)))}var pc=null;function E_(e){pc!==e&&(pc=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){pc===e&&(pc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(pd(o||r)===null)continue;break}var f=En(r);f!==null&&(e.splice(n,3),n-=3,gf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Ma(e){function n(R){return gc(R,e)}Or!==null&&gc(Or,e),Nr!==null&&gc(Nr,e),Vr!==null&&gc(Vr,e),ol.forEach(n),ll.forEach(n);for(var r=0;r<Mr.length;r++){var o=Mr[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Mr.length&&(r=Mr[0],r.blockedOn===null);)__(r),r.blockedOn===null&&Mr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],g=h[Me]||null;if(typeof f=="function")g||E_(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Me]||null)E=g.formAction;else if(pd(h)!==null)continue}else E=g.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),E_(r)}}}function T_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function _d(e){this._internalRoot=e}yc.prototype.render=_d.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,o=_n();f_(r,o,e,n,null,null)},yc.prototype.unmount=_d.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;f_(e.current,2,null,e,null,null),Ju(),n[ni]=null}};function yc(e){this._internalRoot=e}yc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Jl();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Mr.length&&n!==0&&n<Mr[r].priority;r++);Mr.splice(r,0,e),r===0&&__(e)}};var A_=t.version;if(A_!=="19.2.3")throw Error(s(527,A_,"19.2.3"));tt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=v(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var aS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_c.isDisabled&&_c.supportsFiber)try{Un=_c.inject(aS),ke=_c}catch{}}return hl.createRoot=function(e,n){if(!l(e))throw Error(s(299));var r=!1,o="",h=Dp,f=Op,g=Np;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=c_(e,1,!1,null,null,r,o,null,h,f,g,T_),e[ni]=n.current,Wf(e),new _d(n)},hl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(s(299));var o=!1,h="",f=Dp,g=Op,E=Np,R=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),n=c_(e,1,!0,n,r??null,o,h,R,f,g,E,T_),n.context=h_(null),r=n.current,o=_n(),o=is(o),h=_r(o),h.callback=null,vr(r,h,o),r=o,n.current.lanes=r,es(n,r),_i(n),e[ni]=n.current,Wf(e),new yc(n)},hl.version="19.2.3",hl}var V_;function pS(){if(V_)return Td.exports;V_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Td.exports=gS(),Td.exports}var yS=pS();const _S=()=>{};var M_={};const cE=function(a){const t=[];let i=0;for(let s=0;s<a.length;s++){let l=a.charCodeAt(s);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++s)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},vS=function(a){const t=[];let i=0,s=0;for(;i<a.length;){const l=a[i++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=a[i++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=a[i++],d=a[i++],p=a[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(y>>10)),t[s++]=String.fromCharCode(56320+(y&1023))}else{const c=a[i++],d=a[i++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},hE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<a.length;l+=3){const c=a[l],d=l+1<a.length,p=d?a[l+1]:0,y=l+2<a.length,v=y?a[l+2]:0,A=c>>2,S=(c&3)<<4|p>>4;let D=(p&15)<<2|v>>6,j=v&63;y||(j=64,d||(D=64)),s.push(i[A],i[S],i[D],i[j])}return s.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(cE(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):vS(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<a.length;){const c=i[a.charAt(l++)],p=l<a.length?i[a.charAt(l)]:0;++l;const v=l<a.length?i[a.charAt(l)]:64;++l;const S=l<a.length?i[a.charAt(l)]:64;if(++l,c==null||p==null||v==null||S==null)throw new ES;const D=c<<2|p>>4;if(s.push(D),v!==64){const j=p<<4&240|v>>2;if(s.push(j),S!==64){const F=v<<6&192|S;s.push(F)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class ES extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TS=function(a){const t=cE(a);return hE.encodeByteArray(t,!0)},Lc=function(a){return TS(a).replace(/\./g,"")},fE=function(a){try{return hE.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function AS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const SS=()=>AS().__FIREBASE_DEFAULTS__,bS=()=>{if(typeof process>"u"||typeof M_>"u")return;const a=M_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},wS=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&fE(a[1]);return t&&JSON.parse(t)},eh=()=>{try{return _S()||SS()||bS()||wS()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},dE=a=>eh()?.emulatorHosts?.[a],RS=a=>{const t=dE(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},mE=()=>eh()?.config,gE=a=>eh()?.[`_${a}`];class IS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}function Ja(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pE(a){return(await fetch(a,{credentials:"include"})).ok}function CS(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",l=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Lc(JSON.stringify(i)),Lc(JSON.stringify(d)),""].join(".")}const yl={};function DS(){const a={prod:[],emulator:[]};for(const t of Object.keys(yl))yl[t]?a.emulator.push(t):a.prod.push(t);return a}function OS(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let U_=!1;function yE(a,t){if(typeof window>"u"||typeof document>"u"||!Ja(window.location.host)||yl[a]===t||yl[a]||U_)return;yl[a]=t;function i(D){return`__firebase__banner__${D}`}const s="__firebase__banner",c=DS().prod.length>0;function d(){const D=document.getElementById(s);D&&D.remove()}function p(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function y(D,j){D.setAttribute("width","24"),D.setAttribute("id",j),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function v(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{U_=!0,d()},D}function A(D,j){D.setAttribute("id",j),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function S(){const D=OS(s),j=i("text"),F=document.getElementById(j)||document.createElement("span"),$=i("learnmore"),J=document.getElementById($)||document.createElement("a"),nt=i("preprendIcon"),ht=document.getElementById(nt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const dt=D.element;p(dt),A(J,$);const xt=v();y(ht,nt),dt.append(ht,F,J,xt),document.body.appendChild(dt)}c?(F.innerText="Preview backend disconnected.",ht.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ht.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function VS(){const a=eh()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function US(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function xS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LS(){const a=Ze();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function kS(){return!VS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PS(){try{return typeof indexedDB=="object"}catch{return!1}}function zS(){return new Promise((a,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const BS="FirebaseError";class er extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=BS,Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ul.prototype.create)}}class Ul{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?qS(c,s):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new er(l,p,s)}}function qS(a,t){return a.replace(jS,(i,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const jS=/\{\$([^}]+)}/g;function HS(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function Us(a,t){if(a===t)return!0;const i=Object.keys(a),s=Object.keys(t);for(const l of i){if(!s.includes(l))return!1;const c=a[l],d=t[l];if(x_(c)&&x_(d)){if(!Us(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function x_(a){return a!==null&&typeof a=="object"}function xl(a){const t=[];for(const[i,s]of Object.entries(a))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function GS(a,t){const i=new FS(a,t);return i.subscribe.bind(i)}class FS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,s){let l;if(t===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");QS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:s},l.next===void 0&&(l.next=wd),l.error===void 0&&(l.error=wd),l.complete===void 0&&(l.complete=wd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QS(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function wd(){}function un(a){return a&&a._delegate?a._delegate:a}class xs{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Cs="[DEFAULT]";class KS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new IS;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(XS(t))try{this.getOrInitializeService({instanceIdentifier:Cs})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=Cs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Cs){return this.instances.has(t)}getOptions(t=Cs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&d.resolve(l)}return l}onInit(t,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&t(c,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:YS(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Cs){return this.component?this.component.multipleInstances?t:Cs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YS(a){return a===Cs?void 0:a}function XS(a){return a.instantiationMode==="EAGER"}class ZS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new KS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ct;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Ct||(Ct={}));const JS={debug:Ct.DEBUG,verbose:Ct.VERBOSE,info:Ct.INFO,warn:Ct.WARN,error:Ct.ERROR,silent:Ct.SILENT},$S=Ct.INFO,WS={[Ct.DEBUG]:"log",[Ct.VERBOSE]:"log",[Ct.INFO]:"info",[Ct.WARN]:"warn",[Ct.ERROR]:"error"},t1=(a,t,...i)=>{if(t<a.logLevel)return;const s=new Date().toISOString(),l=WS[t];if(l)console[l](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class cm{constructor(t){this.name=t,this._logLevel=$S,this._logHandler=t1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ct))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?JS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ct.DEBUG,...t),this._logHandler(this,Ct.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ct.VERBOSE,...t),this._logHandler(this,Ct.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ct.INFO,...t),this._logHandler(this,Ct.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ct.WARN,...t),this._logHandler(this,Ct.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ct.ERROR,...t),this._logHandler(this,Ct.ERROR,...t)}}const e1=(a,t)=>t.some(i=>a instanceof i);let L_,k_;function n1(){return L_||(L_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function i1(){return k_||(k_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _E=new WeakMap,Pd=new WeakMap,vE=new WeakMap,Rd=new WeakMap,hm=new WeakMap;function r1(a){const t=new Promise((i,s)=>{const l=()=>{a.removeEventListener("success",c),a.removeEventListener("error",d)},c=()=>{i(Br(a.result)),l()},d=()=>{s(a.error),l()};a.addEventListener("success",c),a.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&_E.set(i,a)}).catch(()=>{}),hm.set(t,a),t}function s1(a){if(Pd.has(a))return;const t=new Promise((i,s)=>{const l=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",d),a.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",c),a.addEventListener("error",d),a.addEventListener("abort",d)});Pd.set(a,t)}let zd={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return Pd.get(a);if(t==="objectStoreNames")return a.objectStoreNames||vE.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Br(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function a1(a){zd=a(zd)}function o1(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=a.call(Id(this),t,...i);return vE.set(s,t.sort?t.sort():[t]),Br(s)}:i1().includes(a)?function(...t){return a.apply(Id(this),t),Br(_E.get(this))}:function(...t){return Br(a.apply(Id(this),t))}}function l1(a){return typeof a=="function"?o1(a):(a instanceof IDBTransaction&&s1(a),e1(a,n1())?new Proxy(a,zd):a)}function Br(a){if(a instanceof IDBRequest)return r1(a);if(Rd.has(a))return Rd.get(a);const t=l1(a);return t!==a&&(Rd.set(a,t),hm.set(t,a)),t}const Id=a=>hm.get(a);function u1(a,t,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(a,t),p=Br(d);return s&&d.addEventListener("upgradeneeded",y=>{s(Br(d.result),y.oldVersion,y.newVersion,Br(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const c1=["get","getKey","getAll","getAllKeys","count"],h1=["put","add","delete","clear"],Cd=new Map;function P_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(Cd.get(t))return Cd.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,l=h1.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||c1.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let v=y.store;return s&&(v=v.index(p.shift())),(await Promise.all([v[i](...p),l&&y.done]))[0]};return Cd.set(t,c),c}a1(a=>({...a,get:(t,i,s)=>P_(t,i)||a.get(t,i,s),has:(t,i)=>!!P_(t,i)||a.has(t,i)}));class f1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(d1(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function d1(a){return a.getComponent()?.type==="VERSION"}const Bd="@firebase/app",z_="0.14.6";const Ji=new cm("@firebase/app"),m1="@firebase/app-compat",g1="@firebase/analytics-compat",p1="@firebase/analytics",y1="@firebase/app-check-compat",_1="@firebase/app-check",v1="@firebase/auth",E1="@firebase/auth-compat",T1="@firebase/database",A1="@firebase/data-connect",S1="@firebase/database-compat",b1="@firebase/functions",w1="@firebase/functions-compat",R1="@firebase/installations",I1="@firebase/installations-compat",C1="@firebase/messaging",D1="@firebase/messaging-compat",O1="@firebase/performance",N1="@firebase/performance-compat",V1="@firebase/remote-config",M1="@firebase/remote-config-compat",U1="@firebase/storage",x1="@firebase/storage-compat",L1="@firebase/firestore",k1="@firebase/ai",P1="@firebase/firestore-compat",z1="firebase",B1="12.6.0";const qd="[DEFAULT]",q1={[Bd]:"fire-core",[m1]:"fire-core-compat",[p1]:"fire-analytics",[g1]:"fire-analytics-compat",[_1]:"fire-app-check",[y1]:"fire-app-check-compat",[v1]:"fire-auth",[E1]:"fire-auth-compat",[T1]:"fire-rtdb",[A1]:"fire-data-connect",[S1]:"fire-rtdb-compat",[b1]:"fire-fn",[w1]:"fire-fn-compat",[R1]:"fire-iid",[I1]:"fire-iid-compat",[C1]:"fire-fcm",[D1]:"fire-fcm-compat",[O1]:"fire-perf",[N1]:"fire-perf-compat",[V1]:"fire-rc",[M1]:"fire-rc-compat",[U1]:"fire-gcs",[x1]:"fire-gcs-compat",[L1]:"fire-fst",[P1]:"fire-fst-compat",[k1]:"fire-vertex","fire-js":"fire-js",[z1]:"fire-js-all"};const kc=new Map,j1=new Map,jd=new Map;function B_(a,t){try{a.container.addComponent(t)}catch(i){Ji.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function Ha(a){const t=a.name;if(jd.has(t))return Ji.debug(`There were multiple attempts to register component ${t}.`),!1;jd.set(t,a);for(const i of kc.values())B_(i,a);for(const i of j1.values())B_(i,a);return!0}function fm(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function Qn(a){return a==null?!1:a.settings!==void 0}const H1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qr=new Ul("app","Firebase",H1);class G1{constructor(t,i,s){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}const $a=B1;function EE(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const s={name:qd,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw qr.create("bad-app-name",{appName:String(l)});if(i||(i=mE()),!i)throw qr.create("no-options");const c=kc.get(l);if(c){if(Us(i,c.options)&&Us(s,c.config))return c;throw qr.create("duplicate-app",{appName:l})}const d=new ZS(l);for(const y of jd.values())d.addComponent(y);const p=new G1(i,s,d);return kc.set(l,p),p}function TE(a=qd){const t=kc.get(a);if(!t&&a===qd&&mE())return EE();if(!t)throw qr.create("no-app",{appName:a});return t}function jr(a,t,i){let s=q1[a]??a;i&&(s+=`-${i}`);const l=s.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${t}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ji.warn(d.join(" "));return}Ha(new xs(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const F1="firebase-heartbeat-database",Q1=1,bl="firebase-heartbeat-store";let Dd=null;function AE(){return Dd||(Dd=u1(F1,Q1,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(bl)}catch(i){console.warn(i)}}}}).catch(a=>{throw qr.create("idb-open",{originalErrorMessage:a.message})})),Dd}async function K1(a){try{const i=(await AE()).transaction(bl),s=await i.objectStore(bl).get(SE(a));return await i.done,s}catch(t){if(t instanceof er)Ji.warn(t.message);else{const i=qr.create("idb-get",{originalErrorMessage:t?.message});Ji.warn(i.message)}}}async function q_(a,t){try{const s=(await AE()).transaction(bl,"readwrite");await s.objectStore(bl).put(t,SE(a)),await s.done}catch(i){if(i instanceof er)Ji.warn(i.message);else{const s=qr.create("idb-set",{originalErrorMessage:i?.message});Ji.warn(s.message)}}}function SE(a){return`${a.name}!${a.options.appId}`}const Y1=1024,X1=30;class Z1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new $1(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=j_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>X1){const l=W1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ji.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=j_(),{heartbeatsToSend:i,unsentEntries:s}=J1(this._heartbeatsCache.heartbeats),l=Lc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ji.warn(t),""}}}function j_(){return new Date().toISOString().substring(0,10)}function J1(a,t=Y1){const i=[];let s=a.slice();for(const l of a){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),H_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),H_(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class $1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PS()?zS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await K1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return q_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return q_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function H_(a){return Lc(JSON.stringify({version:2,heartbeats:a})).length}function W1(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,t=s);return t}function tb(a){Ha(new xs("platform-logger",t=>new f1(t),"PRIVATE")),Ha(new xs("heartbeat",t=>new Z1(t),"PRIVATE")),jr(Bd,z_,a),jr(Bd,z_,"esm2020"),jr("fire-js","")}tb("");var eb="firebase",nb="12.7.0";jr(eb,nb,"app");function bE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ib=bE,wE=new Ul("auth","Firebase",bE());const Pc=new cm("@firebase/auth");function rb(a,...t){Pc.logLevel<=Ct.WARN&&Pc.warn(`Auth (${$a}): ${a}`,...t)}function wc(a,...t){Pc.logLevel<=Ct.ERROR&&Pc.error(`Auth (${$a}): ${a}`,...t)}function wi(a,...t){throw mm(a,...t)}function Xn(a,...t){return mm(a,...t)}function dm(a,t,i){const s={...ib(),[t]:i};return new Ul("auth","Firebase",s).create(t,{appName:a.name})}function Ns(a){return dm(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sb(a,t,i){const s=i;if(!(t instanceof s))throw s.name!==t.constructor.name&&wi(a,"argument-error"),dm(a,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function mm(a,...t){if(typeof a!="string"){const i=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=a.name),a._errorFactory.create(i,...s)}return wE.create(a,...t)}function gt(a,t,...i){if(!a)throw mm(t,...i)}function Yi(a){const t="INTERNAL ASSERTION FAILED: "+a;throw wc(t),new Error(t)}function $i(a,t){a||Yi(t)}function Hd(){return typeof self<"u"&&self.location?.href||""}function ab(){return G_()==="http:"||G_()==="https:"}function G_(){return typeof self<"u"&&self.location?.protocol||null}function ob(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ab()||US()||"connection"in navigator)?navigator.onLine:!0}function lb(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class Ll{constructor(t,i){this.shortDelay=t,this.longDelay=i,$i(i>t,"Short delay should be less than long delay!"),this.isMobile=NS()||xS()}get(){return ob()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function gm(a,t){$i(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class RE{static initialize(t,i,s){this.fetchImpl=t,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ub={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const cb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hb=new Ll(3e4,6e4);function pm(a,t){return a.tenantId&&!t.tenantId?{...t,tenantId:a.tenantId}:t}async function Wa(a,t,i,s,l={}){return IE(a,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const p=xl({key:a.config.apiKey,...d}).slice(1),y=await a._getAdditionalHeaders();y["Content-Type"]="application/json",a.languageCode&&(y["X-Firebase-Locale"]=a.languageCode);const v={method:t,headers:y,...c};return MS()||(v.referrerPolicy="no-referrer"),a.emulatorConfig&&Ja(a.emulatorConfig.host)&&(v.credentials="include"),RE.fetch()(await CE(a,a.config.apiHost,i,p),v)})}async function IE(a,t,i){a._canInitEmulator=!1;const s={...ub,...t};try{const l=new db(a),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw vc(a,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,v]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw vc(a,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw vc(a,"email-already-in-use",d);if(y==="USER_DISABLED")throw vc(a,"user-disabled",d);const A=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw dm(a,A,v);wi(a,A)}}catch(l){if(l instanceof er)throw l;wi(a,"network-request-failed",{message:String(l)})}}async function fb(a,t,i,s,l={}){const c=await Wa(a,t,i,s,l);return"mfaPendingCredential"in c&&wi(a,"multi-factor-auth-required",{_serverResponse:c}),c}async function CE(a,t,i,s){const l=`${t}${i}?${s}`,c=a,d=c.config.emulator?gm(a.config,l):`${a.config.apiScheme}://${l}`;return cb.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class db{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(Xn(this.auth,"network-request-failed")),hb.get())})}}function vc(a,t,i){const s={appName:a.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=Xn(a,t,s);return l.customData._tokenResponse=i,l}async function mb(a,t){return Wa(a,"POST","/v1/accounts:delete",t)}async function zc(a,t){return Wa(a,"POST","/v1/accounts:lookup",t)}function _l(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function gb(a,t=!1){const i=un(a),s=await i.getIdToken(t),l=ym(s);gt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:s,authTime:_l(Od(l.auth_time)),issuedAtTime:_l(Od(l.iat)),expirationTime:_l(Od(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Od(a){return Number(a)*1e3}function ym(a){const[t,i,s]=a.split(".");if(t===void 0||i===void 0||s===void 0)return wc("JWT malformed, contained fewer than 3 sections"),null;try{const l=fE(i);return l?JSON.parse(l):(wc("Failed to decode base64 JWT payload"),null)}catch(l){return wc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function F_(a){const t=ym(a);return gt(t,"internal-error"),gt(typeof t.exp<"u","internal-error"),gt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function wl(a,t,i=!1){if(i)return t;try{return await t}catch(s){throw s instanceof er&&pb(s)&&a.auth.currentUser===a&&await a.auth.signOut(),s}}function pb({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class yb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Gd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=_l(this.lastLoginAt),this.creationTime=_l(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Bc(a){const t=a.auth,i=await a.getIdToken(),s=await wl(a,zc(t,{idToken:i}));gt(s?.users.length,t,"internal-error");const l=s.users[0];a._notifyReloadListener(l);const c=l.providerUserInfo?.length?DE(l.providerUserInfo):[],d=vb(a.providerData,c),p=a.isAnonymous,y=!(a.email&&l.passwordHash)&&!d?.length,v=p?y:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Gd(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(a,A)}async function _b(a){const t=un(a);await Bc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function vb(a,t){return[...a.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function DE(a){return a.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Eb(a,t){const i=await IE(a,{},async()=>{const s=xl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=a.config,d=await CE(a,l,"/v1/token",`key=${c}`),p=await a._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:s};return a.emulatorConfig&&Ja(a.emulatorConfig.host)&&(y.credentials="include"),RE.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Tb(a,t){return Wa(a,"POST","/v2/accounts:revokeToken",pm(a,t))}class Pa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){gt(t.idToken,"internal-error"),gt(typeof t.idToken<"u","internal-error"),gt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):F_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){gt(t.length!==0,"internal-error");const i=F_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(gt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await Eb(t,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,i,s){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,d=new Pa;return s&&(gt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(gt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(gt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Pa,this.toJSON())}_performRefresh(){return Yi("not implemented")}}function xr(a,t){gt(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class Kn{constructor({uid:t,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new yb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Gd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await wl(this,this.stsTokenManager.getToken(this.auth,t));return gt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return gb(this,t)}reload(){return _b(this)}_assign(t){this!==t&&(gt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Kn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),i&&await Bc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qn(this.auth.app))return Promise.reject(Ns(this.auth));const t=await this.getIdToken();return await wl(this,mb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const s=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,v=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:D,isAnonymous:j,providerData:F,stsTokenManager:$}=i;gt(S&&$,t,"internal-error");const J=Pa.fromJSON(this.name,$);gt(typeof S=="string",t,"internal-error"),xr(s,t.name),xr(l,t.name),gt(typeof D=="boolean",t,"internal-error"),gt(typeof j=="boolean",t,"internal-error"),xr(c,t.name),xr(d,t.name),xr(p,t.name),xr(y,t.name),xr(v,t.name),xr(A,t.name);const nt=new Kn({uid:S,auth:t,email:l,emailVerified:D,displayName:s,isAnonymous:j,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:J,createdAt:v,lastLoginAt:A});return F&&Array.isArray(F)&&(nt.providerData=F.map(ht=>({...ht}))),y&&(nt._redirectEventId=y),nt}static async _fromIdTokenResponse(t,i,s=!1){const l=new Pa;l.updateFromServerResponse(i);const c=new Kn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Bc(c),c}static async _fromGetAccountInfoResponse(t,i,s){const l=i.users[0];gt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?DE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Pa;p.updateFromIdToken(s);const y=new Kn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Gd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,v),y}}const Q_=new Map;function Xi(a){$i(a instanceof Function,"Expected a class definition");let t=Q_.get(a);return t?($i(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,Q_.set(a,t),t)}class OE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}OE.type="NONE";const K_=OE;function Rc(a,t,i){return`firebase:${a}:${t}:${i}`}class za{constructor(t,i,s){this.persistence=t,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Rc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Rc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await zc(this.auth,{idToken:t}).catch(()=>{});return i?Kn._fromGetAccountInfoResponse(this.auth,i,t):null}return Kn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,s="authUser"){if(!i.length)return new za(Xi(K_),t,s);const l=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=l[0]||Xi(K_);const d=Rc(s,t.config.apiKey,t.name);let p=null;for(const v of i)try{const A=await v._get(d);if(A){let S;if(typeof A=="string"){const D=await zc(t,{idToken:A}).catch(()=>{});if(!D)break;S=await Kn._fromGetAccountInfoResponse(t,D,A)}else S=Kn._fromJSON(t,A);v!==c&&(p=S),c=v;break}}catch{}const y=l.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new za(c,t,s):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new za(c,t,s))}}function Y_(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(UE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(NE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(LE(t))return"Blackberry";if(kE(t))return"Webos";if(VE(t))return"Safari";if((t.includes("chrome/")||ME(t))&&!t.includes("edge/"))return"Chrome";if(xE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=a.match(i);if(s?.length===2)return s[1]}return"Other"}function NE(a=Ze()){return/firefox\//i.test(a)}function VE(a=Ze()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ME(a=Ze()){return/crios\//i.test(a)}function UE(a=Ze()){return/iemobile/i.test(a)}function xE(a=Ze()){return/android/i.test(a)}function LE(a=Ze()){return/blackberry/i.test(a)}function kE(a=Ze()){return/webos/i.test(a)}function _m(a=Ze()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function Ab(a=Ze()){return _m(a)&&!!window.navigator?.standalone}function Sb(){return LS()&&document.documentMode===10}function PE(a=Ze()){return _m(a)||xE(a)||kE(a)||LE(a)||/windows phone/i.test(a)||UE(a)}function zE(a,t=[]){let i;switch(a){case"Browser":i=Y_(Ze());break;case"Worker":i=`${Y_(Ze())}-${a}`;break;default:i=a}const s=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${$a}/${s}`}class bb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const s=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const s of this.queue)await s(t),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function wb(a,t={}){return Wa(a,"GET","/v2/passwordPolicy",pm(a,t))}const Rb=6;class Ib{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Rb,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=t.length>=s),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class Cb{constructor(t,i,s,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new X_(this),this.idTokenSubscription=new X_(this),this.beforeStateQueue=new bb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Xi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await za.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await zc(this,{idToken:t}),s=await Kn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Qn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(s=p.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return gt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Bc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=lb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Qn(this.app))return Promise.reject(Ns(this));const i=t?un(t):null;return i&&gt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&gt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Qn(this.app)?Promise.reject(Ns(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Qn(this.app)?Promise.reject(Ns(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await wb(this),i=new Ib(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ul("auth","Firebase",t())}onAuthStateChanged(t,i,s){return this.registerStateListener(this.authStateSubscription,t,i,s)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,s){return this.registerStateListener(this.idTokenSubscription,t,i,s)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await Tb(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const s=await this.getOrInitRedirectPersistenceManager(i);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Xi(t)||this._popupRedirectResolver;gt(i,this,"argument-error"),this.redirectPersistenceManager=await za.create(this,[Xi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(gt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,s,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=zE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&rb(`Error while retrieving App Check token: ${t.error}`),t?.token}}function nh(a){return un(a)}class X_{constructor(t){this.auth=t,this.observer=null,this.addObserver=GS(i=>this.observer=i)}get next(){return gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let vm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Db(a){vm=a}function Ob(a){return vm.loadJS(a)}function Nb(){return vm.gapiScript}function Vb(a){return`__${a}${Math.floor(Math.random()*1e6)}`}function Mb(a,t){const i=fm(a,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Us(c,t??{}))return l;wi(l,"already-initialized")}return i.initialize({options:t})}function Ub(a,t){const i=t?.persistence||[],s=(Array.isArray(i)?i:[i]).map(Xi);t?.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(s,t?.popupRedirectResolver)}function xb(a,t,i){const s=nh(a);gt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=BE(t),{host:d,port:p}=Lb(t),y=p===null?"":`:${p}`,v={url:`${c}//${d}${y}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){gt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),gt(Us(v,s.config.emulator)&&Us(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=v,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,Ja(d)?(pE(`${c}//${d}${y}`),yE("Auth",!0)):kb()}function BE(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function Lb(a){const t=BE(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:Z_(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:Z_(d)}}}function Z_(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function kb(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class qE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Yi("not implemented")}_getIdTokenResponse(t){return Yi("not implemented")}_linkToIdToken(t,i){return Yi("not implemented")}_getReauthenticationResolver(t){return Yi("not implemented")}}async function Ba(a,t){return fb(a,"POST","/v1/accounts:signInWithIdp",pm(a,t))}const Pb="http://localhost";class Ls extends qE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Ls(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):wi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...c}=i;if(!s||!l)return null;const d=new Ls(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ba(t,i)}_linkToIdToken(t,i){const s=this.buildRequest();return s.idToken=i,Ba(t,s)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ba(t,i)}buildRequest(){const t={requestUri:Pb,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=xl(i)}return t}}class Em{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class kl extends Em{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Lr extends kl{constructor(){super("facebook.com")}static credential(t){return Ls._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Lr.credentialFromTaggedObject(t)}static credentialFromError(t){return Lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Lr.credential(t.oauthAccessToken)}catch{return null}}}Lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lr.PROVIDER_ID="facebook.com";class Ki extends kl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Ls._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ki.credentialFromTaggedObject(t)}static credentialFromError(t){return Ki.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:s}=t;if(!i&&!s)return null;try{return Ki.credential(i,s)}catch{return null}}}Ki.GOOGLE_SIGN_IN_METHOD="google.com";Ki.PROVIDER_ID="google.com";class kr extends kl{constructor(){super("github.com")}static credential(t){return Ls._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return kr.credentialFromTaggedObject(t)}static credentialFromError(t){return kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return kr.credential(t.oauthAccessToken)}catch{return null}}}kr.GITHUB_SIGN_IN_METHOD="github.com";kr.PROVIDER_ID="github.com";class Pr extends kl{constructor(){super("twitter.com")}static credential(t,i){return Ls._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=t;if(!i||!s)return null;try{return Pr.credential(i,s)}catch{return null}}}Pr.TWITTER_SIGN_IN_METHOD="twitter.com";Pr.PROVIDER_ID="twitter.com";class Ga{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,s,l=!1){const c=await Kn._fromIdTokenResponse(t,s,l),d=J_(s);return new Ga({user:c,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(t,i,s){await t._updateTokensIfNecessary(s,!0);const l=J_(s);return new Ga({user:t,providerId:l,_tokenResponse:s,operationType:i})}}function J_(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}class qc extends er{constructor(t,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,qc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,i,s,l){return new qc(t,i,s,l)}}function jE(a,t,i,s){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?qc._fromErrorAndOperation(a,c,t,s):c})}async function zb(a,t,i=!1){const s=await wl(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return Ga._forOperation(a,"link",s)}async function Bb(a,t,i=!1){const{auth:s}=a;if(Qn(s.app))return Promise.reject(Ns(s));const l="reauthenticate";try{const c=await wl(a,jE(s,l,t,a),i);gt(c.idToken,s,"internal-error");const d=ym(c.idToken);gt(d,s,"internal-error");const{sub:p}=d;return gt(a.uid===p,s,"user-mismatch"),Ga._forOperation(a,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&wi(s,"user-mismatch"),c}}async function qb(a,t,i=!1){if(Qn(a.app))return Promise.reject(Ns(a));const s="signIn",l=await jE(a,s,t),c=await Ga._fromIdTokenResponse(a,s,l);return i||await a._updateCurrentUser(c.user),c}function jb(a,t,i,s){return un(a).onIdTokenChanged(t,i,s)}function Hb(a,t,i){return un(a).beforeAuthStateChanged(t,i)}function Gb(a){return un(a).signOut()}const jc="__sak";class HE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(jc,"1"),this.storage.removeItem(jc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Fb=1e3,Qb=10;class GE extends HE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&t(i,l,s)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const s=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);Sb()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Qb):l()}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:s}),!0)})},Fb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}GE.type="LOCAL";const Kb=GE;class FE extends HE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}FE.type="SESSION";const QE=FE;function Yb(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class ih{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const s=new ih(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:s,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const p=Array.from(d).map(async v=>v(i.origin,c)),y=await Yb(p);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ih.receivers=[];function Tm(a="",t=10){let i="";for(let s=0;s<t;s++)i+=Math.floor(Math.random()*10);return a+i}class Xb{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const v=Tm("",20);l.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(S){const D=S;if(D.data.eventId===v)switch(D.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(D.data.response);break;default:clearTimeout(A),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ei(){return window}function Zb(a){Ei().location.href=a}function KE(){return typeof Ei().WorkerGlobalScope<"u"&&typeof Ei().importScripts=="function"}async function Jb(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $b(){return navigator?.serviceWorker?.controller||null}function Wb(){return KE()?self:null}const YE="firebaseLocalStorageDb",tw=1,Hc="firebaseLocalStorage",XE="fbase_key";class Pl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function rh(a,t){return a.transaction([Hc],t?"readwrite":"readonly").objectStore(Hc)}function ew(){const a=indexedDB.deleteDatabase(YE);return new Pl(a).toPromise()}function Fd(){const a=indexedDB.open(YE,tw);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const s=a.result;try{s.createObjectStore(Hc,{keyPath:XE})}catch(l){i(l)}}),a.addEventListener("success",async()=>{const s=a.result;s.objectStoreNames.contains(Hc)?t(s):(s.close(),await ew(),t(await Fd()))})})}async function $_(a,t,i){const s=rh(a,!0).put({[XE]:t,value:i});return new Pl(s).toPromise()}async function nw(a,t){const i=rh(a,!1).get(t),s=await new Pl(i).toPromise();return s===void 0?null:s.value}function W_(a,t){const i=rh(a,!0).delete(t);return new Pl(i).toPromise()}const iw=800,rw=3;class ZE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(i++>rw)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ih._getInstance(Wb()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Jb(),!this.activeServiceWorker)return;this.sender=new Xb(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||$b()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Fd();return await $_(t,jc,"1"),await W_(t,jc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>$_(s,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(s=>nw(s,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>W_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=rh(l,!1).getAll();return new Pl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZE.type="LOCAL";const sw=ZE;new Ll(3e4,6e4);function JE(a,t){return t?Xi(t):(gt(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class Am extends qE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ba(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ba(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ba(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function aw(a){return qb(a.auth,new Am(a),a.bypassAuthState)}function ow(a){const{auth:t,user:i}=a;return gt(i,t,"internal-error"),Bb(i,new Am(a),a.bypassAuthState)}async function lw(a){const{auth:t,user:i}=a;return gt(i,t,"internal-error"),zb(i,new Am(a),a.bypassAuthState)}class $E{constructor(t,i,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return aw;case"linkViaPopup":case"linkViaRedirect":return lw;case"reauthViaPopup":case"reauthViaRedirect":return ow;default:wi(this.auth,"internal-error")}}resolve(t){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const uw=new Ll(2e3,1e4);async function cw(a,t,i){if(Qn(a.app))return Promise.reject(Xn(a,"operation-not-supported-in-this-environment"));const s=nh(a);sb(a,t,Em);const l=JE(s,i);return new Ds(s,"signInViaPopup",t,l).executeNotNull()}class Ds extends $E{constructor(t,i,s,l,c){super(t,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Ds.currentPopupAction&&Ds.currentPopupAction.cancel(),Ds.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return gt(t,this.auth,"internal-error"),t}async onExecution(){$i(this.filter.length===1,"Popup operations only handle one event");const t=Tm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Xn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Xn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ds.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,uw.get())};t()}}Ds.currentPopupAction=null;const hw="pendingRedirect",Ic=new Map;class fw extends $E{constructor(t,i,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let t=Ic.get(this.auth._key());if(!t){try{const s=await dw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(i){t=()=>Promise.reject(i)}Ic.set(this.auth._key(),t)}return this.bypassAuthState||Ic.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dw(a,t){const i=pw(t),s=gw(a);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function mw(a,t){Ic.set(a._key(),t)}function gw(a){return Xi(a._redirectPersistence)}function pw(a){return Rc(hw,a.config.apiKey,a.name)}async function yw(a,t,i=!1){if(Qn(a.app))return Promise.reject(Ns(a));const s=nh(a),l=JE(s,t),d=await new fw(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}const _w=600*1e3;class vw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(i=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Ew(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!WE(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Xn(this.auth,s))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const s=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=_w&&this.cachedEventUids.clear(),this.cachedEventUids.has(tv(t))}saveEventToCache(t){this.cachedEventUids.add(tv(t)),this.lastProcessedEventTime=Date.now()}}function tv(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function WE({type:a,error:t}){return a==="unknown"&&t?.code==="auth/no-auth-event"}function Ew(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WE(a);default:return!1}}async function Tw(a,t={}){return Wa(a,"GET","/v1/projects",t)}const Aw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sw=/^https?/;async function bw(a){if(a.config.emulator)return;const{authorizedDomains:t}=await Tw(a);for(const i of t)try{if(ww(i))return}catch{}wi(a,"unauthorized-domain")}function ww(a){const t=Hd(),{protocol:i,hostname:s}=new URL(t);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&s===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!Sw.test(i))return!1;if(Aw.test(a))return s===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const Rw=new Ll(3e4,6e4);function ev(){const a=Ei().___jsl;if(a?.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function Iw(a){return new Promise((t,i)=>{function s(){ev(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ev(),i(Xn(a,"network-request-failed"))},timeout:Rw.get()})}if(Ei().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ei().gapi?.load)s();else{const l=Vb("iframefcb");return Ei()[l]=()=>{gapi.load?s():i(Xn(a,"network-request-failed"))},Ob(`${Nb()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Cc=null,t})}let Cc=null;function Cw(a){return Cc=Cc||Iw(a),Cc}const Dw=new Ll(5e3,15e3),Ow="__/auth/iframe",Nw="emulator/auth/iframe",Vw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Uw(a){const t=a.config;gt(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?gm(t,Nw):`https://${a.config.authDomain}/${Ow}`,s={apiKey:t.apiKey,appName:a.name,v:$a},l=Mw.get(a.config.apiHost);l&&(s.eid=l);const c=a._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${xl(s).slice(1)}`}async function xw(a){const t=await Cw(a),i=Ei().gapi;return gt(i,a,"internal-error"),t.open({where:document.body,url:Uw(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vw,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=Xn(a,"network-request-failed"),p=Ei().setTimeout(()=>{c(d)},Dw.get());function y(){Ei().clearTimeout(p),l(s)}s.ping(y).then(y,()=>{c(d)})}))}const Lw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kw=500,Pw=600,zw="_blank",Bw="http://localhost";class nv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qw(a,t,i,s=kw,l=Pw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const y={...Lw,width:s.toString(),height:l.toString(),top:c,left:d},v=Ze().toLowerCase();i&&(p=ME(v)?zw:i),NE(v)&&(t=t||Bw,y.scrollbars="yes");const A=Object.entries(y).reduce((D,[j,F])=>`${D}${j}=${F},`,"");if(Ab(v)&&p!=="_self")return jw(t||"",p),new nv(null);const S=window.open(t||"",p,A);gt(S,a,"popup-blocked");try{S.focus()}catch{}return new nv(S)}function jw(a,t){const i=document.createElement("a");i.href=a,i.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}const Hw="__/auth/handler",Gw="emulator/auth/handler",Fw=encodeURIComponent("fac");async function iv(a,t,i,s,l,c){gt(a.config.authDomain,a,"auth-domain-config-required"),gt(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:s,v:$a,eventId:l};if(t instanceof Em){t.setDefaultLanguage(a.languageCode),d.providerId=t.providerId||"",HS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(t instanceof kl){const A=t.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}a.tenantId&&(d.tid=a.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const y=await a._getAppCheckToken(),v=y?`#${Fw}=${encodeURIComponent(y)}`:"";return`${Qw(a)}?${xl(p).slice(1)}${v}`}function Qw({config:a}){return a.emulator?gm(a,Gw):`https://${a.authDomain}/${Hw}`}const Nd="webStorageSupport";class Kw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=QE,this._completeRedirectFn=yw,this._overrideRedirectResult=mw}async _openPopup(t,i,s,l){$i(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await iv(t,i,s,Hd(),l);return qw(t,c,Tm())}async _openRedirect(t,i,s,l){await this._originValidation(t);const c=await iv(t,i,s,Hd(),l);return Zb(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):($i(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(t){const i=await xw(t),s=new vw(t);return i.register("authEvent",l=>(gt(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=i,s}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Nd,{type:Nd},l=>{const c=l?.[0]?.[Nd];c!==void 0&&i(!!c),wi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=bw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return PE()||VE()||_m()}}const Yw=Kw;var rv="@firebase/auth",sv="1.12.0";class Xw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Zw(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Jw(a){Ha(new xs("auth",(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;gt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:d,authDomain:p,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zE(a)},v=new Cb(s,l,c,y);return Ub(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,s)=>{t.getProvider("auth-internal").initialize()})),Ha(new xs("auth-internal",t=>{const i=nh(t.getProvider("auth").getImmediate());return(s=>new Xw(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),jr(rv,sv,Zw(a)),jr(rv,sv,"esm2020")}const $w=300,Ww=gE("authIdTokenMaxAge")||$w;let av=null;const tR=a=>async t=>{const i=t&&await t.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>Ww)return;const l=i?.token;av!==l&&(av=l,await fetch(a,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function eR(a=TE()){const t=fm(a,"auth");if(t.isInitialized())return t.getImmediate();const i=Mb(a,{popupRedirectResolver:Yw,persistence:[sw,Kb,QE]}),s=gE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=tR(c.toString());Hb(i,d,()=>d(i.currentUser)),jb(i,p=>d(p))}}const l=dE("auth");return l&&xb(i,`http://${l}`),i}function nR(){return document.getElementsByTagName("head")?.[0]??document}Db({loadJS(a){return new Promise((t,i)=>{const s=document.createElement("script");s.setAttribute("src",a),s.onload=t,s.onerror=l=>{const c=Xn("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",nR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Jw("Browser");var ov=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Hr,tT;(function(){var a;function t(C,b){function I(){}I.prototype=b.prototype,C.F=b.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(M,N,x){for(var w=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)w[ie-2]=arguments[ie];return b.prototype[N].apply(M,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,b,I){I||(I=0);const M=Array(16);if(typeof b=="string")for(var N=0;N<16;++N)M[N]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(N=0;N<16;++N)M[N]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=C.g[0],I=C.g[1],N=C.g[2];let x=C.g[3],w;w=b+(x^I&(N^x))+M[0]+3614090360&4294967295,b=I+(w<<7&4294967295|w>>>25),w=x+(N^b&(I^N))+M[1]+3905402710&4294967295,x=b+(w<<12&4294967295|w>>>20),w=N+(I^x&(b^I))+M[2]+606105819&4294967295,N=x+(w<<17&4294967295|w>>>15),w=I+(b^N&(x^b))+M[3]+3250441966&4294967295,I=N+(w<<22&4294967295|w>>>10),w=b+(x^I&(N^x))+M[4]+4118548399&4294967295,b=I+(w<<7&4294967295|w>>>25),w=x+(N^b&(I^N))+M[5]+1200080426&4294967295,x=b+(w<<12&4294967295|w>>>20),w=N+(I^x&(b^I))+M[6]+2821735955&4294967295,N=x+(w<<17&4294967295|w>>>15),w=I+(b^N&(x^b))+M[7]+4249261313&4294967295,I=N+(w<<22&4294967295|w>>>10),w=b+(x^I&(N^x))+M[8]+1770035416&4294967295,b=I+(w<<7&4294967295|w>>>25),w=x+(N^b&(I^N))+M[9]+2336552879&4294967295,x=b+(w<<12&4294967295|w>>>20),w=N+(I^x&(b^I))+M[10]+4294925233&4294967295,N=x+(w<<17&4294967295|w>>>15),w=I+(b^N&(x^b))+M[11]+2304563134&4294967295,I=N+(w<<22&4294967295|w>>>10),w=b+(x^I&(N^x))+M[12]+1804603682&4294967295,b=I+(w<<7&4294967295|w>>>25),w=x+(N^b&(I^N))+M[13]+4254626195&4294967295,x=b+(w<<12&4294967295|w>>>20),w=N+(I^x&(b^I))+M[14]+2792965006&4294967295,N=x+(w<<17&4294967295|w>>>15),w=I+(b^N&(x^b))+M[15]+1236535329&4294967295,I=N+(w<<22&4294967295|w>>>10),w=b+(N^x&(I^N))+M[1]+4129170786&4294967295,b=I+(w<<5&4294967295|w>>>27),w=x+(I^N&(b^I))+M[6]+3225465664&4294967295,x=b+(w<<9&4294967295|w>>>23),w=N+(b^I&(x^b))+M[11]+643717713&4294967295,N=x+(w<<14&4294967295|w>>>18),w=I+(x^b&(N^x))+M[0]+3921069994&4294967295,I=N+(w<<20&4294967295|w>>>12),w=b+(N^x&(I^N))+M[5]+3593408605&4294967295,b=I+(w<<5&4294967295|w>>>27),w=x+(I^N&(b^I))+M[10]+38016083&4294967295,x=b+(w<<9&4294967295|w>>>23),w=N+(b^I&(x^b))+M[15]+3634488961&4294967295,N=x+(w<<14&4294967295|w>>>18),w=I+(x^b&(N^x))+M[4]+3889429448&4294967295,I=N+(w<<20&4294967295|w>>>12),w=b+(N^x&(I^N))+M[9]+568446438&4294967295,b=I+(w<<5&4294967295|w>>>27),w=x+(I^N&(b^I))+M[14]+3275163606&4294967295,x=b+(w<<9&4294967295|w>>>23),w=N+(b^I&(x^b))+M[3]+4107603335&4294967295,N=x+(w<<14&4294967295|w>>>18),w=I+(x^b&(N^x))+M[8]+1163531501&4294967295,I=N+(w<<20&4294967295|w>>>12),w=b+(N^x&(I^N))+M[13]+2850285829&4294967295,b=I+(w<<5&4294967295|w>>>27),w=x+(I^N&(b^I))+M[2]+4243563512&4294967295,x=b+(w<<9&4294967295|w>>>23),w=N+(b^I&(x^b))+M[7]+1735328473&4294967295,N=x+(w<<14&4294967295|w>>>18),w=I+(x^b&(N^x))+M[12]+2368359562&4294967295,I=N+(w<<20&4294967295|w>>>12),w=b+(I^N^x)+M[5]+4294588738&4294967295,b=I+(w<<4&4294967295|w>>>28),w=x+(b^I^N)+M[8]+2272392833&4294967295,x=b+(w<<11&4294967295|w>>>21),w=N+(x^b^I)+M[11]+1839030562&4294967295,N=x+(w<<16&4294967295|w>>>16),w=I+(N^x^b)+M[14]+4259657740&4294967295,I=N+(w<<23&4294967295|w>>>9),w=b+(I^N^x)+M[1]+2763975236&4294967295,b=I+(w<<4&4294967295|w>>>28),w=x+(b^I^N)+M[4]+1272893353&4294967295,x=b+(w<<11&4294967295|w>>>21),w=N+(x^b^I)+M[7]+4139469664&4294967295,N=x+(w<<16&4294967295|w>>>16),w=I+(N^x^b)+M[10]+3200236656&4294967295,I=N+(w<<23&4294967295|w>>>9),w=b+(I^N^x)+M[13]+681279174&4294967295,b=I+(w<<4&4294967295|w>>>28),w=x+(b^I^N)+M[0]+3936430074&4294967295,x=b+(w<<11&4294967295|w>>>21),w=N+(x^b^I)+M[3]+3572445317&4294967295,N=x+(w<<16&4294967295|w>>>16),w=I+(N^x^b)+M[6]+76029189&4294967295,I=N+(w<<23&4294967295|w>>>9),w=b+(I^N^x)+M[9]+3654602809&4294967295,b=I+(w<<4&4294967295|w>>>28),w=x+(b^I^N)+M[12]+3873151461&4294967295,x=b+(w<<11&4294967295|w>>>21),w=N+(x^b^I)+M[15]+530742520&4294967295,N=x+(w<<16&4294967295|w>>>16),w=I+(N^x^b)+M[2]+3299628645&4294967295,I=N+(w<<23&4294967295|w>>>9),w=b+(N^(I|~x))+M[0]+4096336452&4294967295,b=I+(w<<6&4294967295|w>>>26),w=x+(I^(b|~N))+M[7]+1126891415&4294967295,x=b+(w<<10&4294967295|w>>>22),w=N+(b^(x|~I))+M[14]+2878612391&4294967295,N=x+(w<<15&4294967295|w>>>17),w=I+(x^(N|~b))+M[5]+4237533241&4294967295,I=N+(w<<21&4294967295|w>>>11),w=b+(N^(I|~x))+M[12]+1700485571&4294967295,b=I+(w<<6&4294967295|w>>>26),w=x+(I^(b|~N))+M[3]+2399980690&4294967295,x=b+(w<<10&4294967295|w>>>22),w=N+(b^(x|~I))+M[10]+4293915773&4294967295,N=x+(w<<15&4294967295|w>>>17),w=I+(x^(N|~b))+M[1]+2240044497&4294967295,I=N+(w<<21&4294967295|w>>>11),w=b+(N^(I|~x))+M[8]+1873313359&4294967295,b=I+(w<<6&4294967295|w>>>26),w=x+(I^(b|~N))+M[15]+4264355552&4294967295,x=b+(w<<10&4294967295|w>>>22),w=N+(b^(x|~I))+M[6]+2734768916&4294967295,N=x+(w<<15&4294967295|w>>>17),w=I+(x^(N|~b))+M[13]+1309151649&4294967295,I=N+(w<<21&4294967295|w>>>11),w=b+(N^(I|~x))+M[4]+4149444226&4294967295,b=I+(w<<6&4294967295|w>>>26),w=x+(I^(b|~N))+M[11]+3174756917&4294967295,x=b+(w<<10&4294967295|w>>>22),w=N+(b^(x|~I))+M[2]+718787259&4294967295,N=x+(w<<15&4294967295|w>>>17),w=I+(x^(N|~b))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+x&4294967295}s.prototype.v=function(C,b){b===void 0&&(b=C.length);const I=b-this.blockSize,M=this.C;let N=this.h,x=0;for(;x<b;){if(N==0)for(;x<=I;)l(this,C,x),x+=this.blockSize;if(typeof C=="string"){for(;x<b;)if(M[N++]=C.charCodeAt(x++),N==this.blockSize){l(this,M),N=0;break}}else for(;x<b;)if(M[N++]=C[x++],N==this.blockSize){l(this,M),N=0;break}}this.h=N,this.o+=b},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)C[b++]=this.g[I]>>>M&255;return C};function c(C,b){var I=p;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=b(C)}function d(C,b){this.h=b;const I=[];let M=!0;for(let N=C.length-1;N>=0;N--){const x=C[N]|0;M&&x==b||(I[N]=x,M=!1)}this.g=I}var p={};function y(C){return-128<=C&&C<128?c(C,function(b){return new d([b|0],b<0?-1:0)}):new d([C|0],C<0?-1:0)}function v(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return J(v(-C));const b=[];let I=1;for(let M=0;C>=I;M++)b[M]=C/I|0,I*=4294967296;return new d(b,0)}function A(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return J(A(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=v(Math.pow(b,8));let M=S;for(let x=0;x<C.length;x+=8){var N=Math.min(8,C.length-x);const w=parseInt(C.substring(x,x+N),b);N<8?(N=v(Math.pow(b,N)),M=M.j(N).add(v(w))):(M=M.j(I),M=M.add(v(w)))}return M}var S=y(0),D=y(1),j=y(16777216);a=d.prototype,a.m=function(){if($(this))return-J(this).m();let C=0,b=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);C+=(M>=0?M:4294967296+M)*b,b*=4294967296}return C},a.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(F(this))return"0";if($(this))return"-"+J(this).toString(C);const b=v(Math.pow(C,6));var I=this;let M="";for(;;){const N=xt(I,b).g;I=nt(I,N.j(b));let x=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=N,F(I))return x+M;for(;x.length<6;)x="0"+x;M=x+M}},a.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function F(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function $(C){return C.h==-1}a.l=function(C){return C=nt(this,C),$(C)?-1:F(C)?0:1};function J(C){const b=C.g.length,I=[];for(let M=0;M<b;M++)I[M]=~C.g[M];return new d(I,~C.h).add(D)}a.abs=function(){return $(this)?J(this):this},a.add=function(C){const b=Math.max(this.g.length,C.g.length),I=[];let M=0;for(let N=0;N<=b;N++){let x=M+(this.i(N)&65535)+(C.i(N)&65535),w=(x>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);M=w>>>16,x&=65535,w&=65535,I[N]=w<<16|x}return new d(I,I[I.length-1]&-2147483648?-1:0)};function nt(C,b){return C.add(J(b))}a.j=function(C){if(F(this)||F(C))return S;if($(this))return $(C)?J(this).j(J(C)):J(J(this).j(C));if($(C))return J(this.j(J(C)));if(this.l(j)<0&&C.l(j)<0)return v(this.m()*C.m());const b=this.g.length+C.g.length,I=[];for(var M=0;M<2*b;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<C.g.length;N++){const x=this.i(M)>>>16,w=this.i(M)&65535,ie=C.i(N)>>>16,Ie=C.i(N)&65535;I[2*M+2*N]+=w*Ie,ht(I,2*M+2*N),I[2*M+2*N+1]+=x*Ie,ht(I,2*M+2*N+1),I[2*M+2*N+1]+=w*ie,ht(I,2*M+2*N+1),I[2*M+2*N+2]+=x*ie,ht(I,2*M+2*N+2)}for(C=0;C<b;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=b;C<2*b;C++)I[C]=0;return new d(I,0)};function ht(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function dt(C,b){this.g=C,this.h=b}function xt(C,b){if(F(b))throw Error("division by zero");if(F(C))return new dt(S,S);if($(C))return b=xt(J(C),b),new dt(J(b.g),J(b.h));if($(b))return b=xt(C,J(b)),new dt(J(b.g),b.h);if(C.g.length>30){if($(C)||$(b))throw Error("slowDivide_ only works with positive integers.");for(var I=D,M=b;M.l(C)<=0;)I=Kt(I),M=Kt(M);var N=Nt(I,1),x=Nt(M,1);for(M=Nt(M,2),I=Nt(I,2);!F(M);){var w=x.add(M);w.l(C)<=0&&(N=N.add(I),x=w),M=Nt(M,1),I=Nt(I,1)}return b=nt(C,N.j(b)),new dt(N,b)}for(N=S;C.l(b)>=0;){for(I=Math.max(1,Math.floor(C.m()/b.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),x=v(I),w=x.j(b);$(w)||w.l(C)>0;)I-=M,x=v(I),w=x.j(b);F(x)&&(x=D),N=N.add(x),C=nt(C,w)}return new dt(N,C)}a.B=function(C){return xt(this,C).h},a.and=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)&C.i(M);return new d(I,this.h&C.h)},a.or=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)|C.i(M);return new d(I,this.h|C.h)},a.xor=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)^C.i(M);return new d(I,this.h^C.h)};function Kt(C){const b=C.g.length+1,I=[];for(let M=0;M<b;M++)I[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(I,C.h)}function Nt(C,b){const I=b>>5;b%=32;const M=C.g.length-I,N=[];for(let x=0;x<M;x++)N[x]=b>0?C.i(x+I)>>>b|C.i(x+I+1)<<32-b:C.i(x+I);return new d(N,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,tT=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,Hr=d}).apply(typeof ov<"u"?ov:typeof self<"u"?self:typeof window<"u"?window:{});var Ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var eT,dl,nT,Dc,Qd,iT,rT,sT;(function(){var a,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ec=="object"&&Ec];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)t:{var _=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in _))break t;_=_[L]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var _=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&_.push([T,m[T]]);return _}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,_){return u.call.apply(u.bind,arguments)}function v(u,m,_){return v=y,v.apply(null,arguments)}function A(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var W=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)W[Et-2]=arguments[Et];return m.prototype[L].apply(T,W)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function j(u){const m=u.length;if(m>0){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function F(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var _=typeof L;if(_=_!="object"?_:L?Array.isArray(L)?"array":_:"null",_=="array"||_=="object"&&typeof L.length=="number"){_=u.length||0;const B=L.length||0;u.length=_+B;for(let W=0;W<B;W++)u[_+W]=L[W]}else u.push(L)}}class ${constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function nt(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ht{constructor(){this.h=this.g=null}add(m,_){const T=dt.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var dt=new $(()=>new xt,u=>u.reset());class xt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Kt,Nt=!1,C=new ht,b=()=>{const u=Promise.resolve(void 0);Kt=()=>{u.then(I)}};function I(){for(var u;u=nt();){try{u.h.call(u.g)}catch(_){J(_)}var m=dt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Nt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var x=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ie(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(ie,N),ie.prototype.init=function(u,m){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ie="closure_listenable_"+(Math.random()*1e6|0),G=0;function tt(u,m,_,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=L,this.key=++G,this.da=this.fa=!1}function ct(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Lt(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function jt(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function V(u){const m={};for(const _ in u)m[_]=u[_];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let _,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(_ in T)u[_]=T[_];for(let B=0;B<Y.length;B++)_=Y[B],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,_,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const W=At(u,m,T,L);return W>-1?(m=u[W],_||(m.fa=!1)):(m=new tt(m,this.src,B,!!T,L),m.fa=_,u.push(m)),m};function pt(u,m){const _=m.type;if(_ in u.g){var T=u.g[_],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ct(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function At(u,m,_,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!_&&B.ha==T)return L}return-1}var Mt="closure_lm_"+(Math.random()*1e6|0),Ce={};function re(u,m,_,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)re(u,m[B],_,T,L);return null}return _=oo(_),u&&u[Ie]?u.J(m,_,p(T)?!!T.capture:!1,L):Jr(u,m,_,!1,T,L)}function Jr(u,m,_,T,L,B){if(!m)throw Error("Invalid event type");const W=p(L)?!!L.capture:!!L;let Et=$r(u);if(Et||(u[Mt]=Et=new st(u)),_=Et.add(m,_,T,W,B),_.proxy)return _;if(T=Gs(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)x||(L=W),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Jn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Gs(){function u(_){return m.call(u.src,u.listener,_)}const m=so;return u}function Fs(u,m,_,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Fs(u,m[B],_,T,L);else T=p(T)?!!T.capture:!!T,_=oo(_),u&&u[Ie]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],_=At(m,_,T,L),_>-1&&(ct(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=$r(u))&&(m=u.g[m.toString()],u=-1,m&&(u=At(m,_,T,L)),(_=u>-1?m[u]:null)&&Qs(_))}function Qs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ie])pt(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(Jn(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=$r(m))?(pt(_,u),_.h==0&&(_.src=null,m[Mt]=null)):ct(u)}}}function Jn(u){return u in Ce?Ce[u]:Ce[u]="on"+u}function so(u,m){if(u.da)u=!0;else{m=new ie(m,this);const _=u.listener,T=u.ha||u.src;u.fa&&Qs(u),u=_.call(T,m)}return u}function $r(u){return u=u[Mt],u instanceof st?u:null}var ao="__closure_events_fn_"+(Math.random()*1e9>>>0);function oo(u){return typeof u=="function"?u:(u[ao]||(u[ao]=function(m){return u.handleEvent(m)}),u[ao])}function ge(){M.call(this),this.i=new st(this),this.M=this,this.G=null}S(ge,M),ge.prototype[Ie]=!0,ge.prototype.removeEventListener=function(u,m,_,T){Fs(this,u,m,_,T)};function De(u,m){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(T,u),et(m,L)}L=!0;let B,W;if(_)for(W=_.length-1;W>=0;W--)B=m.g=_[W],L=nr(B,T,!0,m)&&L;if(B=m.g=u,L=nr(B,T,!0,m)&&L,L=nr(B,T,!1,m)&&L,_)for(W=0;W<_.length;W++)B=m.g=_[W],L=nr(B,T,!1,m)&&L}ge.prototype.N=function(){if(ge.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let T=0;T<_.length;T++)ct(_[T]);delete u.g[m],u.h--}}this.G=null},ge.prototype.J=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},ge.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function nr(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const W=m[B];if(W&&!W.da&&W.capture==_){const Et=W.listener,he=W.ha||W.src;W.fa&&pt(u.i,W),L=Et.call(he,T)!==!1&&L}}return L&&!T.defaultPrevented}function Eh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Gl(u){u.g=Eh(()=>{u.g=null,u.i&&(u.i=!1,Gl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Je extends M{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Gl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wr(u){M.call(this),this.h=u,this.g={}}S(Wr,M);var lo=[];function uo(u){Lt(u.g,function(m,_){this.g.hasOwnProperty(_)&&Qs(m)},u),u.g={}}Wr.prototype.N=function(){Wr.Z.N.call(this),uo(this)},Wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ir=d.JSON.stringify,Th=d.JSON.parse,Fl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ql(){}function Kl(){}var Un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ke(){N.call(this,"d")}S(ke,N);function vn(){N.call(this,"c")}S(vn,N);var ce={},Yl=null;function Ks(){return Yl=Yl||new ge}ce.Ia="serverreachability";function Xl(u){N.call(this,ce.Ia,u)}S(Xl,N);function $n(u){const m=Ks();De(m,new Xl(m))}ce.STAT_EVENT="statevent";function ts(u,m){N.call(this,ce.STAT_EVENT,u),this.stat=m}S(ts,N);function pe(u){const m=Ks();De(m,new ts(m,u))}ce.Ja="timingevent";function Wn(u,m){N.call(this,ce.Ja,u),this.size=m}S(Wn,N);function ti(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function xn(){this.g=!0}xn.prototype.ua=function(){this.g=!1};function Ah(u,m,_,T,L,B){u.info(function(){if(u.g)if(B){var W="",Et=B.split("&");for(let zt=0;zt<Et.length;zt++){var he=Et[zt].split("=");if(he.length>1){const se=he[0];he=he[1];const Sn=se.split("_");W=Sn.length>=2&&Sn[1]=="type"?W+(se+"="+he+"&"):W+(se+"=redacted&")}}}else W=null;else W=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+_+`
`+W})}function Zl(u,m,_,T,L,B,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+_+`
`+B+" "+W})}function ei(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Sh(u,_)+(T?" "+T:"")})}function es(u,m){u.info(function(){return"TIMEOUT: "+m})}xn.prototype.info=function(){};function Sh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var _=B[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let W=1;W<T.length;W++)T[W]=""}}}}return ir(B)}catch{return m}}var ns={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},co={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ho;function is(){}S(is,Ql),is.prototype.g=function(){return new XMLHttpRequest},ho=new is;function Ii(u){return encodeURIComponent(String(u))}function Jl(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function Ln(u,m,_,T){this.j=u,this.i=m,this.l=_,this.S=T||1,this.V=new Wr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new kn}function kn(){this.i=null,this.g="",this.h=!1}var ye={},Me={};function ni(u,m,_){u.M=1,u.A=rs(ve(m)),u.u=_,u.R=!0,Ys(u,null)}function Ys(u,m){u.F=Date.now(),ii(u),u.B=ve(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),$s(_.i,"t",T),u.C=0,_=u.j.L,u.h=new kn,u.g=fu(u.j,_?m:null,!u.u),u.P>0&&(u.O=new Je(v(u.Y,u,u.g),u.P)),m=u.V,_=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(lo[0]=L.toString()),L=lo);for(let B=0;B<L.length;B++){const W=re(_,L[B],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),$n(),Ah(u.i,u.v,u.B,u.l,u.S,u.u)}Ln.prototype.ba=function(u){u=u.target;const m=this.O;m&&Bn(u)==3?m.j():this.Y(u)},Ln.prototype.Y=function(u){try{if(u==this.g)t:{const Et=Bn(this.g),he=this.g.ya(),zt=this.g.ca();if(!(Et<3)&&(Et!=3||this.g&&(this.h.h||this.g.la()||Pe(this.g)))){this.K||Et!=4||he==7||(he==8||zt<=0?$n(3):$n(2)),ri(this);var m=this.g.ca();this.X=m;var _=bh(this);if(this.o=m==200,Zl(this.i,this.v,this.B,this.l,this.S,Et,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)ei(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,si(this,u);else{this.o=!1,this.m=3,pe(12),cn(this),En(this);break t}}if(this.R){u=!0;let se;for(;!this.K&&this.C<_.length;)if(se=Wl(this,_),se==Me){Et==4&&(this.m=4,pe(14),u=!1),ei(this.i,this.l,null,"[Incomplete Response]");break}else if(se==ye){this.m=4,pe(15),ei(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else ei(this.i,this.l,se,null),si(this,se);if($l(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||_.length!=0||this.h.h||(this.m=1,pe(16),u=!1),this.o=this.o&&u,!u)ei(this.i,this.l,_,"[Invalid Chunked Response]"),cn(this),En(this);else if(_.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Io(W),W.P=!0,pe(11))}}else ei(this.i,this.l,_,null),si(this,_);Et==4&&cn(this),this.o&&!this.K&&(Et==4?lu(this.j,this):(this.o=!1,ii(this)))}else Di(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,pe(12)):(this.m=0,pe(13)),cn(this),En(this)}}}catch{}};function bh(u){if(!$l(u))return u.g.la();const m=Pe(u.g);if(m==="")return"";let _="";const T=m.length,L=Bn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return cn(u),En(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,_+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function $l(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Wl(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?Me:(_=Number(m.substring(_,T)),isNaN(_)?ye:(T+=1,T+_>m.length?Me:(m=m.slice(T,T+_),u.C=T+_,m)))}Ln.prototype.cancel=function(){this.K=!0,cn(this)};function ii(u){u.T=Date.now()+u.H,Xs(u,u.H)}function Xs(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ti(v(u.aa,u),m)}function ri(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Ln.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(es(this.i,this.B),this.M!=2&&($n(),pe(17)),cn(this),this.m=2,En(this)):Xs(this,this.T-u)};function En(u){u.j.I==0||u.K||lu(u.j,u)}function cn(u){ri(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,uo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function si(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||oi(_.h,u))){if(!u.L&&oi(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)ia(_),hr(_);else break t;hs(_),pe(18)}}else _.xa=L[1],0<_.xa-_.K&&L[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ti(v(_.Va,_),6e3));ai(_.h)<=1&&_.ta&&(_.ta=void 0)}else di(_,11)}else if((u.L||_.g==u)&&ia(_),!w(m))for(L=_.Ba.g.parse(m),m=0;m<L.length;m++){let zt=L[m];const se=zt[0];if(!(se<=_.K))if(_.K=se,zt=zt[1],_.I==2)if(zt[0]=="c"){_.M=zt[1],_.ba=zt[2];const Sn=zt[3];Sn!=null&&(_.ka=Sn,_.j.info("VER="+_.ka));const mi=zt[4];mi!=null&&(_.za=mi,_.j.info("SVER="+_.za));const qn=zt[5];qn!=null&&typeof qn=="number"&&qn>0&&(T=1.5*qn,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const jn=u.g;if(jn){const fs=jn.g?jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fs){var B=T.h;B.g||fs.indexOf("spdy")==-1&&fs.indexOf("quic")==-1&&fs.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(go(B,B.h),B.h=null))}if(T.G){const ra=jn.g?jn.g.getResponseHeader("X-HTTP-Session-Id"):null;ra&&(T.wa=ra,Ht(T.J,T.G,ra))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var W=u;if(T.na=hu(T,T.L?T.ba:null,T.W),W.L){po(T.h,W);var Et=W,he=T.O;he&&(Et.H=he),Et.D&&(ri(Et),ii(Et)),T.g=W}else au(T);_.i.length>0&&fi(_)}else zt[0]!="stop"&&zt[0]!="close"||di(_,7);else _.I==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?di(_,7):wo(_):zt[0]!="noop"&&_.l&&_.l.qa(zt),_.A=0)}}$n(4)}catch{}}var _e=class{constructor(u,m){this.g=u,this.map=m}};function fo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function mo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ai(u){return u.h?1:u.g?u.g.size:0}function oi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function go(u,m){u.g?u.g.add(m):u.h=m}function po(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}fo.prototype.cancel=function(){if(this.i=yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function yo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return j(u.i)}var tu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zs(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let L,B=null;T>=0?(L=u[_].substring(0,T),B=u[_].substring(T+1)):L=u[_],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function hn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof hn?(this.l=u.l,Ue(this,u.j),this.o=u.o,this.g=u.g,rr(this,u.u),this.h=u.h,_o(this,ru(u.i)),this.m=u.m):u&&(m=String(u).match(tu))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=li(m[2]||""),this.g=li(m[3]||"",!0),rr(this,m[4]),this.h=li(m[5]||"",!0),_o(this,m[6]||"",!0),this.m=li(m[7]||"")):(this.l=!1,this.i=new ar(null,this.l))}hn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ss(m,Js,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ss(m,Js,!0),"@"),u.push(Ii(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(ss(_,_.charAt(0)=="/"?vo:eu,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",ss(_,nu)),u.join("")},hn.prototype.resolve=function(u){const m=ve(this);let _=!!u.j;_?Ue(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var T=u.h;if(_)rr(m,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let W=0;W<L.length;){const Et=L[W++];Et=="."?T&&W==L.length&&B.push(""):Et==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&W==L.length&&B.push("")):(B.push(Et),T=!0)}T=B.join("/")}else T=L}return _?m.h=T:_=u.i.toString()!=="",_?_o(m,ru(u.i)):_=!!u.m,_&&(m.m=u.m),m};function ve(u){return new hn(u)}function Ue(u,m,_){u.j=_?li(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function rr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function _o(u,m,_){m instanceof ar?(u.i=m,Ws(u.i,u.l)):(_||(m=ss(m,sr)),u.i=new ar(m,u.l))}function Ht(u,m,_){u.i.set(m,_)}function rs(u){return Ht(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function li(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ss(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,tn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function tn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Js=/[#\/\?@]/g,eu=/[#\?:]/g,vo=/[#\?]/g,sr=/[#\?@]/g,nu=/#/g;function ar(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function en(u){u.g||(u.g=new Map,u.h=0,u.i&&Zs(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}a=ar.prototype,a.add=function(u,m){en(this),this.i=null,u=or(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function iu(u,m){en(u),m=or(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Eo(u,m){return en(u),m=or(u,m),u.g.has(m)}a.forEach=function(u,m){en(this),this.g.forEach(function(_,T){_.forEach(function(L){u.call(m,L,T,this)},this)},this)};function To(u,m){en(u);let _=[];if(typeof m=="string")Eo(u,m)&&(_=_.concat(u.g.get(or(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}a.set=function(u,m){return en(this),this.i=null,u=or(this,u),Eo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=To(this,u),u.length>0?String(u[0]):m):m};function $s(u,m,_){iu(u,m),_.length>0&&(u.i=null,u.g.set(or(u,m),j(_)),u.h+=_.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var _=m[T];const L=Ii(_);_=To(this,_);for(let B=0;B<_.length;B++){let W=L;_[B]!==""&&(W+="="+Ii(_[B])),u.push(W)}}return this.i=u.join("&")};function ru(u){const m=new ar;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function or(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ws(u,m){m&&!u.j&&(en(u),u.i=null,u.g.forEach(function(_,T){const L=T.toLowerCase();T!=L&&(iu(this,T),$s(this,L,_))},u)),u.j=m}function Pn(u,m){const _=new xn;if(d.Image){const T=new Image;T.onload=A(Tn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Tn,_,"TestLoadImage: error",!1,m,T),T.onabort=A(Tn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Tn,_,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Ao(u,m){const _=new xn,T=new AbortController,L=setTimeout(()=>{T.abort(),Tn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?Tn(_,"TestPingServer: ok",!0,m):Tn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Tn(_,"TestPingServer: error",!1,m)})}function Tn(u,m,_,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(_)}catch{}}function lr(){this.g=new Fl}function ui(u){this.i=u.Sb||null,this.h=u.ab||!1}S(ui,Ql),ui.prototype.g=function(){return new as(this.i,this.h)};function as(u,m){ge.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(as,ge),a=as.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,zn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ur(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,zn(this)),this.g&&(this.readyState=3,zn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ta(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ta(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ur(this):zn(this),this.readyState==3&&ta(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,ur(this))},a.Na=function(u){this.g&&(this.response=u,ur(this))},a.ga=function(){this.g&&ur(this)};function ur(u){u.readyState=4,u.l=null,u.j=null,u.B=null,zn(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function zn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(as.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function An(u){let m="";return Lt(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function os(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=An(_),typeof u=="string"?_!=null&&Ii(_):Ht(u,m,_))}function Yt(u){ge.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Yt,ge);var ci=/^https?$/i,So=["POST","PUT"];a=Yt.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ho.g(),this.g.onreadystatechange=D(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){ls(this,B);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)_.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())_.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(So,m,void 0)>=0)||T||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,W]of _)this.g.setRequestHeader(B,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){ls(this,B)}};function ls(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,bo(u),Ci(u)}function bo(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),Ci(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ci(this,!0)),Yt.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?us(this):this.Xa())},a.Xa=function(){us(this)};function us(u){if(u.h&&typeof c<"u"){if(u.v&&Bn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),Bn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=B===0){let W=String(u.D).match(tu)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),T=!ci.test(W?W.toLowerCase():"")}_=T}if(_)De(u,"complete"),De(u,"success");else{u.o=6;try{var L=Bn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",bo(u)}}finally{Ci(u)}}}}function Ci(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||De(u,"ready");try{_.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Bn(u){return u.g?u.g.readyState:0}a.ca=function(){try{return Bn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Th(m)}};function Pe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Di(u){const m={};u=(u.g&&Bn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var _=Jl(u[T]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const B=m[L]||[];m[L]=B,B.push(_)}jt(m,function(T){return T.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function hi(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function cr(u){this.za=0,this.i=[],this.j=new xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=hi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=hi("baseRetryDelayMs",5e3,u),this.Za=hi("retryDelaySeedMs",1e4,u),this.Ta=hi("forwardChannelMaxRetries",2,u),this.va=hi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new fo(u&&u.concurrentRequestLimit),this.Ba=new lr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=cr.prototype,a.ka=8,a.I=1,a.connect=function(u,m,_,T){pe(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=hu(this,null,this.W),fi(this)};function wo(u){if(ea(u),u.I==3){var m=u.V++,_=ve(u.J);if(Ht(_,"SID",u.M),Ht(_,"RID",m),Ht(_,"TYPE","terminate"),cs(u,_),m=new Ln(u,u.j,m),m.M=2,m.A=rs(ve(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=fu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ii(m)}cu(u)}function hr(u){u.g&&(Io(u),u.g.cancel(),u.g=null)}function ea(u){hr(u),u.v&&(d.clearTimeout(u.v),u.v=null),ia(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function fi(u){if(!mo(u.h)&&!u.m){u.m=!0;var m=u.Ea;Kt||b(),Nt||(Kt(),Nt=!0),C.add(m,u),u.D=0}}function na(u,m){return ai(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ti(v(u.Ea,u,m),uu(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Ln(this,this.j,u);let B=this.o;if(this.U&&(B?(B=V(B),et(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=su(this,L,m),_=ve(this.J),Ht(_,"RID",u),Ht(_,"CVER",22),this.G&&Ht(_,"X-HTTP-Session-Id",this.G),cs(this,_),B&&(this.R?m="headers="+Ii(An(B))+"&"+m:this.u&&os(_,this.u,B)),go(this.h,L),this.Ra&&Ht(_,"TYPE","init"),this.S?(Ht(_,"$req",m),Ht(_,"SID","null"),L.U=!0,ni(L,_,null)):ni(L,_,m),this.I=2}}else this.I==3&&(u?Ro(this,u):this.i.length==0||mo(this.h)||Ro(this))};function Ro(u,m){var _;m?_=m.l:_=u.V++;const T=ve(u.J);Ht(T,"SID",u.M),Ht(T,"RID",_),Ht(T,"AID",u.K),cs(u,T),u.u&&u.o&&os(T,u.u,u.o),_=new Ln(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=su(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),go(u.h,_),ni(_,T,m)}function cs(u,m){u.H&&Lt(u.H,function(_,T){Ht(m,T,_)}),u.l&&Lt({},function(_,T){Ht(m,T,_)})}function su(u,m,_){_=Math.min(u.i.length,_);const T=u.l?v(u.l.Ka,u.l,u):null;t:{var L=u.i;let Et=-1;for(;;){const he=["count="+_];Et==-1?_>0?(Et=L[0].g,he.push("ofs="+Et)):Et=0:he.push("ofs="+Et);let zt=!0;for(let se=0;se<_;se++){var B=L[se].g;const Sn=L[se].map;if(B-=Et,B<0)Et=Math.max(0,L[se].g-100),zt=!1;else try{B="req"+B+"_"||"";try{var W=Sn instanceof Map?Sn:Object.entries(Sn);for(const[mi,qn]of W){let jn=qn;p(qn)&&(jn=ir(qn)),he.push(B+mi+"="+encodeURIComponent(jn))}}catch(mi){throw he.push(B+"type="+encodeURIComponent("_badmap")),mi}}catch{T&&T(Sn)}}if(zt){W=he.join("&");break t}}W=void 0}return u=u.i.splice(0,_),m.G=u,W}function au(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Kt||b(),Nt||(Kt(),Nt=!0),C.add(m,u),u.A=0}}function hs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ti(v(u.Da,u),uu(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,ou(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ti(v(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pe(10),hr(this),ou(this))};function Io(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function ou(u){u.g=new Ln(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ve(u.na);Ht(m,"RID","rpc"),Ht(m,"SID",u.M),Ht(m,"AID",u.K),Ht(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ht(m,"TO",u.ia),Ht(m,"TYPE","xmlhttp"),cs(u,m),u.u&&u.o&&os(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=rs(ve(m)),_.u=null,_.R=!0,Ys(_,u)}a.Va=function(){this.C!=null&&(this.C=null,hr(this),hs(this),pe(19))};function ia(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function lu(u,m){var _=null;if(u.g==m){ia(u),Io(u),u.g=null;var T=2}else if(oi(u.h,m))_=m.G,po(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Ks(),De(T,new Wn(T,_)),fi(u)}else au(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&na(u,m)||T==2&&hs(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),L){case 1:di(u,5);break;case 4:di(u,10);break;case 3:di(u,6);break;default:di(u,2)}}}function uu(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function di(u,m){if(u.j.info("Error code "+m),m==2){var _=v(u.bb,u),T=u.Ua;const L=!T;T=new hn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(T,"https"),rs(T),L?Pn(T.toString(),_):Ao(T.toString(),_)}else pe(2);u.I=0,u.l&&u.l.pa(m),cu(u),ea(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function cu(u){if(u.I=0,u.ja=[],u.l){const m=yo(u.h);(m.length!=0||u.i.length!=0)&&(F(u.ja,m),F(u.ja,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.oa()}}function hu(u,m,_){var T=_ instanceof hn?ve(_):new hn(_);if(T.g!="")m&&(T.g=m+"."+T.g),rr(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new hn(null);T&&Ue(B,T),m&&(B.g=m),L&&rr(B,L),_&&(B.h=_),T=B}return _=u.G,m=u.wa,_&&m&&Ht(T,_,m),Ht(T,"VER",u.ka),cs(u,T),T}function fu(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Yt(new ui({ab:_})):new Yt(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function du(){}a=du.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function fr(){}fr.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){ge.call(this),this.g=new cr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Oi(this)}S($e,ge),$e.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){wo(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=ir(u),u=_);m.i.push(new _e(m.Ya++,u)),m.I==3&&fi(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,wo(this.g),delete this.g,$e.Z.N.call(this)};function mu(u){ke.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(mu,ke);function gu(){vn.call(this),this.status=1}S(gu,vn);function Oi(u){this.g=u}S(Oi,du),Oi.prototype.ra=function(){De(this.g,"a")},Oi.prototype.qa=function(u){De(this.g,new mu(u))},Oi.prototype.pa=function(u){De(this.g,new gu)},Oi.prototype.oa=function(){De(this.g,"b")},fr.prototype.createWebChannel=fr.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,sT=function(){return new fr},rT=function(){return Ks()},iT=ce,Qd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ns.NO_ERROR=0,ns.TIMEOUT=8,ns.HTTP_ERROR=6,Dc=ns,co.COMPLETE="complete",nT=co,Kl.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",ge.prototype.listen=ge.prototype.J,dl=Kl,Yt.prototype.listenOnce=Yt.prototype.K,Yt.prototype.getLastError=Yt.prototype.Ha,Yt.prototype.getLastErrorCode=Yt.prototype.ya,Yt.prototype.getStatus=Yt.prototype.ca,Yt.prototype.getResponseJson=Yt.prototype.La,Yt.prototype.getResponseText=Yt.prototype.la,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Fa,eT=Yt}).apply(typeof Ec<"u"?Ec:typeof self<"u"?self:typeof window<"u"?window:{});const lv="@firebase/firestore",uv="4.9.3";class Ye{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");let to="12.7.0";const ks=new cm("@firebase/firestore");function Ua(){return ks.logLevel}function rt(a,...t){if(ks.logLevel<=Ct.DEBUG){const i=t.map(Sm);ks.debug(`Firestore (${to}): ${a}`,...i)}}function Wi(a,...t){if(ks.logLevel<=Ct.ERROR){const i=t.map(Sm);ks.error(`Firestore (${to}): ${a}`,...i)}}function Fa(a,...t){if(ks.logLevel<=Ct.WARN){const i=t.map(Sm);ks.warn(`Firestore (${to}): ${a}`,...i)}}function Sm(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}function mt(a,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,aT(a,s,i)}function aT(a,t,i){let s=`FIRESTORE (${to}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Wi(s),new Error(s)}function qt(a,t,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,a||aT(t,l,s)}function vt(a,t){return a}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends er{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vs{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class oT{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class iR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ye.UNAUTHENTICATED)))}shutdown(){}}class rR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class sR{constructor(t){this.t=t,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){qt(this.o===void 0,42304);let s=this.i;const l=y=>this.i!==s?(s=this.i,i(y)):Promise.resolve();let c=new Vs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Vs,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Vs)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string",31837,{l:s}),new oT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string",2055,{h:t}),new Ye(t)}}class aR{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class oR{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new aR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Ye.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class cv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){qt(this.o===void 0,3512);const s=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>s(c)))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new cv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new cv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function uR(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}class bm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=uR(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=t.charAt(l[c]%62))}return s}}function Dt(a,t){return a<t?-1:a>t?1:0}function Kd(a,t){const i=Math.min(a.length,t.length);for(let s=0;s<i;s++){const l=a.charAt(s),c=t.charAt(s);if(l!==c)return Vd(l)===Vd(c)?Dt(l,c):Vd(l)?1:-1}return Dt(a.length,t.length)}const cR=55296,hR=57343;function Vd(a){const t=a.charCodeAt(0);return t>=cR&&t<=hR}function Qa(a,t,i){return a.length===t.length&&a.every(((s,l)=>i(s,t[l])))}const hv="__name__";class vi{constructor(t,i,s){i===void 0?i=0:i>t.length&&mt(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&mt(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return vi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof vi?t.forEach((s=>{i.push(s)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let l=0;l<s;l++){const c=vi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Dt(t.length,i.length)}static compareSegments(t,i){const s=vi.isNumericId(t),l=vi.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?vi.extractNumericId(t).compare(vi.extractNumericId(i)):Kd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Hr.fromString(t.substring(4,t.length-2))}}class Wt extends vi{construct(t,i,s){return new Wt(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new it(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new Wt(i)}static emptyPath(){return new Wt([])}}const fR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends vi{construct(t,i,s){return new Ge(t,i,s)}static isValidIdentifier(t){return fR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hv}static keyField(){return new Ge([hv])}static fromServerFormat(t){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new it(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new it(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new it(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(s+=p,l++):(c(),l++)}if(c(),d)throw new it(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ge(i)}static emptyPath(){return new Ge([])}}class ut{constructor(t){this.path=t}static fromPath(t){return new ut(Wt.fromString(t))}static fromName(t){return new ut(Wt.fromString(t).popFirst(5))}static empty(){return new ut(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Wt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Wt.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ut(new Wt(t.slice()))}}function lT(a,t,i){if(!i)throw new it(X.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function dR(a,t,i,s){if(t===!0&&s===!0)throw new it(X.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function fv(a){if(!ut.isDocumentKey(a))throw new it(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function dv(a){if(ut.isDocumentKey(a))throw new it(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function uT(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function sh(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":mt(12329,{type:typeof a})}function vl(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new it(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=sh(a);throw new it(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}function Re(a,t){const i={typeString:a};return t&&(i.value=t),i}function zl(a,t){if(!uT(a))throw new it(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in t)if(t[s]){const l=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in a)){i=`JSON missing required field: '${s}'`;break}const d=a[s];if(l&&typeof d!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new it(X.INVALID_ARGUMENT,i);return!0}const mv=-62135596800,gv=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(t){return ne.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*gv);return new ne(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new it(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new it(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<mv)throw new it(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new it(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gv}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(zl(t,ne._jsonSchema))return new ne(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-mv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:Re("string",ne._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};class yt{static fromTimestamp(t){return new yt(t)}static min(){return new yt(new ne(0,0))}static max(){return new yt(new ne(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Rl=-1;function mR(a,t){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,l=yt.fromTimestamp(s===1e9?new ne(i+1,0):new ne(i,s));return new Fr(l,ut.empty(),t)}function gR(a){return new Fr(a.readTime,a.key,Rl)}class Fr{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new Fr(yt.min(),ut.empty(),Rl)}static max(){return new Fr(yt.max(),ut.empty(),Rl)}}function pR(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=ut.comparator(a.documentKey,t.documentKey),i!==0?i:Dt(a.largestBatchId,t.largestBatchId))}const yR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _R{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function eo(a){if(a.code!==X.FAILED_PRECONDITION||a.message!==yR)throw a;rt("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.reject(i)}static resolve(t){return new Z(((i,s)=>{i(t)}))}static reject(t){return new Z(((i,s)=>{s(t)}))}static waitFor(t){return new Z(((i,s)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>s(y)))})),d=!0,c===l&&i()}))}static or(t){let i=Z.resolve(!1);for(const s of t)i=i.next((l=>l?Z.resolve(l):s()));return i}static forEach(t,i){const s=[];return t.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(t,i){return new Z(((s,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const v=y;i(t[v]).next((A=>{d[v]=A,++p,p===c&&s(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new Z(((s,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):s()};c()}))}}function vR(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function no(a){return a.name==="IndexedDbTransactionError"}class ah{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ah.ce=-1;const wm=-1;function oh(a){return a==null}function Gc(a){return a===0&&1/a==-1/0}function ER(a){return typeof a=="number"&&Number.isInteger(a)&&!Gc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const cT="";function TR(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=pv(t)),t=AR(a.get(i),t);return pv(t)}function AR(a,t){let i=t;const s=a.length;for(let l=0;l<s;l++){const c=a.charAt(l);switch(c){case"\0":i+="";break;case cT:i+="";break;default:i+=c}}return i}function pv(a){return a+cT+""}function yv(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function zs(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function hT(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}class oe{constructor(t,i){this.comparator=t,this.root=i||He.EMPTY}insert(t,i){return new oe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,He.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,s)=>(t(i,s),!1)))}toString(){const t=[];return this.inorderTraversal(((i,s)=>(t.push(`${i}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Tc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Tc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Tc(this.root,t,this.comparator,!0)}}class Tc{constructor(t,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class He{constructor(t,i,s,l,c){this.key=t,this.value=i,this.color=s??He.RED,this.left=l??He.EMPTY,this.right=c??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,l,c){return new He(t??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return He.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw mt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw mt(27949);return t+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw mt(57766)}get value(){throw mt(16141)}get color(){throw mt(16727)}get left(){throw mt(29726)}get right(){throw mt(36894)}copy(t,i,s,l,c){return this}insert(t,i,s){return new He(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,s)=>(t(i),!1)))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new _v(this.data.getIterator())}getIteratorFrom(t){return new _v(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((s=>{i=i.add(s)})),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class _v{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Yn{constructor(t){this.fields=t,t.sort(Ge.comparator)}static empty(){return new Yn([])}unionWith(t){let i=new Ve(Ge.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new Yn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Qa(this.fields,t.fields,((i,s)=>i.isEqual(s)))}}class fT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Fe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new fT("Invalid base64 string: "+c):c}})(t);return new Fe(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Fe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const SR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qr(a){if(qt(!!a,39018),typeof a=="string"){let t=0;const i=SR.exec(a);if(qt(!!i,46558,{timestamp:a}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:me(a.seconds),nanos:me(a.nanos)}}function me(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Kr(a){return typeof a=="string"?Fe.fromBase64String(a):Fe.fromUint8Array(a)}const dT="server_timestamp",mT="__type__",gT="__previous_value__",pT="__local_write_time__";function Rm(a){return(a?.mapValue?.fields||{})[mT]?.stringValue===dT}function lh(a){const t=a.mapValue.fields[gT];return Rm(t)?lh(t):t}function Il(a){const t=Qr(a.mapValue.fields[pT].timestampValue);return new ne(t.seconds,t.nanos)}class bR{constructor(t,i,s,l,c,d,p,y,v,A){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=v,this.isUsingEmulator=A}}const Fc="(default)";class Cl{constructor(t,i){this.projectId=t,this.database=i||Fc}static empty(){return new Cl("","")}get isDefaultDatabase(){return this.database===Fc}isEqual(t){return t instanceof Cl&&t.projectId===this.projectId&&t.database===this.database}}const yT="__type__",wR="__max__",Ac={mapValue:{}},_T="__vector__",Qc="value";function Yr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Rm(a)?4:IR(a)?9007199254740991:RR(a)?10:11:mt(28295,{value:a})}function Ri(a,t){if(a===t)return!0;const i=Yr(a);if(i!==Yr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return Il(a).isEqual(Il(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Qr(l.timestampValue),p=Qr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(l,c){return Kr(l.bytesValue).isEqual(Kr(c.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(l,c){return me(l.geoPointValue.latitude)===me(c.geoPointValue.latitude)&&me(l.geoPointValue.longitude)===me(c.geoPointValue.longitude)})(a,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return me(l.integerValue)===me(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=me(l.doubleValue),p=me(c.doubleValue);return d===p?Gc(d)===Gc(p):isNaN(d)&&isNaN(p)}return!1})(a,t);case 9:return Qa(a.arrayValue.values||[],t.arrayValue.values||[],Ri);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(yv(d)!==yv(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Ri(d[y],p[y])))return!1;return!0})(a,t);default:return mt(52216,{left:a})}}function Dl(a,t){return(a.values||[]).find((i=>Ri(i,t)))!==void 0}function Ka(a,t){if(a===t)return 0;const i=Yr(a),s=Yr(t);if(i!==s)return Dt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Dt(a.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=me(c.integerValue||c.doubleValue),y=me(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(a,t);case 3:return vv(a.timestampValue,t.timestampValue);case 4:return vv(Il(a),Il(t));case 5:return Kd(a.stringValue,t.stringValue);case 6:return(function(c,d){const p=Kr(c),y=Kr(d);return p.compareTo(y)})(a.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let v=0;v<p.length&&v<y.length;v++){const A=Dt(p[v],y[v]);if(A!==0)return A}return Dt(p.length,y.length)})(a.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Dt(me(c.latitude),me(d.latitude));return p!==0?p:Dt(me(c.longitude),me(d.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return Ev(a.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},v=p[Qc]?.arrayValue,A=y[Qc]?.arrayValue,S=Dt(v?.values?.length||0,A?.values?.length||0);return S!==0?S:Ev(v,A)})(a.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Ac.mapValue&&d===Ac.mapValue)return 0;if(c===Ac.mapValue)return 1;if(d===Ac.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),v=d.fields||{},A=Object.keys(v);y.sort(),A.sort();for(let S=0;S<y.length&&S<A.length;++S){const D=Kd(y[S],A[S]);if(D!==0)return D;const j=Ka(p[y[S]],v[A[S]]);if(j!==0)return j}return Dt(y.length,A.length)})(a.mapValue,t.mapValue);default:throw mt(23264,{he:i})}}function vv(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return Dt(a,t);const i=Qr(a),s=Qr(t),l=Dt(i.seconds,s.seconds);return l!==0?l:Dt(i.nanos,s.nanos)}function Ev(a,t){const i=a.values||[],s=t.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=Ka(i[l],s[l]);if(c)return c}return Dt(i.length,s.length)}function Ya(a){return Yd(a)}function Yd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const s=Qr(i);return`time(${s.seconds},${s.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Kr(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return ut.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=Yd(c);return s+"]"})(a.arrayValue):"mapValue"in a?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${Yd(i.fields[d])}`;return l+"}"})(a.mapValue):mt(61005,{value:a})}function Oc(a){switch(Yr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=lh(a);return t?16+Oc(t):16;case 5:return 2*a.stringValue.length;case 6:return Kr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+Oc(c)),0)})(a.arrayValue);case 10:case 11:return(function(s){let l=0;return zs(s.fields,((c,d)=>{l+=c.length+Oc(d)})),l})(a.mapValue);default:throw mt(13486,{value:a})}}function Tv(a,t){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${t.path.canonicalString()}`}}function Xd(a){return!!a&&"integerValue"in a}function Im(a){return!!a&&"arrayValue"in a}function Av(a){return!!a&&"nullValue"in a}function Sv(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Nc(a){return!!a&&"mapValue"in a}function RR(a){return(a?.mapValue?.fields||{})[yT]?.stringValue===_T}function El(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return zs(a.mapValue.fields,((i,s)=>t.mapValue.fields[i]=El(s))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=El(a.arrayValue.values[i]);return t}return{...a}}function IR(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===wR}class Vn{constructor(t){this.value=t}static empty(){return new Vn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!Nc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=El(i)}setAll(t){let i=Ge.emptyPath(),s={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,s,l),s={},l=[],i=p.popLast()}d?s[p.lastSegment()]=El(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(t){const i=this.field(t.popLast());Nc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ri(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=i.mapValue.fields[t.get(s)];Nc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,s){zs(i,((l,c)=>t[l]=c));for(const l of s)delete t[l]}clone(){return new Vn(El(this.value))}}function vT(a){const t=[];return zs(a.fields,((i,s)=>{const l=new Ge([i]);if(Nc(s)){const c=vT(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Yn(t)}class Xe{constructor(t,i,s,l,c,d,p){this.key=t,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Xe(t,0,yt.min(),yt.min(),yt.min(),Vn.empty(),0)}static newFoundDocument(t,i,s,l){return new Xe(t,1,i,yt.min(),s,l,0)}static newNoDocument(t,i){return new Xe(t,2,i,yt.min(),yt.min(),Vn.empty(),0)}static newUnknownDocument(t,i){return new Xe(t,3,i,yt.min(),yt.min(),Vn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Kc{constructor(t,i){this.position=t,this.inclusive=i}}function bv(a,t,i){let s=0;for(let l=0;l<a.position.length;l++){const c=t[l],d=a.position[l];if(c.field.isKeyField()?s=ut.comparator(ut.fromName(d.referenceValue),i.key):s=Ka(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function wv(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Ri(a.position[i],t.position[i]))return!1;return!0}class Ol{constructor(t,i="asc"){this.field=t,this.dir=i}}function CR(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}class ET{}class we extends ET{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new OR(t,i,s):i==="array-contains"?new MR(t,s):i==="in"?new UR(t,s):i==="not-in"?new xR(t,s):i==="array-contains-any"?new LR(t,s):new we(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new NR(t,s):new VR(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ka(i,this.value)):i!==null&&Yr(this.value)===Yr(i)&&this.matchesComparison(Ka(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends ET{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Zn(t,i)}matches(t){return TT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function TT(a){return a.op==="and"}function AT(a){return DR(a)&&TT(a)}function DR(a){for(const t of a.filters)if(t instanceof Zn)return!1;return!0}function Zd(a){if(a instanceof we)return a.field.canonicalString()+a.op.toString()+Ya(a.value);if(AT(a))return a.filters.map((t=>Zd(t))).join(",");{const t=a.filters.map((i=>Zd(i))).join(",");return`${a.op}(${t})`}}function ST(a,t){return a instanceof we?(function(s,l){return l instanceof we&&s.op===l.op&&s.field.isEqual(l.field)&&Ri(s.value,l.value)})(a,t):a instanceof Zn?(function(s,l){return l instanceof Zn&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,d,p)=>c&&ST(d,l.filters[p])),!0):!1})(a,t):void mt(19439)}function bT(a){return a instanceof we?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ya(i.value)}`})(a):a instanceof Zn?(function(i){return i.op.toString()+" {"+i.getFilters().map(bT).join(" ,")+"}"})(a):"Filter"}class OR extends we{constructor(t,i,s){super(t,i,s),this.key=ut.fromName(s.referenceValue)}matches(t){const i=ut.comparator(t.key,this.key);return this.matchesComparison(i)}}class NR extends we{constructor(t,i){super(t,"in",i),this.keys=wT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class VR extends we{constructor(t,i){super(t,"not-in",i),this.keys=wT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function wT(a,t){return(t.arrayValue?.values||[]).map((i=>ut.fromName(i.referenceValue)))}class MR extends we{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Im(i)&&Dl(i.arrayValue,this.value)}}class UR extends we{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Dl(this.value.arrayValue,i)}}class xR extends we{constructor(t,i){super(t,"not-in",i)}matches(t){if(Dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Dl(this.value.arrayValue,i)}}class LR extends we{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Im(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Dl(this.value.arrayValue,s)))}}class kR{constructor(t,i=null,s=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Rv(a,t=null,i=[],s=[],l=null,c=null,d=null){return new kR(a,t,i,s,l,c,d)}function Cm(a){const t=vt(a);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((s=>Zd(s))).join(","),i+="|ob:",i+=t.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),oh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((s=>Ya(s))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((s=>Ya(s))).join(",")),t.Te=i}return t.Te}function Dm(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!CR(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!ST(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!wv(a.startAt,t.startAt)&&wv(a.endAt,t.endAt)}function Jd(a){return ut.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class io{constructor(t,i=null,s=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function PR(a,t,i,s,l,c,d,p){return new io(a,t,i,s,l,c,d,p)}function Om(a){return new io(a)}function Iv(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function RT(a){return a.collectionGroup!==null}function Tl(a){const t=vt(a);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ve(Ge.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Ol(c,s))})),i.has(Ge.keyField().canonicalString())||t.Ie.push(new Ol(Ge.keyField(),s))}return t.Ie}function Ti(a){const t=vt(a);return t.Ee||(t.Ee=zR(t,Tl(a))),t.Ee}function zR(a,t){if(a.limitType==="F")return Rv(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Ol(l.field,c)}));const i=a.endAt?new Kc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Kc(a.startAt.position,a.startAt.inclusive):null;return Rv(a.path,a.collectionGroup,t,a.filters,a.limit,i,s)}}function $d(a,t){const i=a.filters.concat([t]);return new io(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function Wd(a,t,i){return new io(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function uh(a,t){return Dm(Ti(a),Ti(t))&&a.limitType===t.limitType}function IT(a){return`${Cm(Ti(a))}|lt:${a.limitType}`}function xa(a){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>bT(l))).join(", ")}]`),oh(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>Ya(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>Ya(l))).join(",")),`Target(${s})`})(Ti(a))}; limitType=${a.limitType})`}function ch(a,t){return t.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ut.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(a,t)&&(function(s,l){for(const c of Tl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(a,t)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(a,t)&&(function(s,l){return!(s.startAt&&!(function(d,p,y){const v=bv(d,p,y);return d.inclusive?v<=0:v<0})(s.startAt,Tl(s),l)||s.endAt&&!(function(d,p,y){const v=bv(d,p,y);return d.inclusive?v>=0:v>0})(s.endAt,Tl(s),l))})(a,t)}function BR(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function CT(a){return(t,i)=>{let s=!1;for(const l of Tl(a)){const c=qR(l,t,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function qR(a,t,i){const s=a.field.isKeyField()?ut.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),v=p.data.field(c);return y!==null&&v!==null?Ka(y,v):mt(42886)})(a.field,t,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return mt(19790,{direction:a.dir})}}class Bs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){zs(this.inner,((i,s)=>{for(const[l,c]of s)t(l,c)}))}isEmpty(){return hT(this.inner)}size(){return this.innerSize}}const jR=new oe(ut.comparator);function tr(){return jR}const DT=new oe(ut.comparator);function ml(...a){let t=DT;for(const i of a)t=t.insert(i.key,i);return t}function OT(a){let t=DT;return a.forEach(((i,s)=>t=t.insert(i,s.overlayedDocument))),t}function Os(){return Al()}function NT(){return Al()}function Al(){return new Bs((a=>a.toString()),((a,t)=>a.isEqual(t)))}const HR=new oe(ut.comparator),GR=new Ve(ut.comparator);function Ot(...a){let t=GR;for(const i of a)t=t.add(i);return t}const FR=new Ve(Dt);function QR(){return FR}function Nm(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(t)?"-0":t}}function VT(a){return{integerValue:""+a}}function KR(a,t){return ER(t)?VT(t):Nm(a,t)}class hh{constructor(){this._=void 0}}function YR(a,t,i){return a instanceof Nl?(function(l,c){const d={fields:{[mT]:{stringValue:dT},[pT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Rm(c)&&(c=lh(c)),c&&(d.fields[gT]=c),{mapValue:d}})(i,t):a instanceof Vl?UT(a,t):a instanceof Ml?xT(a,t):(function(l,c){const d=MT(l,c),p=Cv(d)+Cv(l.Ae);return Xd(d)&&Xd(l.Ae)?VT(p):Nm(l.serializer,p)})(a,t)}function XR(a,t,i){return a instanceof Vl?UT(a,t):a instanceof Ml?xT(a,t):i}function MT(a,t){return a instanceof Yc?(function(s){return Xd(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(t)?t:{integerValue:0}:null}class Nl extends hh{}class Vl extends hh{constructor(t){super(),this.elements=t}}function UT(a,t){const i=LT(t);for(const s of a.elements)i.some((l=>Ri(l,s)))||i.push(s);return{arrayValue:{values:i}}}class Ml extends hh{constructor(t){super(),this.elements=t}}function xT(a,t){let i=LT(t);for(const s of a.elements)i=i.filter((l=>!Ri(l,s)));return{arrayValue:{values:i}}}class Yc extends hh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Cv(a){return me(a.integerValue||a.doubleValue)}function LT(a){return Im(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class ZR{constructor(t,i){this.field=t,this.transform=i}}function JR(a,t){return a.field.isEqual(t.field)&&(function(s,l){return s instanceof Vl&&l instanceof Vl||s instanceof Ml&&l instanceof Ml?Qa(s.elements,l.elements,Ri):s instanceof Yc&&l instanceof Yc?Ri(s.Ae,l.Ae):s instanceof Nl&&l instanceof Nl})(a.transform,t.transform)}class $R{constructor(t,i){this.version=t,this.transformResults=i}}class Zi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Zi}static exists(t){return new Zi(void 0,t)}static updateTime(t){return new Zi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Vc(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class fh{}function kT(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new zT(a.key,Zi.none()):new Bl(a.key,a.data,Zi.none());{const i=a.data,s=Vn.empty();let l=new Ve(Ge.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new qs(a.key,s,new Yn(l.toArray()),Zi.none())}}function WR(a,t,i){a instanceof Bl?(function(l,c,d){const p=l.value.clone(),y=Ov(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(a,t,i):a instanceof qs?(function(l,c,d){if(!Vc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Ov(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(PT(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(a,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Sl(a,t,i,s){return a instanceof Bl?(function(c,d,p,y){if(!Vc(c.precondition,d))return p;const v=c.value.clone(),A=Nv(c.fieldTransforms,y,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(a,t,i,s):a instanceof qs?(function(c,d,p,y){if(!Vc(c.precondition,d))return p;const v=Nv(c.fieldTransforms,y,d),A=d.data;return A.setAll(PT(c)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(a,t,i,s):(function(c,d,p){return Vc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(a,t,i)}function tI(a,t){let i=null;for(const s of a.fieldTransforms){const l=t.data.field(s.field),c=MT(s.transform,l||null);c!=null&&(i===null&&(i=Vn.empty()),i.set(s.field,c))}return i||null}function Dv(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Qa(s,l,((c,d)=>JR(c,d)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class Bl extends fh{constructor(t,i,s,l=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class qs extends fh{constructor(t,i,s,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function PT(a){const t=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=a.data.field(i);t.set(i,s)}})),t}function Ov(a,t,i){const s=new Map;qt(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let l=0;l<i.length;l++){const c=a[l],d=c.transform,p=t.data.field(c.field);s.set(c.field,XR(d,p,i[l]))}return s}function Nv(a,t,i){const s=new Map;for(const l of a){const c=l.transform,d=i.data.field(l.field);s.set(l.field,YR(c,d,t))}return s}class zT extends fh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eI extends fh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nI{constructor(t,i,s,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&WR(c,t,s[l])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=Sl(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=Sl(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=NT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=kT(d,p);y!==null&&s.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(yt.min())})),s}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ot())}isEqual(t){return this.batchId===t.batchId&&Qa(this.mutations,t.mutations,((i,s)=>Dv(i,s)))&&Qa(this.baseMutations,t.baseMutations,((i,s)=>Dv(i,s)))}}class Vm{constructor(t,i,s,l){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(t,i,s){qt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return HR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new Vm(t,i,s,l)}}class iI{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class rI{constructor(t,i){this.count=t,this.unchangedNames=i}}var be,Ut;function sI(a){switch(a){case X.OK:return mt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return mt(15467,{code:a})}}function BT(a){if(a===void 0)return Wi("GRPC error has no .code"),X.UNKNOWN;switch(a){case be.OK:return X.OK;case be.CANCELLED:return X.CANCELLED;case be.UNKNOWN:return X.UNKNOWN;case be.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case be.INTERNAL:return X.INTERNAL;case be.UNAVAILABLE:return X.UNAVAILABLE;case be.UNAUTHENTICATED:return X.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case be.NOT_FOUND:return X.NOT_FOUND;case be.ALREADY_EXISTS:return X.ALREADY_EXISTS;case be.PERMISSION_DENIED:return X.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case be.ABORTED:return X.ABORTED;case be.OUT_OF_RANGE:return X.OUT_OF_RANGE;case be.UNIMPLEMENTED:return X.UNIMPLEMENTED;case be.DATA_LOSS:return X.DATA_LOSS;default:return mt(39323,{code:a})}}(Ut=be||(be={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";function aI(){return new TextEncoder}const oI=new Hr([4294967295,4294967295],0);function Vv(a){const t=aI().encode(a),i=new tT;return i.update(t),new Uint8Array(i.digest())}function Mv(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Hr([i,s],0),new Hr([l,c],0)]}class Mm{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new gl(`Invalid padding: ${i}`);if(s<0)throw new gl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new gl(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new gl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Hr.fromNumber(this.ge)}ye(t,i,s){let l=t.add(i.multiply(Hr.fromNumber(s)));return l.compare(oI)===1&&(l=new Hr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Vv(t),[s,l]=Mv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);if(!this.we(d))return!1}return!0}static create(t,i,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Mm(c,l,i);return s.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Vv(t),[s,l]=Mv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class dh{constructor(t,i,s,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const l=new Map;return l.set(t,ql.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new dh(yt.min(),l,new oe(Dt),tr(),Ot())}}class ql{constructor(t,i,s,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new ql(s,i,Ot(),Ot(),Ot())}}class Mc{constructor(t,i,s,l){this.be=t,this.removedTargetIds=i,this.key=s,this.De=l}}class qT{constructor(t,i){this.targetId=t,this.Ce=i}}class jT{constructor(t,i,s=Fe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=l}}class Uv{constructor(){this.ve=0,this.Fe=xv(),this.Me=Fe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ot(),i=Ot(),s=Ot();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:mt(38017,{changeType:c})}})),new ql(this.Me,this.xe,t,i,s)}qe(){this.Oe=!1,this.Fe=xv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class lI{constructor(t){this.Ge=t,this.ze=new Map,this.je=tr(),this.Je=Sc(),this.He=Sc(),this.Ye=new oe(Dt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const s=this.nt(i);switch(t.state){case 0:this.rt(i)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(t.resumeToken));break;default:mt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,s=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Jd(c))if(s===0){const d=new ut(c.path);this.et(i,d,Xe.newNoDocument(d,yt.min()))}else qt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Kr(s).toUint8Array()}catch(y){if(y instanceof fT)return Fa("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Mm(d,l,c)}catch(y){return Fa(y instanceof gl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,s){return i.Ce.count===s-this.Pt(t,i.targetId)?0:2}Pt(t,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Jd(p.target)){const y=new ut(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Xe.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let s=Ot();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const v=this.ot(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new dh(t,i,this.Ye,this.je,s);return this.je=tr(),this.Je=Sc(),this.He=Sc(),this.Ye=new oe(Dt),l}Xe(t,i){if(!this.rt(t))return;const s=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),s&&(this.je=this.je.insert(i,s))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Uv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ve(Dt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ve(Dt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Uv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Sc(){return new oe(ut.comparator)}function xv(){return new oe(ut.comparator)}const uI={asc:"ASCENDING",desc:"DESCENDING"},cI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hI={and:"AND",or:"OR"};class fI{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function tm(a,t){return a.useProto3Json||oh(t)?t:{value:t}}function Xc(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function HT(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function dI(a,t){return Xc(a,t.toTimestamp())}function Ai(a){return qt(!!a,49232),yt.fromTimestamp((function(i){const s=Qr(i);return new ne(s.seconds,s.nanos)})(a))}function Um(a,t){return em(a,t).canonicalString()}function em(a,t){const i=(function(l){return new Wt(["projects",l.projectId,"databases",l.database])})(a).child("documents");return t===void 0?i:i.child(t)}function GT(a){const t=Wt.fromString(a);return qt(XT(t),10190,{key:t.toString()}),t}function nm(a,t){return Um(a.databaseId,t.path)}function Md(a,t){const i=GT(t);if(i.get(1)!==a.databaseId.projectId)throw new it(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new it(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new ut(QT(i))}function FT(a,t){return Um(a.databaseId,t)}function mI(a){const t=GT(a);return t.length===4?Wt.emptyPath():QT(t)}function im(a){return new Wt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function QT(a){return qt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function Lv(a,t,i){return{name:nm(a,t),fields:i.value.mapValue.fields}}function gI(a,t){let i;if("targetChange"in t){t.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:mt(39313,{state:v})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(v,A){return v.useProto3Json?(qt(A===void 0||typeof A=="string",58123),Fe.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Fe.fromUint8Array(A||new Uint8Array))})(a,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(v){const A=v.code===void 0?X.UNKNOWN:BT(v.code);return new it(A,v.message||"")})(d);i=new jT(s,l,c,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Md(a,s.document.name),c=Ai(s.document.updateTime),d=s.document.createTime?Ai(s.document.createTime):yt.min(),p=new Vn({mapValue:{fields:s.document.fields}}),y=Xe.newFoundDocument(l,c,d,p),v=s.targetIds||[],A=s.removedTargetIds||[];i=new Mc(v,A,y.key,y)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Md(a,s.document),c=s.readTime?Ai(s.readTime):yt.min(),d=Xe.newNoDocument(l,c),p=s.removedTargetIds||[];i=new Mc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Md(a,s.document),c=s.removedTargetIds||[];i=new Mc([],c,l,null)}else{if(!("filter"in t))return mt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new rI(l,c),p=s.targetId;i=new qT(p,d)}}return i}function pI(a,t){let i;if(t instanceof Bl)i={update:Lv(a,t.key,t.value)};else if(t instanceof zT)i={delete:nm(a,t.key)};else if(t instanceof qs)i={update:Lv(a,t.key,t.data),updateMask:wI(t.fieldMask)};else{if(!(t instanceof eI))return mt(16599,{Vt:t.type});i={verify:nm(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((s=>(function(c,d){const p=d.transform;if(p instanceof Nl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Vl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ml)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Yc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw mt(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:dI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:mt(27497)})(a,t.precondition)),i}function yI(a,t){return a&&a.length>0?(qt(t!==void 0,14353),a.map((i=>(function(l,c){let d=l.updateTime?Ai(l.updateTime):Ai(c);return d.isEqual(yt.min())&&(d=Ai(c)),new $R(d,l.transformResults||[])})(i,t)))):[]}function _I(a,t){return{documents:[FT(a,t.path)]}}function vI(a,t){const i={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=FT(a,l);const c=(function(v){if(v.length!==0)return YT(Zn.create(v,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((A=>(function(D){return{field:La(D.field),direction:AI(D.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=tm(a,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{ft:i,parent:l}}function EI(a){let t=mI(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){qt(s===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const D=KT(S);return D instanceof Zn&&AT(D)?D.getFilters():[D]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((D=>(function(F){return new Ol(ka(F.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(D)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let D;return D=typeof S=="object"?S.value:S,oh(D)?null:D})(i.limit));let y=null;i.startAt&&(y=(function(S){const D=!!S.before,j=S.values||[];return new Kc(j,D)})(i.startAt));let v=null;return i.endAt&&(v=(function(S){const D=!S.before,j=S.values||[];return new Kc(j,D)})(i.endAt)),PR(t,l,d,c,p,"F",y,v)}function TI(a,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function KT(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=ka(i.unaryFilter.field);return we.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=ka(i.unaryFilter.field);return we.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ka(i.unaryFilter.field);return we.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ka(i.unaryFilter.field);return we.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return mt(61313);default:return mt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return we.create(ka(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return mt(58110);default:return mt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return Zn.create(i.compositeFilter.filters.map((s=>KT(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return mt(1026)}})(i.compositeFilter.op))})(a):mt(30097,{filter:a})}function AI(a){return uI[a]}function SI(a){return cI[a]}function bI(a){return hI[a]}function La(a){return{fieldPath:a.canonicalString()}}function ka(a){return Ge.fromServerFormat(a.fieldPath)}function YT(a){return a instanceof we?(function(i){if(i.op==="=="){if(Sv(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NAN"}};if(Av(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Sv(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NOT_NAN"}};if(Av(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:La(i.field),op:SI(i.op),value:i.value}}})(a):a instanceof Zn?(function(i){const s=i.getFilters().map((l=>YT(l)));return s.length===1?s[0]:{compositeFilter:{op:bI(i.op),filters:s}}})(a):mt(54877,{filter:a})}function wI(a){const t=[];return a.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function XT(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class zr{constructor(t,i,s,l,c=yt.min(),d=yt.min(),p=Fe.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new zr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class RI{constructor(t){this.yt=t}}function II(a){const t=EI({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Wd(t,t.limit,"L"):t}class CI{constructor(){this.Cn=new DI}addToCollectionParentIndex(t,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(Fr.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(Fr.min())}updateCollectionGroup(t,i,s){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class DI{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i]||new Ve(Wt.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Ve(Wt.comparator)).toArray()}}const kv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ZT=41943040;class ln{static withCacheSize(t){return new ln(t,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(ZT,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);class Xa{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Xa(0)}static cr(){return new Xa(-1)}}const Pv="LruGarbageCollector",OI=1048576;function zv([a,t],[i,s]){const l=Dt(a,i);return l===0?Dt(t,s):l}class NI{constructor(t){this.Ir=t,this.buffer=new Ve(zv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();zv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class VI{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){rt(Pv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){no(i)?rt(Pv,"Ignoring IndexedDB error during garbage collection: ",i):await eo(i)}await this.Vr(3e5)}))}}class MI{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(t,i){if(i===0)return Z.resolve(ah.ce);const s=new NI(i);return this.mr.forEachTarget(t,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(t,i,s){return this.mr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(kv)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let s,l,c,d,p,y,v;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(s=S,p=Date.now(),this.removeTargets(t,s,i)))).next((S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(t,s)))).next((S=>(v=Date.now(),Ua()<=Ct.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${S} documents in `+(v-y)+`ms
Total Duration: ${v-A}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function UI(a,t){return new MI(a,t)}class xI{constructor(){this.changes=new Bs((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Xe.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Z.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class LI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class kI{constructor(t,i,s,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(s!==null&&Sl(s.mutation,l,Yn.empty(),ne.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.getLocalViewOfDocuments(t,s,Ot()).next((()=>s))))}getLocalViewOfDocuments(t,i,s=Ot()){const l=Os();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,s).next((c=>{let d=ml();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const s=Os();return this.populateOverlays(t,s,i).next((()=>this.computeViews(t,i,s,Ot())))}populateOverlays(t,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,s,l){let c=tr();const d=Al(),p=(function(){return Al()})();return i.forEach(((y,v)=>{const A=s.get(v.key);l.has(v.key)&&(A===void 0||A.mutation instanceof qs)?c=c.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),Sl(A.mutation,v,A.mutation.getFieldMask(),ne.now())):d.set(v.key,Yn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((v,A)=>d.set(v,A))),i.forEach(((v,A)=>p.set(v,new LI(A,d.get(v)??null)))),p)))}recalculateAndSaveOverlays(t,i){const s=Al();let l=new oe(((d,p)=>d-p)),c=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const v=i.get(y);if(v===null)return;let A=s.get(y)||Yn.empty();A=p.applyToLocalView(v,A),s.set(y,A);const S=(l.get(p.batchId)||Ot()).add(y);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),v=y.key,A=y.value,S=NT();A.forEach((D=>{if(!c.has(D)){const j=kT(i.get(D),s.get(D));j!==null&&S.set(D,j),c=c.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(t,v,S))}return Z.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,i,s,l){return(function(d){return ut.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):RT(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,l):this.getDocumentsMatchingCollectionQuery(t,i,s,l)}getNextDocuments(t,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,l-c.size):Z.resolve(Os());let p=Rl,y=c;return d.next((v=>Z.forEach(v,((A,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(t,A).next((D=>{y=y.insert(A,D)}))))).next((()=>this.populateOverlays(t,v,c))).next((()=>this.computeViews(t,y,v,Ot()))).next((A=>({batchId:p,changes:OT(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ut(i)).next((s=>{let l=ml();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,s,l){const c=i.collectionGroup;let d=ml();return this.indexManager.getCollectionParents(t,c).next((p=>Z.forEach(p,(y=>{const v=(function(S,D){return new io(D,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,v,s,l).next((A=>{A.forEach(((S,D)=>{d=d.insert(S,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,l)))).next((d=>{c.forEach(((y,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Xe.newInvalidDocument(A)))}));let p=ml();return d.forEach(((y,v)=>{const A=c.get(y);A!==void 0&&Sl(A.mutation,v,Yn.empty(),ne.now()),ch(i,v)&&(p=p.insert(y,v))})),p}))}}class PI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ai(l.createTime)}})(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:II(l.bundledQuery),readTime:Ai(l.readTime)}})(i)),Z.resolve()}}class zI{constructor(){this.overlays=new oe(ut.comparator),this.qr=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const s=Os();return Z.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(t,i,s){return s.forEach(((l,c)=>{this.St(t,i,c)})),Z.resolve()}removeOverlaysForBatchId(t,i,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),Z.resolve()}getOverlaysForCollection(t,i,s){const l=Os(),c=i.length+1,d=new ut(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,v=y.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&y.largestBatchId>s&&l.set(y.getKey(),y)}return Z.resolve(l)}getOverlaysForCollectionGroup(t,i,s,l){let c=new oe(((v,A)=>v-A));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>s){let A=c.get(v.largestBatchId);A===null&&(A=Os(),c=c.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const p=Os(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((v,A)=>p.set(v,A))),!(p.size()>=l)););return Z.resolve(p)}St(t,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new iI(i,s));let c=this.qr.get(i);c===void 0&&(c=Ot(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}class BI{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}class xm{constructor(){this.Qr=new Ve(Le.$r),this.Ur=new Ve(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const s=new Le(t,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,i){t.forEach((s=>this.addReference(s,i)))}removeReference(t,i){this.Gr(new Le(t,i))}zr(t,i){t.forEach((s=>this.removeReference(s,i)))}jr(t){const i=new ut(new Wt([])),s=new Le(i,t),l=new Le(i,t+1),c=[];return this.Ur.forEachInRange([s,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ut(new Wt([])),s=new Le(i,t),l=new Le(i,t+1);let c=Ot();return this.Ur.forEachInRange([s,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Le(t,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Le{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ut.comparator(t.key,i.key)||Dt(t.Yr,i.Yr)}static Kr(t,i){return Dt(t.Yr,i.Yr)||ut.comparator(t.key,i.key)}}class qI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ve(Le.$r)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new nI(c,i,s,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Le(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,l=this.ei(s),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?wm:this.tr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Le(i,0),l=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Ve(Dt);return i.forEach((l=>{const c=new Le(l,0),d=new Le(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{s=s.add(p.Yr)}))})),Z.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,l=s.length+1;let c=s;ut.isDocumentKey(c)||(c=c.child(""));const d=new Le(new ut(c),0);let p=new Ve(Dt);return this.Zr.forEachWhile((y=>{const v=y.key.path;return!!s.isPrefixOf(v)&&(v.length===l&&(p=p.add(y.Yr)),!0)}),d),Z.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((s=>{const l=this.Xr(s);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Z.forEach(i.mutations,(l=>{const c=new Le(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,i){const s=new Le(i,0),l=this.Zr.firstAfterOrEqual(s);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class jI{constructor(t){this.ri=t,this.docs=(function(){return new oe(ut.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return Z.resolve(s?s.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(t,i){let s=tr();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Xe.newInvalidDocument(l))})),Z.resolve(s)}getDocumentsMatchingQuery(t,i,s,l){let c=tr();const d=i.path,p=new ut(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:v,value:{document:A}}=y.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||pR(gR(A),s)<=0||(l.has(A.key)||ch(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(t,i,s,l){mt(9500)}ii(t,i){return Z.forEach(this.docs,(s=>i(s)))}newChangeBuffer(t){return new HI(this)}getSize(t){return Z.resolve(this.size)}}class HI extends xI{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(s)})),Z.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class GI{constructor(t){this.persistence=t,this.si=new Bs((i=>Cm(i)),Dm),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.oi=0,this._i=new xm,this.targetCount=0,this.ai=Xa.ur()}forEachTarget(t,i){return this.si.forEach(((s,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),Z.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Xa(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.Pr(i),Z.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,s){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const s=this.si.get(i)||null;return Z.resolve(s)}addMatchingKeys(t,i,s){return this._i.Wr(i,s),Z.resolve()}removeMatchingKeys(t,i,s){this._i.zr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const s=this._i.Hr(i);return Z.resolve(s)}containsKey(t,i){return Z.resolve(this._i.containsKey(i))}}class JT{constructor(t,i){this.ui={},this.overlays={},this.ci=new ah(0),this.li=!1,this.li=!0,this.hi=new BI,this.referenceDelegate=t(this),this.Pi=new GI(this),this.indexManager=new CI,this.remoteDocumentCache=(function(l){return new jI(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new RI(i),this.Ii=new PI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new zI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.ui[t.toKey()];return s||(s=new qI(i,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,s){rt("MemoryPersistence","Starting transaction:",t);const l=new FI(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return Z.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,i))))}}class FI extends _R{constructor(t){super(),this.currentSequenceNumber=t}}class Lm{constructor(t){this.persistence=t,this.Ri=new xm,this.Vi=null}static mi(t){return new Lm(t)}get fi(){if(this.Vi)return this.Vi;throw mt(60996)}addReference(t,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),Z.resolve()}removeReference(t,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(s=>{const l=ut.fromPath(s);return this.gi(t,l).next((c=>{c||i.removeEntry(l,yt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Zc{constructor(t,i){this.persistence=t,this.pi=new Bs((s=>TR(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=UI(this,i)}static mi(t,i){return new Zc(t,i)}Ei(){}di(t){return Z.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>i.next((l=>s+l))))}wr(t){let i=0;return this.pr(t,(s=>{i++})).next((()=>i))}pr(t,i){return Z.forEach(this.pi,((s,l)=>this.br(t,s,l).next((c=>c?Z.resolve():i(l)))))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(s++,c.removeEntry(d,yt.min()))})))).next((()=>c.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),Z.resolve()}removeReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Oc(t.data.value)),i}br(t,i,s){return Z.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return Z.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class km{constructor(t,i,s,l){this.targetId=t,this.fromCache=i,this.Es=s,this.ds=l}static As(t,i){let s=Ot(),l=Ot();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new km(t,i.fromCache,s,l)}}class QI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class KI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return kS()?8:vR(Ze())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,s,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new QI;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,s,l){return s.documentReadCount<this.fs?(Ua()<=Ct.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",xa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Ua()<=Ct.DEBUG&&rt("QueryEngine","Query:",xa(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Ua()<=Ct.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",xa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ti(i))):Z.resolve())}ys(t,i){if(Iv(i))return Z.resolve(null);let s=Ti(i);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Wd(i,null,"F"),s=Ti(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next((c=>{const d=Ot(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,s).next((y=>{const v=this.Ds(i,p);return this.Cs(i,v,d,y.readTime)?this.ys(t,Wd(i,null,"F")):this.vs(t,v,i,y)}))))})))))}ws(t,i,s,l){return Iv(i)||l.isEqual(yt.min())?Z.resolve(null):this.ps.getDocuments(t,s).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,s,l)?Z.resolve(null):(Ua()<=Ct.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),xa(i)),this.vs(t,d,i,mR(l,Rl)).next((p=>p)))}))}Ds(t,i){let s=new Ve(CT(t));return i.forEach(((l,c)=>{ch(t,c)&&(s=s.add(c))})),s}Cs(t,i,s,l){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,s){return Ua()<=Ct.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",xa(i)),this.ps.getDocumentsMatchingQuery(t,i,Fr.min(),s)}vs(t,i,s,l){return this.ps.getDocumentsMatchingQuery(t,s,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Pm="LocalStore",YI=3e8;class XI{constructor(t,i,s,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new oe(Dt),this.xs=new Bs((c=>Cm(c)),Dm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new kI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function ZI(a,t,i,s){return new XI(a,t,i,s)}async function $T(a,t){const i=vt(a);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],p=[];let y=Ot();for(const v of l){d.push(v.batchId);for(const A of v.mutations)y=y.add(A.key)}for(const v of c){p.push(v.batchId);for(const A of v.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(s,y).next((v=>({Ls:v,removedBatchIds:d,addedBatchIds:p})))}))}))}function JI(a,t){const i=vt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,v,A){const S=v.batch,D=S.keys();let j=Z.resolve();return D.forEach((F=>{j=j.next((()=>A.getEntry(y,F))).next(($=>{const J=v.docVersions.get(F);qt(J!==null,48541),$.version.compareTo(J)<0&&(S.applyToRemoteDocument($,v),$.isValidDocument()&&($.setReadTime(v.commitVersion),A.addEntry($)))}))})),j.next((()=>p.mutationQueue.removeMutationBatch(y,S)))})(i,s,t,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let y=Ot();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(y=y.add(p.batch.mutations[v].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function WT(a){const t=vt(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function $I(a,t){const i=vt(a),s=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((A,S)=>{const D=l.get(S);if(!D)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,S))));let j=D.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?j=j.withResumeToken(Fe.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):A.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(A.resumeToken,s)),l=l.insert(S,j),(function($,J,nt){return $.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=YI?!0:nt.addedDocuments.size+nt.modifiedDocuments.size+nt.removedDocuments.size>0})(D,j,A)&&p.push(i.Pi.updateTargetData(c,j))}));let y=tr(),v=Ot();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(WI(c,d,t.documentUpdates).next((A=>{y=A.ks,v=A.qs}))),!s.isEqual(yt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(A)}return Z.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,v))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function WI(a,t,i){let s=Ot(),l=Ot();return i.forEach((c=>s=s.add(c))),t.getEntries(a,s).next((c=>{let d=tr();return i.forEach(((p,y)=>{const v=c.get(p);y.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(yt.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):rt(Pm,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function tC(a,t){const i=vt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=wm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function eC(a,t){const i=vt(a);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.Pi.getTargetData(s,t).next((c=>c?(l=c,Z.resolve(l)):i.Pi.allocateTargetId(s).next((d=>(l=new zr(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(t,s.targetId)),s}))}async function rm(a,t,i){const s=vt(a),l=s.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!no(d))throw d;rt(Pm,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ms=s.Ms.remove(t),s.xs.delete(l.target)}function Bv(a,t,i){const s=vt(a);let l=yt.min(),c=Ot();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,v,A){const S=vt(y),D=S.xs.get(A);return D!==void 0?Z.resolve(S.Ms.get(D)):S.Pi.getTargetData(v,A)})(s,d,Ti(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,t,i?l:yt.min(),i?c:Ot()))).next((p=>(nC(s,BR(t),p),{documents:p,Qs:c})))))}function nC(a,t,i){let s=a.Os.get(t)||yt.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),a.Os.set(t,s)}class qv{constructor(){this.activeTargetIds=QR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class iC{constructor(){this.Mo=new qv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,s){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new qv,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class rC{Oo(t){}shutdown(){}}const jv="ConnectivityMonitor";class Hv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(jv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){rt(jv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let bc=null;function sm(){return bc===null?bc=(function(){return 268435456+Math.round(2147483648*Math.random())})():bc++,"0x"+bc.toString(16)}const Ud="RestConnection",sC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===Fc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(t,i,s,l,c){const d=sm(),p=this.zo(t,i.toUriEncodedString());rt(Ud,`Sending RPC '${t}' ${d}:`,p,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:v}=new URL(p),A=Ja(v);return this.Jo(t,p,y,s,A).then((S=>(rt(Ud,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw Fa(Ud,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",s),S}))}Ho(t,i,s,l,c,d){return this.Go(t,i,s,l,c)}jo(t,i,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+to})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),s&&s.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const s=sC[t];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class oC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Ke="WebChannelConnection";class lC extends aC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,s,l,c){const d=sm();return new Promise(((p,y)=>{const v=new eT;v.setWithCredentials(!0),v.listenOnce(nT.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Dc.NO_ERROR:const S=v.getResponseJson();rt(Ke,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case Dc.TIMEOUT:rt(Ke,`RPC '${t}' ${d} timed out`),y(new it(X.DEADLINE_EXCEEDED,"Request time out"));break;case Dc.HTTP_ERROR:const D=v.getStatus();if(rt(Ke,`RPC '${t}' ${d} failed with status:`,D,"response text:",v.getResponseText()),D>0){let j=v.getResponseJson();Array.isArray(j)&&(j=j[0]);const F=j?.error;if(F&&F.status&&F.message){const $=(function(nt){const ht=nt.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(ht)>=0?ht:X.UNKNOWN})(F.status);y(new it($,F.message))}else y(new it(X.UNKNOWN,"Server responded with status "+v.getStatus()))}else y(new it(X.UNAVAILABLE,"Connection failed."));break;default:mt(9055,{l_:t,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{rt(Ke,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);rt(Ke,`RPC '${t}' ${d} sending request:`,l),v.send(i,"POST",A,s,15)}))}T_(t,i,s){const l=sm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=sT(),p=rT(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,s),y.encodeInitMessageHeaders=!0;const A=c.join("");rt(Ke,`Creating RPC '${t}' stream ${l}: ${A}`,y);const S=d.createWebChannel(A,y);this.I_(S);let D=!1,j=!1;const F=new oC({Yo:J=>{j?rt(Ke,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(D||(rt(Ke,`Opening RPC '${t}' stream ${l} transport.`),S.open(),D=!0),rt(Ke,`RPC '${t}' stream ${l} sending:`,J),S.send(J))},Zo:()=>S.close()}),$=(J,nt,ht)=>{J.listen(nt,(dt=>{try{ht(dt)}catch(xt){setTimeout((()=>{throw xt}),0)}}))};return $(S,dl.EventType.OPEN,(()=>{j||(rt(Ke,`RPC '${t}' stream ${l} transport opened.`),F.o_())})),$(S,dl.EventType.CLOSE,(()=>{j||(j=!0,rt(Ke,`RPC '${t}' stream ${l} transport closed`),F.a_(),this.E_(S))})),$(S,dl.EventType.ERROR,(J=>{j||(j=!0,Fa(Ke,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),F.a_(new it(X.UNAVAILABLE,"The operation could not be completed")))})),$(S,dl.EventType.MESSAGE,(J=>{if(!j){const nt=J.data[0];qt(!!nt,16349);const ht=nt,dt=ht?.error||ht[0]?.error;if(dt){rt(Ke,`RPC '${t}' stream ${l} received error:`,dt);const xt=dt.status;let Kt=(function(b){const I=be[b];if(I!==void 0)return BT(I)})(xt),Nt=dt.message;Kt===void 0&&(Kt=X.INTERNAL,Nt="Unknown error status: "+xt+" with message "+dt.message),j=!0,F.a_(new it(Kt,Nt)),S.close()}else rt(Ke,`RPC '${t}' stream ${l} received:`,nt),F.u_(nt)}})),$(p,iT.STAT_EVENT,(J=>{J.stat===Qd.PROXY?rt(Ke,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===Qd.NOPROXY&&rt(Ke,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{F.__()}),0),F}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function xd(){return typeof document<"u"?document:null}function mh(a){return new fI(a,!0)}class t0{constructor(t,i,s=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=s,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Gv="PersistentStream";class e0{constructor(t,i,s,l,c,d,p,y){this.Mi=t,this.S_=s,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new t0(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(Wi(i.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{t((()=>{const l=new it(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,i){const s=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(Gv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(rt(Gv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class uC extends e0{constructor(t,i,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=gI(this.serializer,t),s=(function(c){if(!("targetChange"in c))return yt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?Ai(d.readTime):yt.min()})(t);return this.listener.H_(i,s)}Y_(t){const i={};i.database=im(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=Jd(y)?{documents:_I(c,y)}:{query:vI(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=HT(c,d.resumeToken);const v=tm(c,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(yt.min())>0){p.readTime=Xc(c,d.snapshotVersion.toTimestamp());const v=tm(c,d.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,t);const s=TI(this.serializer,t);s&&(i.labels=s),this.q_(i)}Z_(t){const i={};i.database=im(this.serializer),i.removeTarget=t,this.q_(i)}}class cC extends e0{constructor(t,i,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=yI(t.writeResults,t.commitTime),s=Ai(t.commitTime);return this.listener.na(s,i)}ra(){const t={};t.database=im(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((s=>pI(this.serializer,s)))};this.q_(i)}}class hC{}class fC extends hC{constructor(t,i,s,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new it(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,em(i,s),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new it(X.UNKNOWN,c.toString())}))}Ho(t,i,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,em(i,s),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new it(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class dC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wi(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ps="RemoteStore";class mC{constructor(t,i,s,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{js(this)&&(rt(Ps,"Restarting streams for network reachability change."),await(async function(y){const v=vt(y);v.Ea.add(4),await jl(v),v.Ra.set("Unknown"),v.Ea.delete(4),await gh(v)})(this))}))})),this.Ra=new dC(s,l)}}async function gh(a){if(js(a))for(const t of a.da)await t(!0)}async function jl(a){for(const t of a.da)await t(!1)}function n0(a,t){const i=vt(a);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),jm(i)?qm(i):ro(i).O_()&&Bm(i,t))}function zm(a,t){const i=vt(a),s=ro(i);i.Ia.delete(t),s.O_()&&i0(i,t),i.Ia.size===0&&(s.O_()?s.L_():js(i)&&i.Ra.set("Unknown"))}function Bm(a,t){if(a.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ro(a).Y_(t)}function i0(a,t){a.Va.Ue(t),ro(a).Z_(t)}function qm(a){a.Va=new lI({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),ro(a).start(),a.Ra.ua()}function jm(a){return js(a)&&!ro(a).x_()&&a.Ia.size>0}function js(a){return vt(a).Ea.size===0}function r0(a){a.Va=void 0}async function gC(a){a.Ra.set("Online")}async function pC(a){a.Ia.forEach(((t,i)=>{Bm(a,t)}))}async function yC(a,t){r0(a),jm(a)?(a.Ra.ha(t),qm(a)):a.Ra.set("Unknown")}async function _C(a,t,i){if(a.Ra.set("Online"),t instanceof jT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(a,t)}catch(s){rt(Ps,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Jc(a,s)}else if(t instanceof Mc?a.Va.Ze(t):t instanceof qT?a.Va.st(t):a.Va.tt(t),!i.isEqual(yt.min()))try{const s=await WT(a.localStore);i.compareTo(s)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const A=c.Ia.get(v);A&&c.Ia.set(v,A.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,v)=>{const A=c.Ia.get(y);if(!A)return;c.Ia.set(y,A.withResumeToken(Fe.EMPTY_BYTE_STRING,A.snapshotVersion)),i0(c,y);const S=new zr(A.target,y,v,A.sequenceNumber);Bm(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(a,i)}catch(s){rt(Ps,"Failed to raise snapshot:",s),await Jc(a,s)}}async function Jc(a,t,i){if(!no(t))throw t;a.Ea.add(1),await jl(a),a.Ra.set("Offline"),i||(i=()=>WT(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{rt(Ps,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await gh(a)}))}function s0(a,t){return t().catch((i=>Jc(a,i,t)))}async function ph(a){const t=vt(a),i=Xr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:wm;for(;vC(t);)try{const l=await tC(t.localStore,s);if(l===null){t.Ta.length===0&&i.L_();break}s=l.batchId,EC(t,l)}catch(l){await Jc(t,l)}a0(t)&&o0(t)}function vC(a){return js(a)&&a.Ta.length<10}function EC(a,t){a.Ta.push(t);const i=Xr(a);i.O_()&&i.X_&&i.ea(t.mutations)}function a0(a){return js(a)&&!Xr(a).x_()&&a.Ta.length>0}function o0(a){Xr(a).start()}async function TC(a){Xr(a).ra()}async function AC(a){const t=Xr(a);for(const i of a.Ta)t.ea(i.mutations)}async function SC(a,t,i){const s=a.Ta.shift(),l=Vm.from(s,t,i);await s0(a,(()=>a.remoteSyncer.applySuccessfulWrite(l))),await ph(a)}async function bC(a,t){t&&Xr(a).X_&&await(async function(s,l){if((function(d){return sI(d)&&d!==X.ABORTED})(l.code)){const c=s.Ta.shift();Xr(s).B_(),await s0(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await ph(s)}})(a,t),a0(a)&&o0(a)}async function Fv(a,t){const i=vt(a);i.asyncQueue.verifyOperationInProgress(),rt(Ps,"RemoteStore received new credentials");const s=js(i);i.Ea.add(3),await jl(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await gh(i)}async function wC(a,t){const i=vt(a);t?(i.Ea.delete(2),await gh(i)):t||(i.Ea.add(2),await jl(i),i.Ra.set("Unknown"))}function ro(a){return a.ma||(a.ma=(function(i,s,l){const c=vt(i);return c.sa(),new uC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Xo:gC.bind(null,a),t_:pC.bind(null,a),r_:yC.bind(null,a),H_:_C.bind(null,a)}),a.da.push((async t=>{t?(a.ma.B_(),jm(a)?qm(a):a.Ra.set("Unknown")):(await a.ma.stop(),r0(a))}))),a.ma}function Xr(a){return a.fa||(a.fa=(function(i,s,l){const c=vt(i);return c.sa(),new cC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:TC.bind(null,a),r_:bC.bind(null,a),ta:AC.bind(null,a),na:SC.bind(null,a)}),a.da.push((async t=>{t?(a.fa.B_(),await ph(a)):(await a.fa.stop(),a.Ta.length>0&&(rt(Ps,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class Hm{constructor(t,i,s,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,l,c){const d=Date.now()+s,p=new Hm(t,i,d,l,c);return p.start(s),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gm(a,t){if(Wi("AsyncQueue",`${t}: ${a}`),no(a))return new it(X.UNAVAILABLE,`${t}: ${a}`);throw a}class qa{static emptySet(t){return new qa(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||ut.comparator(i.key,s.key):(i,s)=>ut.comparator(i.key,s.key),this.keyedMap=ml(),this.sortedSet=new oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,s)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof qa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new qa;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}class Qv{constructor(){this.ga=new oe(ut.comparator)}track(t){const i=t.doc.key,s=this.ga.get(i);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(i,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(i):t.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):mt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,s)=>{t.push(s)})),t}}class Za{constructor(t,i,s,l,c,d,p,y,v){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(t,i,s,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Za(t,i,qa.emptySet(i),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&uh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}class RC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class IC{constructor(){this.queries=Kv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=vt(i),c=l.queries;l.queries=Kv(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(s)}))})(this,new it(X.ABORTED,"Firestore shutting down"))}}function Kv(){return new Bs((a=>IT(a)),uh)}async function CC(a,t){const i=vt(a);let s=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(s=2):(c=new RC,s=t.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Gm(d,`Initialization of query '${xa(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Fm(i)}async function DC(a,t){const i=vt(a),s=t.query;let l=3;const c=i.queries.get(s);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function OC(a,t){const i=vt(a);let s=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(s=!0);d.wa=l}}s&&Fm(i)}function NC(a,t,i){const s=vt(a),l=s.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);s.queries.delete(t)}function Fm(a){a.Ca.forEach((t=>{t.next()}))}var am,Yv;(Yv=am||(am={})).Ma="default",Yv.Cache="cache";class VC{constructor(t,i,s){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new Za(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Za.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==am.Cache}}class l0{constructor(t){this.key=t}}class u0{constructor(t){this.key=t}}class MC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=CT(t),this.tu=new qa(this.eu)}get nu(){return this.Ya}ru(t,i){const s=i?i.iu:new Qv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,S)=>{const D=l.get(A),j=ch(this.query,S)?S:null,F=!!D&&this.mutatedKeys.has(D.key),$=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let J=!1;D&&j?D.data.isEqual(j.data)?F!==$&&(s.track({type:3,doc:j}),J=!0):this.su(D,j)||(s.track({type:2,doc:j}),J=!0,(y&&this.eu(j,y)>0||v&&this.eu(j,v)<0)&&(p=!0)):!D&&j?(s.track({type:0,doc:j}),J=!0):D&&!j&&(s.track({type:1,doc:D}),J=!0,(y||v)&&(p=!0)),J&&(j?(d=d.add(j),c=$?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),s.track({type:1,doc:A})}return{tu:d,iu:s,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,S)=>(function(j,F){const $=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt(20277,{Rt:J})}};return $(j)-$(F)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(s),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,v=y!==this.Za;return this.Za=y,d.length!==0||v?{snapshot:new Za(this.query,t.tu,c,d,t.mutatedKeys,y===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Qv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ot(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return t.forEach((s=>{this.Xa.has(s)||i.push(new u0(s))})),this.Xa.forEach((s=>{t.has(s)||i.push(new l0(s))})),i}cu(t){this.Ya=t.Qs,this.Xa=Ot();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Za.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Qm="SyncEngine";class UC{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class xC{constructor(t){this.key=t,this.hu=!1}}class LC{constructor(t,i,s,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Bs((p=>IT(p)),uh),this.Iu=new Map,this.Eu=new Set,this.du=new oe(ut.comparator),this.Au=new Map,this.Ru=new xm,this.Vu={},this.mu=new Map,this.fu=Xa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function kC(a,t,i=!0){const s=g0(a);let l;const c=s.Tu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await c0(s,t,i,!0),l}async function PC(a,t){const i=g0(a);await c0(i,t,!0,!1)}async function c0(a,t,i,s){const l=await eC(a.localStore,Ti(t)),c=l.targetId,d=a.sharedClientState.addLocalQueryTarget(c,i);let p;return s&&(p=await zC(a,t,c,d==="current",l.resumeToken)),a.isPrimaryClient&&i&&n0(a.remoteStore,l),p}async function zC(a,t,i,s,l){a.pu=(S,D,j)=>(async function($,J,nt,ht){let dt=J.view.ru(nt);dt.Cs&&(dt=await Bv($.localStore,J.query,!1).then((({documents:C})=>J.view.ru(C,dt))));const xt=ht&&ht.targetChanges.get(J.targetId),Kt=ht&&ht.targetMismatches.get(J.targetId)!=null,Nt=J.view.applyChanges(dt,$.isPrimaryClient,xt,Kt);return Zv($,J.targetId,Nt.au),Nt.snapshot})(a,S,D,j);const c=await Bv(a.localStore,t,!0),d=new MC(t,c.Qs),p=d.ru(c.documents),y=ql.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",l),v=d.applyChanges(p,a.isPrimaryClient,y);Zv(a,i,v.au);const A=new UC(t,i,d);return a.Tu.set(t,A),a.Iu.has(i)?a.Iu.get(i).push(t):a.Iu.set(i,[t]),v.snapshot}async function BC(a,t,i){const s=vt(a),l=s.Tu.get(t),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((d=>!uh(d,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await rm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&zm(s.remoteStore,l.targetId),om(s,l.targetId)})).catch(eo)):(om(s,l.targetId),await rm(s.localStore,l.targetId,!0))}async function qC(a,t){const i=vt(a),s=i.Tu.get(t),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),zm(i.remoteStore,s.targetId))}async function jC(a,t,i){const s=XC(a);try{const l=await(function(d,p){const y=vt(d),v=ne.now(),A=p.reduce(((j,F)=>j.add(F.key)),Ot());let S,D;return y.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let F=tr(),$=Ot();return y.Ns.getEntries(j,A).next((J=>{F=J,F.forEach(((nt,ht)=>{ht.isValidDocument()||($=$.add(nt))}))})).next((()=>y.localDocuments.getOverlayedDocuments(j,F))).next((J=>{S=J;const nt=[];for(const ht of p){const dt=tI(ht,S.get(ht.key).overlayedDocument);dt!=null&&nt.push(new qs(ht.key,dt,vT(dt.value.mapValue),Zi.exists(!0)))}return y.mutationQueue.addMutationBatch(j,v,nt,p)})).next((J=>{D=J;const nt=J.applyToLocalDocumentSet(S,$);return y.documentOverlayCache.saveOverlays(j,J.batchId,nt)}))})).then((()=>({batchId:D.batchId,changes:OT(S)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let v=d.Vu[d.currentUser.toKey()];v||(v=new oe(Dt)),v=v.insert(p,y),d.Vu[d.currentUser.toKey()]=v})(s,l.batchId,i),await Hl(s,l.changes),await ph(s.remoteStore)}catch(l){const c=Gm(l,"Failed to persist write");i.reject(c)}}async function h0(a,t){const i=vt(a);try{const s=await $I(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?qt(d.hu,14607):l.removedDocuments.size>0&&(qt(d.hu,42227),d.hu=!1))})),await Hl(i,s,t)}catch(s){await eo(s)}}function Xv(a,t,i){const s=vt(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=vt(d);y.onlineState=p;let v=!1;y.queries.forEach(((A,S)=>{for(const D of S.Sa)D.va(p)&&(v=!0)})),v&&Fm(y)})(s.eventManager,t),l.length&&s.Pu.H_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function HC(a,t,i){const s=vt(a);s.sharedClientState.updateQueryState(t,"rejected",i);const l=s.Au.get(t),c=l&&l.key;if(c){let d=new oe(ut.comparator);d=d.insert(c,Xe.newNoDocument(c,yt.min()));const p=Ot().add(c),y=new dh(yt.min(),new Map,new oe(Dt),d,p);await h0(s,y),s.du=s.du.remove(c),s.Au.delete(t),Km(s)}else await rm(s.localStore,t,!1).then((()=>om(s,t,i))).catch(eo)}async function GC(a,t){const i=vt(a),s=t.batch.batchId;try{const l=await JI(i.localStore,t);d0(i,s,null),f0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Hl(i,l)}catch(l){await eo(l)}}async function FC(a,t,i){const s=vt(a);try{const l=await(function(d,p){const y=vt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let A;return y.mutationQueue.lookupMutationBatch(v,p).next((S=>(qt(S!==null,37113),A=S.keys(),y.mutationQueue.removeMutationBatch(v,S)))).next((()=>y.mutationQueue.performConsistencyCheck(v))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(v,A,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A))).next((()=>y.localDocuments.getDocuments(v,A)))}))})(s.localStore,t);d0(s,t,i),f0(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await Hl(s,l)}catch(l){await eo(l)}}function f0(a,t){(a.mu.get(t)||[]).forEach((i=>{i.resolve()})),a.mu.delete(t)}function d0(a,t,i){const s=vt(a);let l=s.Vu[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),s.Vu[s.currentUser.toKey()]=l}}function om(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const s of a.Iu.get(t))a.Tu.delete(s),i&&a.Pu.yu(s,i);a.Iu.delete(t),a.isPrimaryClient&&a.Ru.jr(t).forEach((s=>{a.Ru.containsKey(s)||m0(a,s)}))}function m0(a,t){a.Eu.delete(t.path.canonicalString());const i=a.du.get(t);i!==null&&(zm(a.remoteStore,i),a.du=a.du.remove(t),a.Au.delete(i),Km(a))}function Zv(a,t,i){for(const s of i)s instanceof l0?(a.Ru.addReference(s.key,t),QC(a,s)):s instanceof u0?(rt(Qm,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,t),a.Ru.containsKey(s.key)||m0(a,s.key)):mt(19791,{wu:s})}function QC(a,t){const i=t.key,s=i.path.canonicalString();a.du.get(i)||a.Eu.has(s)||(rt(Qm,"New document in limbo: "+i),a.Eu.add(s),Km(a))}function Km(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const i=new ut(Wt.fromString(t)),s=a.fu.next();a.Au.set(s,new xC(i)),a.du=a.du.insert(i,s),n0(a.remoteStore,new zr(Ti(Om(i.path)),s,"TargetPurposeLimboResolution",ah.ce))}}async function Hl(a,t,i){const s=vt(a),l=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,y)=>{d.push(s.pu(y,t,i).then((v=>{if((v||i)&&s.isPrimaryClient){const A=v?!v.fromCache:i?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(v){l.push(v);const A=km.As(y.targetId,v);c.push(A)}})))})),await Promise.all(d),s.Pu.H_(l),await(async function(y,v){const A=vt(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Z.forEach(v,(D=>Z.forEach(D.Es,(j=>A.persistence.referenceDelegate.addReference(S,D.targetId,j))).next((()=>Z.forEach(D.ds,(j=>A.persistence.referenceDelegate.removeReference(S,D.targetId,j)))))))))}catch(S){if(!no(S))throw S;rt(Pm,"Failed to update sequence numbers: "+S)}for(const S of v){const D=S.targetId;if(!S.fromCache){const j=A.Ms.get(D),F=j.snapshotVersion,$=j.withLastLimboFreeSnapshotVersion(F);A.Ms=A.Ms.insert(D,$)}}})(s.localStore,c))}async function KC(a,t){const i=vt(a);if(!i.currentUser.isEqual(t)){rt(Qm,"User change. New user:",t.toKey());const s=await $T(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new it(X.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Hl(i,s.Ls)}}function YC(a,t){const i=vt(a),s=i.Au.get(t);if(s&&s.hu)return Ot().add(s.key);{let l=Ot();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function g0(a){const t=vt(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=h0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=YC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=HC.bind(null,t),t.Pu.H_=OC.bind(null,t.eventManager),t.Pu.yu=NC.bind(null,t.eventManager),t}function XC(a){const t=vt(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=GC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=FC.bind(null,t),t}class $c{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=mh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return ZI(this.persistence,new KI,t.initialUser,this.serializer)}Cu(t){return new JT(Lm.mi,this.serializer)}Du(t){return new iC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$c.provider={build:()=>new $c};class ZC extends $c{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){qt(this.persistence.referenceDelegate instanceof Zc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new VI(s,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new JT((s=>Zc.mi(s,i)),this.serializer)}}class lm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Xv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=KC.bind(null,this.syncEngine),await wC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new IC})()}createDatastore(t){const i=mh(t.databaseInfo.databaseId),s=(function(c){return new lC(c)})(t.databaseInfo);return(function(c,d,p,y){return new fC(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return(function(s,l,c,d,p){return new mC(s,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Xv(this.syncEngine,i,0)),(function(){return Hv.v()?new Hv:new rC})())}createSyncEngine(t,i){return(function(l,c,d,p,y,v,A){const S=new LC(l,c,d,p,y,v);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=vt(i);rt(Ps,"RemoteStore shutting down."),s.Ea.add(5),await jl(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}lm.provider={build:()=>new lm};class JC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Wi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Zr="FirestoreClient";class $C{constructor(t,i,s,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=Ye.UNAUTHENTICATED,this.clientId=bm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{rt(Zr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(rt(Zr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=Gm(i,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Ld(a,t){a.asyncQueue.verifyOperationInProgress(),rt(Zr,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let s=i.initialUser;a.setCredentialChangeListener((async l=>{s.isEqual(l)||(await $T(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function Jv(a,t){a.asyncQueue.verifyOperationInProgress();const i=await WC(a);rt(Zr,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener((s=>Fv(t.remoteStore,s))),a.setAppCheckTokenChangeListener(((s,l)=>Fv(t.remoteStore,l))),a._onlineComponents=t}async function WC(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){rt(Zr,"Using user provided OfflineComponentProvider");try{await Ld(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Fa("Error using user provided cache. Falling back to memory cache: "+i),await Ld(a,new $c)}}else rt(Zr,"Using default OfflineComponentProvider"),await Ld(a,new ZC(void 0));return a._offlineComponents}async function p0(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(rt(Zr,"Using user provided OnlineComponentProvider"),await Jv(a,a._uninitializedComponentsProvider._online)):(rt(Zr,"Using default OnlineComponentProvider"),await Jv(a,new lm))),a._onlineComponents}function t2(a){return p0(a).then((t=>t.syncEngine))}async function $v(a){const t=await p0(a),i=t.eventManager;return i.onListen=kC.bind(null,t.syncEngine),i.onUnlisten=BC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=PC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=qC.bind(null,t.syncEngine),i}function y0(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}const Wv=new Map;const _0="firestore.googleapis.com",tE=!0;class eE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new it(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_0,this.ssl=tE}else this.host=t.host,this.ssl=t.ssl??tE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=ZT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<OI)throw new it(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}dR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=y0(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new it(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new it(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new it(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class yh{constructor(t,i,s,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new it(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new iR;switch(s.type){case"firstParty":return new oR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new it(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=Wv.get(i);s&&(rt("ComponentProvider","Removing Datastore"),Wv.delete(i),s.terminate())})(this),Promise.resolve()}}function e2(a,t,i,s={}){a=vl(a,yh);const l=Ja(t),c=a._getSettings(),d={...c,emulatorOptions:a._getEmulatorOptions()},p=`${t}:${i}`;l&&(pE(`https://${p}`),yE("Firestore",!0)),c.host!==_0&&c.host!==p&&Fa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:s};if(!Us(y,d)&&(a._setSettings(y),s.mockUserToken)){let v,A;if(typeof s.mockUserToken=="string")v=s.mockUserToken,A=Ye.MOCK_USER;else{v=CS(s.mockUserToken,a._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new it(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ye(S)}a._authCredentials=new rR(new oT(v,A))}}class Hs{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Hs(this.firestore,t,this._query)}}class Ne{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ne(this.firestore,t,this._key)}toJSON(){return{type:Ne._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,s){if(zl(i,Ne._jsonSchema))return new Ne(t,s||null,new ut(Wt.fromString(i.referencePath)))}}Ne._jsonSchemaVersion="firestore/documentReference/1.0",Ne._jsonSchema={type:Re("string",Ne._jsonSchemaVersion),referencePath:Re("string")};class Gr extends Hs{constructor(t,i,s){super(t,i,Om(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ne(this.firestore,null,new ut(t))}withConverter(t){return new Gr(this.firestore,t,this._path)}}function n2(a,t,...i){if(a=un(a),lT("collection","path",t),a instanceof yh){const s=Wt.fromString(t,...i);return dv(s),new Gr(a,null,s)}{if(!(a instanceof Ne||a instanceof Gr))throw new it(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Wt.fromString(t,...i));return dv(s),new Gr(a.firestore,null,s)}}function i2(a,t,...i){if(a=un(a),arguments.length===1&&(t=bm.newId()),lT("doc","path",t),a instanceof yh){const s=Wt.fromString(t,...i);return fv(s),new Ne(a,null,new ut(s))}{if(!(a instanceof Ne||a instanceof Gr))throw new it(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Wt.fromString(t,...i));return fv(s),new Ne(a.firestore,a instanceof Gr?a.converter:null,new ut(s))}}const nE="AsyncQueue";class iE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new t0(this,"async_queue_retry"),this._c=()=>{const s=xd();s&&rt(nE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const i=xd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=xd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Vs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!no(t))throw t;rt(nE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Wi("INTERNAL UNHANDLED ERROR: ",rE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(t,i,s){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Hm.createAndSchedule(this,t,i,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&mt(47125,{Pc:rE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function rE(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}function sE(a){return(function(i,s){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1})(a,["next","error","complete"])}class Wc extends yh{constructor(t,i,s,l){super(t,i,s,l),this.type="firestore",this._queue=new iE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new iE(t),this._firestoreClient=void 0,await t}}}function r2(a,t){const i=typeof a=="object"?a:TE(),s=typeof a=="string"?a:Fc,l=fm(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=RS("firestore");c&&e2(l,...c)}return l}function v0(a){if(a._terminated)throw new it(X.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||s2(a),a._firestoreClient}function s2(a){const t=a._freezeSettings(),i=(function(l,c,d,p){return new bR(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,y0(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new $C(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(a._componentsProvider))}class Mn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Mn(Fe.fromBase64String(t))}catch(i){throw new it(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Mn(Fe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(zl(t,Mn._jsonSchema))return Mn.fromBase64String(t.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:Re("string",Mn._jsonSchemaVersion),bytes:Re("string")};class Ym{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new it(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Xm{constructor(t){this._methodName=t}}class Si{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new it(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new it(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Si._jsonSchemaVersion}}static fromJSON(t){if(zl(t,Si._jsonSchema))return new Si(t.latitude,t.longitude)}}Si._jsonSchemaVersion="firestore/geoPoint/1.0",Si._jsonSchema={type:Re("string",Si._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};class bi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(zl(t,bi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new bi(t.vectorValues);throw new it(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}bi._jsonSchemaVersion="firestore/vectorValue/1.0",bi._jsonSchema={type:Re("string",bi._jsonSchemaVersion),vectorValues:Re("object")};const a2=/^__.*__$/;class o2{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new qs(t,this.data,this.fieldMask,i,this.fieldTransforms):new Bl(t,this.data,i,this.fieldTransforms)}}function E0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt(40011,{Ac:a})}}class Zm{constructor(t,i,s,l,c,d){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Zm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.gc(t),s}yc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return th(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(E0(this.Ac)&&a2.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class l2{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||mh(t)}Cc(t,i,s,l=!1){return new Zm({Ac:t,methodName:i,Dc:s,path:Ge.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function T0(a){const t=a._freezeSettings(),i=mh(a._databaseId);return new l2(a._databaseId,!!t.ignoreUndefinedProperties,i)}function u2(a,t,i,s,l,c={}){const d=a.Cc(c.merge||c.mergeFields?2:0,t,i,l);b0("Data must be an object, but it was:",d,s);const p=A0(s,d);let y,v;if(c.merge)y=new Yn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const D=h2(t,S,i);if(!d.contains(D))throw new it(X.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);d2(A,D)||A.push(D)}y=new Yn(A),v=d.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,v=d.fieldTransforms;return new o2(new Vn(p),y,v)}class Jm extends Xm{_toFieldTransform(t){return new ZR(t.path,new Nl)}isEqual(t){return t instanceof Jm}}function c2(a,t,i,s=!1){return $m(i,a.Cc(s?4:3,t))}function $m(a,t){if(S0(a=un(a)))return b0("Unsupported field value:",t,a),A0(a,t);if(a instanceof Xm)return(function(s,l){if(!E0(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,l){const c=[];let d=0;for(const p of s){let y=$m(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(a,t)}return(function(s,l){if((s=un(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return KR(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ne.fromDate(s);return{timestampValue:Xc(l.serializer,c)}}if(s instanceof ne){const c=new ne(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Xc(l.serializer,c)}}if(s instanceof Si)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Mn)return{bytesValue:HT(l.serializer,s._byteString)};if(s instanceof Ne){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Um(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof bi)return(function(d,p){return{mapValue:{fields:{[yT]:{stringValue:_T},[Qc]:{arrayValue:{values:d.toArray().map((v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return Nm(p.serializer,v)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${sh(s)}`)})(a,t)}function A0(a,t){const i={};return hT(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zs(a,((s,l)=>{const c=$m(l,t.mc(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function S0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof ne||a instanceof Si||a instanceof Mn||a instanceof Ne||a instanceof Xm||a instanceof bi)}function b0(a,t,i){if(!S0(i)||!uT(i)){const s=sh(i);throw s==="an object"?t.Sc(a+" a custom object"):t.Sc(a+" "+s)}}function h2(a,t,i){if((t=un(t))instanceof Ym)return t._internalPath;if(typeof t=="string")return w0(a,t);throw th("Field path arguments must be of type string or ",a,!1,void 0,i)}const f2=new RegExp("[~\\*/\\[\\]]");function w0(a,t,i){if(t.search(f2)>=0)throw th(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Ym(...t.split("."))._internalPath}catch{throw th(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function th(a,t,i,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${s}`),d&&(y+=` in document ${l}`),y+=")"),new it(X.INVALID_ARGUMENT,p+a+y)}function d2(a,t){return a.some((i=>i.isEqual(t)))}class R0{constructor(t,i,s,l,c){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ne(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new m2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(_h("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class m2 extends R0{data(){return super.data()}}function _h(a,t){return typeof t=="string"?w0(a,t):t instanceof Ym?t._internalPath:t._delegate._internalPath}function g2(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new it(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wm{}class I0 extends Wm{}function p2(a,t,...i){let s=[];t instanceof Wm&&s.push(t),s=s.concat(i),(function(c){const d=c.filter((y=>y instanceof tg)).length,p=c.filter((y=>y instanceof vh)).length;if(d>1||d>0&&p>0)throw new it(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)a=l._apply(a);return a}class vh extends I0{constructor(t,i,s){super(),this._field=t,this._op=i,this._value=s,this.type="where"}static _create(t,i,s){return new vh(t,i,s)}_apply(t){const i=this._parse(t);return C0(t._query,i),new Hs(t.firestore,t.converter,$d(t._query,i))}_parse(t){const i=T0(t.firestore);return(function(c,d,p,y,v,A,S){let D;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new it(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){oE(S,A);const F=[];for(const $ of S)F.push(aE(y,c,$));D={arrayValue:{values:F}}}else D=aE(y,c,S)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||oE(S,A),D=c2(p,d,S,A==="in"||A==="not-in");return we.create(v,A,D)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function y2(a,t,i){const s=t,l=_h("where",a);return vh._create(l,s,i)}class tg extends Wm{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new tg(t,i)}_parse(t){const i=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:Zn.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const y of p)C0(d,y),d=$d(d,y)})(t._query,i),new Hs(t.firestore,t.converter,$d(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class eg extends I0{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new eg(t,i)}_apply(t){const i=(function(l,c,d){if(l.startAt!==null)throw new it(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new it(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ol(c,d)})(t._query,this._field,this._direction);return new Hs(t.firestore,t.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new io(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,i))}}function _2(a,t="asc"){const i=t,s=_h("orderBy",a);return eg._create(s,i)}function aE(a,t,i){if(typeof(i=un(i))=="string"){if(i==="")throw new it(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RT(t)&&i.indexOf("/")!==-1)throw new it(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=t.path.child(Wt.fromString(i));if(!ut.isDocumentKey(s))throw new it(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Tv(a,new ut(s))}if(i instanceof Ne)return Tv(a,i._key);throw new it(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sh(i)}.`)}function oE(a,t){if(!Array.isArray(a)||a.length===0)throw new it(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function C0(a,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(a.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new it(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new it(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class v2{convertValue(t,i="none"){switch(Yr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Kr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw mt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return zs(t,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(t){const i=t.fields?.[Qc].arrayValue?.values?.map((s=>me(s.doubleValue)));return new bi(i)}convertGeoPoint(t){return new Si(me(t.latitude),me(t.longitude))}convertArray(t,i){return(t.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const s=lh(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Il(t));default:return null}}convertTimestamp(t){const i=Qr(t);return new ne(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=Wt.fromString(t);qt(XT(s),9688,{name:t});const l=new Cl(s.get(1),s.get(3)),c=new ut(s.popFirst(5));return l.isEqual(i)||Wi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function E2(a,t,i){let s;return s=a?a.toFirestore(t):t,s}class pl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ms extends R0{constructor(t,i,s,l,c,d){super(t,i,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(_h("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Ms._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ms._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ms._jsonSchema={type:Re("string",Ms._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class Uc extends Ms{data(t={}){return super.data(t)}}class ja{constructor(t,i,s,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new pl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((s=>{t.call(i,new Uc(this._firestore,this._userDataWriter,s.key,s,new pl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new it(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new Uc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new pl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Uc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new pl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,A=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:T2(p.type),doc:y,oldIndex:v,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ja._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=bm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function T2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt(61501,{type:a})}}ja._jsonSchemaVersion="firestore/querySnapshot/1.0",ja._jsonSchema={type:Re("string",ja._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};class D0 extends v2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Mn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ne(this.firestore,null,i)}}function A2(a,t){const i=vl(a.firestore,Wc),s=i2(a),l=E2(a.converter,t);return b2(i,[u2(T0(a.firestore),"addDoc",s._key,l,a.converter!==null,{}).toMutation(s._key,Zi.exists(!1))]).then((()=>s))}function S2(a,...t){a=un(a);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||sE(t[s])||(i=t[s++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(sE(t[s])){const y=t[s];t[s]=y.next?.bind(y),t[s+1]=y.error?.bind(y),t[s+2]=y.complete?.bind(y)}let c,d,p;if(a instanceof Ne)d=vl(a.firestore,Wc),p=Om(a._key.path),c={next:y=>{t[s]&&t[s](w2(d,a,y))},error:t[s+1],complete:t[s+2]};else{const y=vl(a,Hs);d=vl(y.firestore,Wc),p=y._query;const v=new D0(d);c={next:A=>{t[s]&&t[s](new ja(d,v,y,A))},error:t[s+1],complete:t[s+2]},g2(a._query)}return(function(v,A,S,D){const j=new JC(D),F=new VC(A,j,S);return v.asyncQueue.enqueueAndForget((async()=>CC(await $v(v),F))),()=>{j.Nu(),v.asyncQueue.enqueueAndForget((async()=>DC(await $v(v),F)))}})(v0(d),p,l,c)}function b2(a,t){return(function(s,l){const c=new Vs;return s.asyncQueue.enqueueAndForget((async()=>jC(await t2(s),l,c))),c.promise})(v0(a),t)}function w2(a,t,i){const s=i.docs.get(t._key),l=new D0(a);return new Ms(a,l,t._key,s,new pl(i.hasPendingWrites,i.fromCache),t.converter)}function R2(){return new Jm("serverTimestamp")}(function(t,i=!0){(function(l){to=l})($a),Ha(new xs("firestore",((s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),p=new Wc(new sR(s.getProvider("auth-internal")),new lR(d,s.getProvider("app-check-internal")),(function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new it(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cl(v.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),jr(lv,uv,t),jr(lv,uv,"esm2020")})();const I2={apiKey:"AIzaSyAg0GdJX4FbIfzxa3MZZe-IIXij7Yd1K-Y",authDomain:"chat-app-c2595.firebaseapp.com",projectId:"chat-app-c2595",storageBucket:"chat-app-c2595.firebasestorage.app",messagingSenderId:"159101771578",appId:"1:159101771578:web:671157787324fe07203a03"},O0=EE(I2),ng=eR(O0),C2=new Ki,D2=r2(O0);var fl={},lE;function O2(){if(lE)return fl;lE=1,Object.defineProperty(fl,"__esModule",{value:!0}),fl.parse=d,fl.serialize=v;const a=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,c=(()=>{const D=function(){};return D.prototype=Object.create(null),D})();function d(D,j){const F=new c,$=D.length;if($<2)return F;const J=j?.decode||A;let nt=0;do{const ht=D.indexOf("=",nt);if(ht===-1)break;const dt=D.indexOf(";",nt),xt=dt===-1?$:dt;if(ht>xt){nt=D.lastIndexOf(";",ht-1)+1;continue}const Kt=p(D,nt,ht),Nt=y(D,ht,Kt),C=D.slice(Kt,Nt);if(F[C]===void 0){let b=p(D,ht+1,xt),I=y(D,xt,b);const M=J(D.slice(b,I));F[C]=M}nt=xt+1}while(nt<$);return F}function p(D,j,F){do{const $=D.charCodeAt(j);if($!==32&&$!==9)return j}while(++j<F);return F}function y(D,j,F){for(;j>F;){const $=D.charCodeAt(--j);if($!==32&&$!==9)return j+1}return F}function v(D,j,F){const $=F?.encode||encodeURIComponent;if(!a.test(D))throw new TypeError(`argument name is invalid: ${D}`);const J=$(j);if(!t.test(J))throw new TypeError(`argument val is invalid: ${j}`);let nt=D+"="+J;if(!F)return nt;if(F.maxAge!==void 0){if(!Number.isInteger(F.maxAge))throw new TypeError(`option maxAge is invalid: ${F.maxAge}`);nt+="; Max-Age="+F.maxAge}if(F.domain){if(!i.test(F.domain))throw new TypeError(`option domain is invalid: ${F.domain}`);nt+="; Domain="+F.domain}if(F.path){if(!s.test(F.path))throw new TypeError(`option path is invalid: ${F.path}`);nt+="; Path="+F.path}if(F.expires){if(!S(F.expires)||!Number.isFinite(F.expires.valueOf()))throw new TypeError(`option expires is invalid: ${F.expires}`);nt+="; Expires="+F.expires.toUTCString()}if(F.httpOnly&&(nt+="; HttpOnly"),F.secure&&(nt+="; Secure"),F.partitioned&&(nt+="; Partitioned"),F.priority)switch(typeof F.priority=="string"?F.priority.toLowerCase():void 0){case"low":nt+="; Priority=Low";break;case"medium":nt+="; Priority=Medium";break;case"high":nt+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${F.priority}`)}if(F.sameSite)switch(typeof F.sameSite=="string"?F.sameSite.toLowerCase():F.sameSite){case!0:case"strict":nt+="; SameSite=Strict";break;case"lax":nt+="; SameSite=Lax";break;case"none":nt+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${F.sameSite}`)}return nt}function A(D){if(D.indexOf("%")===-1)return D;try{return decodeURIComponent(D)}catch{return D}}function S(D){return l.call(D)==="[object Date]"}return fl}var xc=O2();function N2(){const a=typeof global>"u"?void 0:global.TEST_HAS_DOCUMENT_COOKIE;return typeof a=="boolean"?a:typeof document=="object"&&typeof document.cookie=="string"}function V2(a){return typeof a=="string"?xc.parse(a):typeof a=="object"&&a!==null?a:{}}function kd(a,t={}){const i=M2(a);if(!t.doNotParse)try{return JSON.parse(i)}catch{}return a}function M2(a){return a&&a[0]==="j"&&a[1]===":"?a.substr(2):a}class N0{constructor(t,i={}){this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.update=()=>{if(!this.HAS_DOCUMENT_COOKIE)return;const l=this.cookies;this.cookies=xc.parse(document.cookie),this._checkChanges(l)};const s=typeof document>"u"?"":document.cookie;this.cookies=V2(t||s),this.defaultSetOptions=i,this.HAS_DOCUMENT_COOKIE=N2()}_emitChange(t){for(let i=0;i<this.changeListeners.length;++i)this.changeListeners[i](t)}_checkChanges(t){new Set(Object.keys(t).concat(Object.keys(this.cookies))).forEach(s=>{t[s]!==this.cookies[s]&&this._emitChange({name:s,value:kd(this.cookies[s])})})}_startPolling(){this.pollingInterval=setInterval(this.update,300)}_stopPolling(){this.pollingInterval&&clearInterval(this.pollingInterval)}get(t,i={}){return i.doNotUpdate||this.update(),kd(this.cookies[t],i)}getAll(t={}){t.doNotUpdate||this.update();const i={};for(let s in this.cookies)i[s]=kd(this.cookies[s],t);return i}set(t,i,s){s?s=Object.assign(Object.assign({},this.defaultSetOptions),s):s=this.defaultSetOptions;const l=typeof i=="string"?i:JSON.stringify(i);this.cookies=Object.assign(Object.assign({},this.cookies),{[t]:l}),this.HAS_DOCUMENT_COOKIE&&(document.cookie=xc.serialize(t,l,s)),this._emitChange({name:t,value:i,options:s})}remove(t,i){const s=i=Object.assign(Object.assign(Object.assign({},this.defaultSetOptions),i),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=Object.assign({},this.cookies),delete this.cookies[t],this.HAS_DOCUMENT_COOKIE&&(document.cookie=xc.serialize(t,"",s)),this._emitChange({name:t,value:void 0,options:i})}addChangeListener(t){this.changeListeners.push(t),this.HAS_DOCUMENT_COOKIE&&this.changeListeners.length===1&&(typeof window=="object"&&"cookieStore"in window?window.cookieStore.addEventListener("change",this.update):this._startPolling())}removeChangeListener(t){const i=this.changeListeners.indexOf(t);i>=0&&this.changeListeners.splice(i,1),this.HAS_DOCUMENT_COOKIE&&this.changeListeners.length===0&&(typeof window=="object"&&"cookieStore"in window?window.cookieStore.removeEventListener("change",this.update):this._stopPolling())}removeAllChangeListeners(){for(;this.changeListeners.length>0;)this.removeChangeListener(this.changeListeners[0])}}const U2=new N0,x2=({setIsAuth:a})=>{const t=async()=>{try{const i=await cw(ng,C2);U2.set("auth-token",i.user.refreshToken),a(!0)}catch(i){console.error(i)}};return Qt.jsx(Qt.Fragment,{children:Qt.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 h-screen",children:[Qt.jsx("p",{className:"text-white text-3xl font-bold",children:"Chat App"}),Qt.jsx("button",{className:"bg-[#ececec] h-10 w-40 text-black text-[13px] font-bold rounded shadow-md hover:scale-105 active:bg-[#c4c4c4] active:scale-95 transition-all ease-out",onClick:t,children:"Sign In With Google"})]})})},L2=({room:a})=>{const[t,i]=Qi.useState(""),[s,l]=Qi.useState([]),c=n2(D2,"messages"),d=Qi.useRef(null);Qi.useEffect(()=>{const y=p2(c,y2("room","==",a),_2("createdAt")),v=S2(y,A=>{let S=[];A.forEach(D=>{S.push({...D.data(),id:D.id})}),l(S)});return()=>v()},[]);const p=async y=>{y.preventDefault(),t!==""&&(await A2(c,{text:t,createdAt:R2(),user:ng.currentUser.displayName,room:a}),i(""))};return Qi.useEffect(()=>{d.current?.scrollIntoView({behavior:"smooth"})},[s]),Qt.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center px-3 py-6",children:Qt.jsxs("div",{className:"bg-white w-full max-w-md sm:max-w-xl md:max-w-2xl border-2 border-blue-950 rounded",children:[Qt.jsxs("h1",{className:"bg-blue-950 text-white font-bold py-4 text-center text-lg sm:text-2xl",children:["Welcome to: ",a]}),Qt.jsxs("div",{className:"p-3 sm:p-4 space-y-2 max-h-[55vh] overflow-y-auto",children:[s.map(y=>Qt.jsxs("div",{className:"text-base sm:text-xl wrap-break-word",children:[Qt.jsxs("span",{className:"font-bold mr-1",children:[y.user,":"]}),y.text]},y.id)),Qt.jsx("div",{ref:d})]}),Qt.jsx("div",{className:"border-t border-blue-950 p-3",children:Qt.jsxs("form",{onSubmit:p,className:"flex items-center gap-2 sm:gap-4",children:[Qt.jsx("input",{onChange:y=>i(y.target.value),className:"bg-[#ececec] h-10 rounded shadow-md text-black px-3 flex-1 w-full",placeholder:"Type your message here",value:t}),Qt.jsx("button",{type:"submit",className:"bg-[#ececec] h-10 w-20 text-black text-[13px] font-bold rounded shadow-md hover:scale-105 active:bg-[#c4c4c4] active:scale-95 transition-all ease-out shrink-0",children:"Send"})]})})]})})},uE=new N0,k2=()=>{const[a,t]=Qi.useState(uE.get("auth-token")),[i,s]=Qi.useState(null),l=Qi.useRef(null);if(!a)return Qt.jsx(Qt.Fragment,{children:Qt.jsx(x2,{setIsAuth:t})});const c=async()=>{await Gb(ng),uE.remove("auth-token"),t(!1),s(null)};return Qt.jsxs(Qt.Fragment,{children:[Qt.jsx("button",{className:" fixed top-4 left-4 bg-[#ececec] h-7 w-20 text-black text-[13px] font-bold rounded shadow-md hover:scale-105 active:scale-95 transition-all ease-out z-50",onClick:c,children:"Logout"}),i?Qt.jsx(L2,{room:i}):Qt.jsxs("div",{className:"flex flex-col h-screen justify-center items-center gap-2",children:[Qt.jsx("label",{className:"font-bold text-3xl mb-10 text-white",children:"Enter Room Name:"}),Qt.jsx("input",{className:"bg-[#ececec] border-none",ref:l}),Qt.jsx("button",{className:"bg-[#ececec] h-10 w-40 text-black text-[13px] font-bold rounded shadow-md hover:scale-105 active:bg-[#c4c4c4] active:scale-95 transition-all ease-out",onClick:()=>s(l.current.value),children:"Enter Chat"})]})]})};yS.createRoot(document.getElementById("root")).render(Qt.jsx(Qi.StrictMode,{children:Qt.jsx(k2,{})}));
